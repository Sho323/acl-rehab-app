(()=>{"use strict";var e={8924:(e,t,n)=>{n.r(t),n.d(t,{default:()=>un});var i,r,o=n(6665),s=n(6520),a=n(2394),l=n(5530),d=n(4386),c=n(7451),u=n(4467),f=n(467),g=n(2291),m=n(7109),p=(null==(i=n(2035).default.expoConfig)||null==(r=i.extra)?void 0:r.apiUrl)||"https://acl-rehab-2oz8e3lyq-shotas-projects-1f553362.vercel.app",h=m.default.create({baseURL:p,timeout:1e4,headers:{"Content-Type":"application/json"}});h.interceptors.request.use(function(e){return e},function(e){return Promise.reject(e)}),h.interceptors.response.use(function(e){return e.data},function(e){var t;return null==(t=e.response)||t.status,Promise.reject(e)});var y={login:function(){var e=(0,f.default)(function*(e,t){return yield h.post("/auth/login",{patientNumber:e,password:t})});return function(t,n){return e.apply(this,arguments)}}(),getProfile:function(){var e=(0,f.default)(function*(e){return yield h.get("/auth/profile",{headers:{Authorization:`Bearer ${e}`}})});return function(t){return e.apply(this,arguments)}}(),logout:function(){var e=(0,f.default)(function*(e){return yield h.post("/auth/logout",{},{headers:{Authorization:`Bearer ${e}`}})});return function(t){return e.apply(this,arguments)}}()},x={getCategories:function(){var e=(0,f.default)(function*(e,t){var n=e?`?phase=${e}`:"";return yield h.get(`/api/exercises/categories${n}`,{headers:{Authorization:`Bearer ${t}`}})});return function(t,n){return e.apply(this,arguments)}}(),getExercisesByPhase:function(){var e=(0,f.default)(function*(e,t){return yield h.get(`/api/exercises/phase/${e}`,{headers:{Authorization:`Bearer ${t}`}})});return function(t,n){return e.apply(this,arguments)}}(),getExercisesByCategory:function(){var e=(0,f.default)(function*(e,t){return yield h.get(`/api/exercises/category/${e}`,{headers:{Authorization:`Bearer ${t}`}})});return function(t,n){return e.apply(this,arguments)}}(),getPatientExercisePlan:function(){var e=(0,f.default)(function*(e,t,n){return yield h.get(`/api/exercises/patient/${e}/plan?phase=${t}`,{headers:{Authorization:`Bearer ${n}`}})});return function(t,n,i){return e.apply(this,arguments)}}(),getExerciseDetails:function(){var e=(0,f.default)(function*(e,t){return yield h.get(`/api/exercises/${e}`,{headers:{Authorization:`Bearer ${t}`}})});return function(t,n){return e.apply(this,arguments)}}(),recordSession:function(){var e=(0,f.default)(function*(e,t){return yield h.post("/api/exercises/session",e,{headers:{Authorization:`Bearer ${t}`}})});return function(t,n){return e.apply(this,arguments)}}(),uploadVideo:function(){var e=(0,f.default)(function*(e,t){return yield h.post("/api/patient/videos/upload",e,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"multipart/form-data"}})});return function(t,n){return e.apply(this,arguments)}}()},j={getProgress:function(){var e=(0,f.default)(function*(e){return yield h.get("/api/patient/progress",{headers:{Authorization:`Bearer ${e}`}})});return function(t){return e.apply(this,arguments)}}(),submitACLRSI:function(){var e=(0,f.default)(function*(e,t){return yield h.post("/api/patient/tests/acl-rsi",e,{headers:{Authorization:`Bearer ${t}`}})});return function(t,n){return e.apply(this,arguments)}}()},v={getMedicalStaff:function(){var e=(0,f.default)(function*(e,t){return yield h.get(`/api/medical-collaboration/staff?patientId=${e}`,{headers:{Authorization:`Bearer ${t}`}})});return function(t,n){return e.apply(this,arguments)}}(),sendReport:function(){var e=(0,f.default)(function*(e,t){return yield h.post("/api/medical-collaboration/reports",e,{headers:{Authorization:`Bearer ${t}`}})});return function(t,n){return e.apply(this,arguments)}}(),getMessages:function(){var e=(0,f.default)(function*(e,t,n){return yield h.get(`/api/medical-collaboration/messages?patientId=${e}&limit=${t}`,{headers:{Authorization:`Bearer ${n}`}})});return function(t,n,i){return e.apply(this,arguments)}}(),sendMessage:function(){var e=(0,f.default)(function*(e,t){return yield h.post("/api/medical-collaboration/messages",e,{headers:{Authorization:`Bearer ${t}`}})});return function(t,n){return e.apply(this,arguments)}}(),getAppointments:function(){var e=(0,f.default)(function*(e,t){return yield h.get(`/api/medical-collaboration/appointments?patientId=${e}`,{headers:{Authorization:`Bearer ${t}`}})});return function(t,n){return e.apply(this,arguments)}}()};function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){(0,u.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var S=(0,c.createAsyncThunk)("auth/loginUser",function(){var e=(0,f.default)(function*(e,t){var n=e.patientNumber,i=e.password,r=t.rejectWithValue;try{var o=yield y.login(n,i);return yield g.setItemAsync("userToken",o.token),{user:o.user,token:o.token}}catch(l){var s,a;return r((null==(s=l.response)||null==(a=s.data)?void 0:a.error)||"\u30ed\u30b0\u30a4\u30f3\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}});return function(t,n){return e.apply(this,arguments)}}()),b=(0,c.createAsyncThunk)("auth/logoutUser",function(){var e=(0,f.default)(function*(e,t){var n=t.rejectWithValue;try{return yield g.deleteItemAsync("userToken"),null}catch(i){return n("\u30ed\u30b0\u30a2\u30a6\u30c8\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}});return function(t,n){return e.apply(this,arguments)}}()),T=(0,c.createAsyncThunk)("auth/checkAuthToken",function(){var e=(0,f.default)(function*(e,t){var n=t.rejectWithValue;try{var i=yield g.getItemAsync("userToken");if(!i)throw new Error("No token found");return{user:(yield y.getProfile(i)).user,token:i}}catch(r){return yield g.deleteItemAsync("userToken"),n("\u8a8d\u8a3c\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}});return function(t,n){return e.apply(this,arguments)}}()),w=(0,c.createSlice)({name:"auth",initialState:{user:null,token:null,isLoading:!1,isAuthenticated:!1,error:null},reducers:{clearError:function(e){e.error=null},updateUserProfile:function(e,t){e.user&&(e.user=C(C({},e.user),t.payload))},demoLogin:function(e,t){e.isAuthenticated=!0,e.user={id:"demo-user-1",name:"\u7530\u4e2d\u592a\u90ce",patientNumber:"DEMO001",currentPhase:t.payload.phase||"pre_surgery",surgeryDate:"2024-01-15",email:"demo@example.com"},e.token=null,e.error=null,e.isLoading=!1}},extraReducers:function(e){e.addCase(S.pending,function(e){e.isLoading=!0,e.error=null}).addCase(S.fulfilled,function(e,t){e.isLoading=!1,e.isAuthenticated=!0,e.user=t.payload.user,e.token=t.payload.token,e.error=null}).addCase(S.rejected,function(e,t){e.isLoading=!1,e.isAuthenticated=!1,e.user=null,e.token=null,e.error=t.payload}).addCase(b.fulfilled,function(e){e.isAuthenticated=!1,e.user=null,e.token=null,e.error=null}).addCase(T.pending,function(e){e.isLoading=!0}).addCase(T.fulfilled,function(e,t){e.isLoading=!1,e.isAuthenticated=!0,e.user=t.payload.user,e.token=t.payload.token}).addCase(T.rejected,function(e){e.isLoading=!1,e.isAuthenticated=!1,e.user=null,e.token=null})}}),D=w.actions,B=D.clearError,I=(D.updateUserProfile,D.demoLogin);const P=w.reducer;function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach(function(t){(0,u.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var O=(0,c.createAsyncThunk)("exercise/fetchCategories",function(){var e=(0,f.default)(function*(e,t){var n=e.phase,i=e.token,r=t.rejectWithValue;try{return yield x.getCategories(n,i)}catch(a){var o,s;return r((null==(o=a.response)||null==(s=o.data)?void 0:s.error)||"\u30ab\u30c6\u30b4\u30ea\u30fc\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}});return function(t,n){return e.apply(this,arguments)}}()),A=(0,c.createAsyncThunk)("exercise/fetchExercisesByPhase",function(){var e=(0,f.default)(function*(e,t){var n=e.phase,i=e.token,r=t.rejectWithValue;try{return yield x.getExercisesByPhase(n,i)}catch(a){var o,s;return r((null==(o=a.response)||null==(s=o.data)?void 0:s.error)||"\u904b\u52d5\u30e1\u30cb\u30e5\u30fc\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}});return function(t,n){return e.apply(this,arguments)}}()),L=(0,c.createAsyncThunk)("exercise/fetchPatientExercisePlan",function(){var e=(0,f.default)(function*(e,t){var n=e.patientId,i=e.phase,r=e.token,o=t.rejectWithValue;try{return yield x.getPatientExercisePlan(n,i,r)}catch(l){var s,a;return o((null==(s=l.response)||null==(a=s.data)?void 0:a.error)||"\u904b\u52d5\u30d7\u30e9\u30f3\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}});return function(t,n){return e.apply(this,arguments)}}()),R=(0,c.createAsyncThunk)("exercise/recordSession",function(){var e=(0,f.default)(function*(e,t){var n=e.sessionData,i=e.token,r=t.rejectWithValue;try{return yield x.recordSession(n,i)}catch(a){var o,s;return r((null==(o=a.response)||null==(s=o.data)?void 0:s.error)||"\u30bb\u30c3\u30b7\u30e7\u30f3\u8a18\u9332\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}});return function(t,n){return e.apply(this,arguments)}}()),F=(0,c.createSlice)({name:"exercise",initialState:{categories:[],exercises:[],patientPlan:[],currentSession:null,sessionHistory:[],isLoading:!1,error:null,currentExerciseIndex:0,exerciseProgress:{},currentPhase:"pre_surgery"},reducers:{clearError:function(e){e.error=null},setCurrentExerciseIndex:function(e,t){e.currentExerciseIndex=t.payload},updateExerciseProgress:function(e,t){var n=t.payload,i=n.exerciseId,r=n.progress;e.exerciseProgress[i]||(e.exerciseProgress[i]={}),e.exerciseProgress[i]=k(k({},e.exerciseProgress[i]),r)},resetExerciseProgress:function(e){e.exerciseProgress={},e.currentExerciseIndex=0},setCurrentPhase:function(e,t){e.currentPhase=t.payload},startLocalSession:function(e,t){e.currentSession={id:Date.now(),patientId:t.payload.patientId,phase:t.payload.phase,startTime:(new Date).toISOString(),exercises:[],painLevel:null,borgScale:null,location:null,notes:""}},endLocalSession:function(e){e.currentSession&&(e.currentSession.endTime=(new Date).toISOString(),e.currentSession.completed=!0)},addExerciseToSession:function(e,t){e.currentSession&&e.currentSession.exercises.push(t.payload)},setCurrentExercise:function(e,t){e.currentExercise=t.payload},completeExercise:function(e,t){var n=t.payload,i=n.exerciseId,r=n.sessionData;e.currentSession&&e.currentSession.exercises.push(k(k({exerciseId:i},r),{},{completedAt:(new Date).toISOString()})),e.exerciseProgress[i]&&(e.exerciseProgress[i].completed=!0)},updateSessionInfo:function(e,t){e.currentSession&&(e.currentSession=k(k({},e.currentSession),t.payload))},pauseSession:function(e){e.currentSession&&(e.currentSession.isPaused=!0,e.currentSession.pausedAt=(new Date).toISOString())},resumeSession:function(e){if(e.currentSession&&(e.currentSession.isPaused=!1,e.currentSession.pausedAt)){var t=new Date-new Date(e.currentSession.pausedAt);e.currentSession.totalPauseDuration=(e.currentSession.totalPauseDuration||0)+t}}},extraReducers:function(e){e.addCase(O.pending,function(e){e.isLoading=!0,e.error=null}).addCase(O.fulfilled,function(e,t){e.isLoading=!1,e.categories=t.payload,e.error=null}).addCase(O.rejected,function(e,t){e.isLoading=!1,e.error=t.payload}).addCase(A.pending,function(e){e.isLoading=!0,e.error=null}).addCase(A.fulfilled,function(e,t){e.isLoading=!1,e.exercises=t.payload,e.error=null}).addCase(A.rejected,function(e,t){e.isLoading=!1,e.error=t.payload}).addCase(L.pending,function(e){e.isLoading=!0,e.error=null}).addCase(L.fulfilled,function(e,t){e.isLoading=!1,e.patientPlan=t.payload,e.error=null}).addCase(L.rejected,function(e,t){e.isLoading=!1,e.error=t.payload}).addCase(R.pending,function(e){e.isLoading=!0,e.error=null}).addCase(R.fulfilled,function(e,t){e.isLoading=!1,e.sessionHistory.push(e.currentSession),e.currentSession=null,e.exerciseProgress={},e.currentExerciseIndex=0,e.error=null}).addCase(R.rejected,function(e,t){e.isLoading=!1,e.error=t.payload})}}),E=F.actions,W=E.clearError,q=(E.setCurrentExerciseIndex,E.updateExerciseProgress,E.resetExerciseProgress,E.setCurrentPhase),M=E.startLocalSession,H=E.endLocalSession,V=(E.addExerciseToSession,E.setCurrentExercise),$=E.completeExercise,N=E.updateSessionInfo,U=E.pauseSession,G=E.resumeSession;const K=F.reducer;function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach(function(t){(0,u.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Y=(0,c.createAsyncThunk)("progress/fetchProgressData",function(){var e=(0,f.default)(function*(e,t){var n=e.patientId,i=e.timeRange,r=e.token,o=t.rejectWithValue;try{return yield j.getProgressData(n,i,r)}catch(l){var s,a;return o((null==(s=l.response)||null==(a=s.data)?void 0:a.error)||"\u9032\u6357\u30c7\u30fc\u30bf\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}});return function(t,n){return e.apply(this,arguments)}}()),X=(0,c.createAsyncThunk)("progress/fetchSessionHistory",function(){var e=(0,f.default)(function*(e,t){var n=e.patientId,i=e.limit,r=e.token,o=t.rejectWithValue;try{return yield j.getSessionHistory(n,i,r)}catch(l){var s,a;return o((null==(s=l.response)||null==(a=s.data)?void 0:a.error)||"\u30bb\u30c3\u30b7\u30e7\u30f3\u5c65\u6b74\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}});return function(t,n){return e.apply(this,arguments)}}()),Z=(0,c.createAsyncThunk)("progress/fetchProgressStats",function(){var e=(0,f.default)(function*(e,t){var n=e.patientId,i=e.period,r=e.token,o=t.rejectWithValue;try{return yield j.getProgressStats(n,i,r)}catch(l){var s,a;return o((null==(s=l.response)||null==(a=s.data)?void 0:a.error)||"\u7d71\u8a08\u30c7\u30fc\u30bf\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}});return function(t,n){return e.apply(this,arguments)}}()),ee={weeklyGoal:{completed:0,total:6,targetSessions:6},monthlyGoal:{completed:0,total:24,targetSessions:24},monthlyStats:{sessionsCompleted:0,totalExercises:0,totalDuration:0,averagePainLevel:0,averageBorgScale:0,improvementRate:0},recentSessions:[],sessionHistory:[],painLevelTrend:[],borgScaleTrend:[],exerciseCountTrend:[],phaseProgressData:[],selectedTimeRange:"week",selectedMetric:"painLevel",isLoading:!1,error:null,lastUpdated:null},te=(0,c.createSlice)({name:"progress",initialState:ee,reducers:{addSessionToHistory:function(e,t){var n=Q({id:Date.now(),date:(new Date).toISOString().split("T")[0]},t.payload);e.recentSessions.unshift(n),e.sessionHistory.unshift(n),e.recentSessions.length>20&&(e.recentSessions=e.recentSessions.slice(0,20)),function(e){var t=e.recentSessions;if(0===t.length)return;var n=new Date,i=new Date(n.setDate(n.getDate()-n.getDay())),r=t.filter(function(e){return new Date(e.date)>=i});e.weeklyGoal.completed=r.length;var o=new Date(n.getFullYear(),n.getMonth(),1),s=t.filter(function(e){return new Date(e.date)>=o});e.monthlyStats.sessionsCompleted=s.length,s.length>0&&(e.monthlyStats.averagePainLevel=s.reduce(function(e,t){return e+(t.painLevel||0)},0)/s.length,e.monthlyStats.averageBorgScale=s.reduce(function(e,t){return e+(t.borgScale||0)},0)/s.length,e.monthlyStats.totalExercises=s.reduce(function(e,t){return e+(t.exercises||0)},0),e.monthlyStats.totalDuration=s.reduce(function(e,t){return e+(t.duration||0)},0))}(e)},setWeeklyGoal:function(e,t){e.weeklyGoal.targetSessions=t.payload,e.weeklyGoal.total=t.payload},setMonthlyGoal:function(e,t){e.monthlyGoal.targetSessions=t.payload,e.monthlyGoal.total=t.payload},setTimeRange:function(e,t){e.selectedTimeRange=t.payload},setSelectedMetric:function(e,t){e.selectedMetric=t.payload},clearError:function(e){e.error=null},resetProgress:function(e){return Q(Q({},ee),{},{selectedTimeRange:e.selectedTimeRange,selectedMetric:e.selectedMetric})},setDummyData:function(e){e.weeklyGoal={completed:4,total:6,targetSessions:6},e.monthlyStats={sessionsCompleted:18,totalExercises:156,totalDuration:450,averagePainLevel:2.3,averageBorgScale:12.5,improvementRate:15.2},e.recentSessions=[{id:1,date:"2024-12-25",exercises:8,duration:25,painLevel:2,borgScale:11,phase:"phase_3_2"},{id:2,date:"2024-12-23",exercises:6,duration:20,painLevel:3,borgScale:13,phase:"phase_3_2"},{id:3,date:"2024-12-21",exercises:7,duration:22,painLevel:2,borgScale:12,phase:"phase_3_1"},{id:4,date:"2024-12-19",exercises:9,duration:28,painLevel:4,borgScale:14,phase:"phase_3_1"},{id:5,date:"2024-12-17",exercises:5,duration:18,painLevel:3,borgScale:12,phase:"phase_3_1"}],e.painLevelTrend=[{date:"12/17",value:3},{date:"12/19",value:4},{date:"12/21",value:2},{date:"12/23",value:3},{date:"12/25",value:2}],e.borgScaleTrend=[{date:"12/17",value:12},{date:"12/19",value:14},{date:"12/21",value:12},{date:"12/23",value:13},{date:"12/25",value:11}],e.exerciseCountTrend=[{date:"12/17",value:5},{date:"12/19",value:9},{date:"12/21",value:7},{date:"12/23",value:6},{date:"12/25",value:8}],e.lastUpdated=(new Date).toISOString()}},extraReducers:function(e){e.addCase(Y.pending,function(e){e.isLoading=!0,e.error=null}).addCase(Y.fulfilled,function(e,t){e.isLoading=!1,e.monthlyStats=t.payload.stats,e.weeklyGoal=t.payload.weeklyGoal,e.monthlyGoal=t.payload.monthlyGoal,e.lastUpdated=(new Date).toISOString()}).addCase(Y.rejected,function(e,t){e.isLoading=!1,e.error=t.payload}).addCase(X.pending,function(e){e.isLoading=!0,e.error=null}).addCase(X.fulfilled,function(e,t){e.isLoading=!1,e.recentSessions=t.payload.sessions,e.sessionHistory=t.payload.sessions,e.lastUpdated=(new Date).toISOString()}).addCase(X.rejected,function(e,t){e.isLoading=!1,e.error=t.payload}).addCase(Z.pending,function(e){e.isLoading=!0,e.error=null}).addCase(Z.fulfilled,function(e,t){e.isLoading=!1,e.painLevelTrend=t.payload.painLevelTrend,e.borgScaleTrend=t.payload.borgScaleTrend,e.exerciseCountTrend=t.payload.exerciseCountTrend,e.phaseProgressData=t.payload.phaseProgressData,e.lastUpdated=(new Date).toISOString()}).addCase(Z.rejected,function(e,t){e.isLoading=!1,e.error=t.payload})}});var ne=te.actions,ie=(ne.addSessionToHistory,ne.setWeeklyGoal,ne.setMonthlyGoal,ne.setTimeRange,ne.setSelectedMetric,ne.clearError,ne.resetProgress,ne.setDummyData);const re=te.reducer;function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach(function(t){(0,u.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ae=(0,c.createAsyncThunk)("medicalCollaboration/fetchMedicalStaff",function(){var e=(0,f.default)(function*(e,t){var n=e.patientId,i=e.token,r=t.rejectWithValue;try{return yield v.getMedicalStaff(n,i)}catch(a){var o,s;return r((null==(o=a.response)||null==(s=o.data)?void 0:s.error)||"\u533b\u7642\u5f93\u4e8b\u8005\u60c5\u5831\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}});return function(t,n){return e.apply(this,arguments)}}()),le=(0,c.createAsyncThunk)("medicalCollaboration/sendReport",function(){var e=(0,f.default)(function*(e,t){var n=e.reportData,i=e.token,r=t.rejectWithValue;try{return yield v.sendReport(n,i)}catch(a){var o,s;return r((null==(o=a.response)||null==(s=o.data)?void 0:s.error)||"\u30ec\u30dd\u30fc\u30c8\u9001\u4fe1\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}});return function(t,n){return e.apply(this,arguments)}}()),de=(0,c.createAsyncThunk)("medicalCollaboration/fetchMessages",function(){var e=(0,f.default)(function*(e,t){var n=e.patientId,i=e.limit,r=e.token,o=t.rejectWithValue;try{return yield v.getMessages(n,i,r)}catch(l){var s,a;return o((null==(s=l.response)||null==(a=s.data)?void 0:a.error)||"\u30e1\u30c3\u30bb\u30fc\u30b8\u5c65\u6b74\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}});return function(t,n){return e.apply(this,arguments)}}()),ce=(0,c.createAsyncThunk)("medicalCollaboration/sendMessage",function(){var e=(0,f.default)(function*(e,t){var n=e.messageData,i=e.token,r=t.rejectWithValue;try{return yield v.sendMessage(n,i)}catch(a){var o,s;return r((null==(o=a.response)||null==(s=o.data)?void 0:s.error)||"\u30e1\u30c3\u30bb\u30fc\u30b8\u9001\u4fe1\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}});return function(t,n){return e.apply(this,arguments)}}()),ue=(0,c.createAsyncThunk)("medicalCollaboration/fetchAppointments",function(){var e=(0,f.default)(function*(e,t){var n=e.patientId,i=e.token,r=t.rejectWithValue;try{return yield v.getAppointments(n,i)}catch(a){var o,s;return r((null==(o=a.response)||null==(s=o.data)?void 0:s.error)||"\u4e88\u7d04\u60c5\u5831\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}});return function(t,n){return e.apply(this,arguments)}}()),fe=(0,c.createSlice)({name:"medicalCollaboration",initialState:{medicalStaff:{primaryDoctor:null,physiotherapist:null,nurses:[],specialists:[]},messages:[],unreadCount:0,activeConversation:null,sharedReports:[],pendingReports:[],reportTemplates:[],appointments:[],nextAppointment:null,notifications:[],alerts:[],sharingPreferences:{autoShareProgress:!0,autoShareACLRSI:!0,autoShareAIAnalysis:!1,weeklyReportEnabled:!0,emergencyContactEnabled:!0},notificationSettings:{newMessage:!0,appointmentReminder:!0,reportRequested:!0,urgentAlert:!0,weeklyDigest:!1},isLoading:!1,error:null,lastUpdated:null,activeTab:"team"},reducers:{addMessage:function(e,t){var n=se({id:Date.now().toString(),timestamp:(new Date).toISOString(),isRead:!0,isSent:!0},t.payload);e.messages.unshift(n),e.messages.length>100&&(e.messages=e.messages.slice(0,100))},markMessageAsRead:function(e,t){var n=t.payload,i=e.messages.find(function(e){return e.id===n});i&&!i.isRead&&(i.isRead=!0,e.unreadCount=Math.max(0,e.unreadCount-1))},markAllMessagesAsRead:function(e){e.messages.forEach(function(e){e.isRead=!0}),e.unreadCount=0},setActiveConversation:function(e,t){e.activeConversation=t.payload},addPendingReport:function(e,t){var n=se({id:Date.now().toString(),createdAt:(new Date).toISOString(),status:"pending"},t.payload);e.pendingReports.unshift(n)},updateReportStatus:function(e,t){var n=t.payload,i=n.reportId,r=n.status,o=e.pendingReports.findIndex(function(e){return e.id===i});if(-1!==o)if("sent"===r){var s=e.pendingReports[o];s.status="sent",s.sentAt=(new Date).toISOString(),e.sharedReports.unshift(s),e.pendingReports.splice(o,1)}else e.pendingReports[o].status=r},addNotification:function(e,t){var n=se({id:Date.now().toString(),timestamp:(new Date).toISOString(),isRead:!1},t.payload);e.notifications.unshift(n),"message"===n.type&&(e.unreadCount+=1),e.notifications.length>50&&(e.notifications=e.notifications.slice(0,50))},markNotificationAsRead:function(e,t){var n=t.payload,i=e.notifications.find(function(e){return e.id===n});i&&!i.isRead&&(i.isRead=!0)},addAlert:function(e,t){var n=se({id:Date.now().toString(),timestamp:(new Date).toISOString(),isActive:!0},t.payload);e.alerts.unshift(n),e.alerts.length>10&&(e.alerts=e.alerts.slice(0,10))},dismissAlert:function(e,t){var n=t.payload,i=e.alerts.find(function(e){return e.id===n});i&&(i.isActive=!1,i.dismissedAt=(new Date).toISOString())},updateSharingPreferences:function(e,t){e.sharingPreferences=se(se({},e.sharingPreferences),t.payload)},updateNotificationSettings:function(e,t){e.notificationSettings=se(se({},e.notificationSettings),t.payload)},setActiveTab:function(e,t){e.activeTab=t.payload},clearError:function(e){e.error=null},setDummyData:function(e){var t=new Date;e.medicalStaff={primaryDoctor:{id:"doc_001",name:"\u7530\u4e2d \u4e00\u90ce",title:"\u6574\u5f62\u5916\u79d1\u533b",specialization:"\u30b9\u30dd\u30fc\u30c4\u6574\u5f62\u5916\u79d1",hospital:"\u6771\u4eac\u30b9\u30dd\u30fc\u30c4\u533b\u7642\u30bb\u30f3\u30bf\u30fc",email:"tanaka@sports-med.jp",phone:"03-1234-5678",avatar:null,isOnline:!0,lastSeen:(new Date).toISOString()},physiotherapist:{id:"pt_001",name:"\u4f50\u85e4 \u82b1\u5b50",title:"\u7406\u5b66\u7642\u6cd5\u58eb",specialization:"\u30b9\u30dd\u30fc\u30c4\u30ea\u30cf\u30d3\u30ea\u30c6\u30fc\u30b7\u30e7\u30f3",hospital:"\u6771\u4eac\u30b9\u30dd\u30fc\u30c4\u533b\u7642\u30bb\u30f3\u30bf\u30fc",email:"sato@sports-med.jp",phone:"03-1234-5679",avatar:null,isOnline:!1,lastSeen:new Date(t.getTime()-18e5).toISOString()},nurses:[{id:"nurse_001",name:"\u5c71\u7530 \u6b21\u90ce",title:"\u770b\u8b77\u5e2b",specialization:"\u30ea\u30cf\u30d3\u30ea\u30c6\u30fc\u30b7\u30e7\u30f3\u770b\u8b77",hospital:"\u6771\u4eac\u30b9\u30dd\u30fc\u30c4\u533b\u7642\u30bb\u30f3\u30bf\u30fc",email:"yamada@sports-med.jp",avatar:null,isOnline:!0}],specialists:[{id:"spec_001",name:"\u9234\u6728 \u4e09\u90ce",title:"\u30b9\u30dd\u30fc\u30c4\u5fc3\u7406\u5b66\u8005",specialization:"\u5fa9\u5e30\u652f\u63f4\u30ab\u30a6\u30f3\u30bb\u30ea\u30f3\u30b0",hospital:"\u6771\u4eac\u30b9\u30dd\u30fc\u30c4\u533b\u7642\u30bb\u30f3\u30bf\u30fc",email:"suzuki@sports-med.jp",avatar:null,isOnline:!1}]},e.messages=[{id:"1",senderId:"pt_001",senderName:"\u4f50\u85e4 \u82b1\u5b50",senderTitle:"\u7406\u5b66\u7642\u6cd5\u58eb",content:"\u304a\u75b2\u308c\u69d8\u3067\u3059\u3002\u4eca\u65e5\u306e\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0\u306f\u3044\u304b\u304c\u3067\u3057\u305f\u304b\uff1f\u75db\u307f\u306e\u72b6\u6cc1\u306b\u3064\u3044\u3066\u6559\u3048\u3066\u304f\u3060\u3055\u3044\u3002",timestamp:new Date(t.getTime()-72e5).toISOString(),type:"text",isRead:!1,isSent:!1},{id:"2",senderId:"patient",senderName:"\u60a3\u8005",content:"\u304a\u75b2\u308c\u69d8\u3067\u3059\u3002\u4eca\u65e5\u306f\u8abf\u5b50\u304c\u826f\u304f\u3001\u75db\u307f\u30822/10\u7a0b\u5ea6\u3067\u3057\u305f\u3002\u30df\u30cb\u30b9\u30af\u30ef\u30c3\u30c8\u308210\u56de\xd73\u30bb\u30c3\u30c8\u5b8c\u4e86\u3067\u304d\u307e\u3057\u305f\u3002",timestamp:new Date(t.getTime()-54e5).toISOString(),type:"text",isRead:!0,isSent:!0},{id:"3",senderId:"doc_001",senderName:"\u7530\u4e2d \u4e00\u90ce",senderTitle:"\u6574\u5f62\u5916\u79d1\u533b",content:"\u7d4c\u904e\u826f\u597d\u3067\u3059\u306d\u3002\u6765\u9031\u306e\u8a3a\u5bdf\u3067\u6b21\u306e\u30d5\u30a7\u30fc\u30ba\u306b\u3064\u3044\u3066\u76f8\u8ac7\u3057\u307e\u3057\u3087\u3046\u3002ACL-RSI\u306e\u7d50\u679c\u3082\u62dd\u898b\u3057\u307e\u3057\u305f\u3002",timestamp:new Date(t.getTime()-864e5).toISOString(),type:"text",isRead:!0,isSent:!1}],e.unreadCount=1,e.sharedReports=[{id:"report_001",title:"\u9031\u9593\u9032\u6357\u30ec\u30dd\u30fc\u30c8",type:"weekly_progress",createdAt:new Date(t.getTime()-6048e5).toISOString(),sentAt:new Date(t.getTime()-6048e5+6e4).toISOString(),status:"sent",recipients:["doc_001","pt_001"],data:{sessionsCompleted:5,totalExercises:42,averagePainLevel:2.1,averageBorgScale:11.8,noteableProgress:"ROM\u6539\u5584\u3001\u7b4b\u529b\u5411\u4e0a\u78ba\u8a8d"}},{id:"report_002",title:"ACL-RSI\u8a55\u4fa1\u7d50\u679c",type:"acl_rsi",createdAt:new Date(t.getTime()-2592e5).toISOString(),sentAt:new Date(t.getTime()-2592e5+12e4).toISOString(),status:"sent",recipients:["doc_001","spec_001"],data:{totalScore:72,emotionScore:68,confidenceScore:75,interpretation:"\u6e96\u5099\u5ea6\u304c\u4e2d\u7a0b\u5ea6",recommendations:["\u7af6\u6280\u7279\u7570\u7684\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0","\u5fa9\u5e30\u8a08\u753b\u306e\u7b56\u5b9a"]}}],e.appointments=[{id:"apt_001",title:"\u7d4c\u904e\u89b3\u5bdf\u30fb\u8a3a\u5bdf",doctor:e.medicalStaff.primaryDoctor,datetime:new Date(t.getTime()+2592e5).toISOString(),duration:30,location:"\u6771\u4eac\u30b9\u30dd\u30fc\u30c4\u533b\u7642\u30bb\u30f3\u30bf\u30fc 3F \u8a3a\u5bdf\u5ba4A",type:"consultation",status:"confirmed",notes:"\u6b21\u30d5\u30a7\u30fc\u30ba\u3078\u306e\u79fb\u884c\u306b\u3064\u3044\u3066\u76f8\u8ac7"},{id:"apt_002",title:"\u30ea\u30cf\u30d3\u30ea\u30c6\u30fc\u30b7\u30e7\u30f3",doctor:e.medicalStaff.physiotherapist,datetime:new Date(t.getTime()+432e6).toISOString(),duration:60,location:"\u6771\u4eac\u30b9\u30dd\u30fc\u30c4\u533b\u7642\u30bb\u30f3\u30bf\u30fc 2F \u30ea\u30cf\u30d3\u30ea\u5ba4",type:"physiotherapy",status:"confirmed",notes:"\u6a5f\u80fd\u8a55\u4fa1\u3068\u30d7\u30ed\u30b0\u30e9\u30e0\u8abf\u6574"}],e.nextAppointment=e.appointments[0],e.notifications=[{id:"notif_001",type:"message",title:"\u7406\u5b66\u7642\u6cd5\u58eb\u304b\u3089\u30e1\u30c3\u30bb\u30fc\u30b8",content:"\u4eca\u65e5\u306e\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0\u306b\u3064\u3044\u3066\u8cea\u554f\u304c\u3042\u308a\u307e\u3059",timestamp:new Date(t.getTime()-72e5).toISOString(),isRead:!1,sender:e.medicalStaff.physiotherapist},{id:"notif_002",type:"appointment_reminder",title:"\u8a3a\u5bdf\u4e88\u7d04\u306e\u30ea\u30de\u30a4\u30f3\u30c0\u30fc",content:"3\u65e5\u5f8c\u306e\u8a3a\u5bdf\u4e88\u7d04\u304c\u3042\u308a\u307e\u3059",timestamp:new Date(t.getTime()-216e5).toISOString(),isRead:!0,appointment:e.appointments[0]},{id:"notif_003",type:"report_shared",title:"\u30ec\u30dd\u30fc\u30c8\u304c\u5171\u6709\u3055\u308c\u307e\u3057\u305f",content:"ACL-RSI\u8a55\u4fa1\u7d50\u679c\u304c\u533b\u7642\u5f93\u4e8b\u8005\u3068\u5171\u6709\u3055\u308c\u307e\u3057\u305f",timestamp:new Date(t.getTime()-2592e5).toISOString(),isRead:!0,report:e.sharedReports[1]}],e.lastUpdated=(new Date).toISOString()}},extraReducers:function(e){e.addCase(ae.pending,function(e){e.isLoading=!0,e.error=null}).addCase(ae.fulfilled,function(e,t){e.isLoading=!1,e.medicalStaff=t.payload.medicalStaff,e.lastUpdated=(new Date).toISOString()}).addCase(ae.rejected,function(e,t){e.isLoading=!1,e.error=t.payload}).addCase(le.pending,function(e){e.isLoading=!0,e.error=null}).addCase(le.fulfilled,function(e,t){e.isLoading=!1;var n=t.payload.reportId,i=e.pendingReports.findIndex(function(e){return e.id===n});if(-1!==i){var r=e.pendingReports[i];r.status="sent",r.sentAt=(new Date).toISOString(),e.sharedReports.unshift(r),e.pendingReports.splice(i,1)}}).addCase(le.rejected,function(e,t){e.isLoading=!1,e.error=t.payload}).addCase(de.pending,function(e){e.isLoading=!0,e.error=null}).addCase(de.fulfilled,function(e,t){e.isLoading=!1,e.messages=t.payload.messages,e.unreadCount=t.payload.unreadCount,e.lastUpdated=(new Date).toISOString()}).addCase(de.rejected,function(e,t){e.isLoading=!1,e.error=t.payload}).addCase(ce.pending,function(e){e.isLoading=!0,e.error=null}).addCase(ce.fulfilled,function(e,t){e.isLoading=!1;var n=se(se({},t.payload.message),{},{isSent:!0,isRead:!0});e.messages.unshift(n)}).addCase(ce.rejected,function(e,t){e.isLoading=!1,e.error=t.payload}).addCase(ue.pending,function(e){e.isLoading=!0,e.error=null}).addCase(ue.fulfilled,function(e,t){e.isLoading=!1,e.appointments=t.payload.appointments,e.nextAppointment=t.payload.nextAppointment,e.lastUpdated=(new Date).toISOString()}).addCase(ue.rejected,function(e,t){e.isLoading=!1,e.error=t.payload})}}),ge=fe.actions,me=(ge.addMessage,ge.markMessageAsRead,ge.markAllMessagesAsRead,ge.setActiveConversation,ge.addPendingReport),pe=(ge.updateReportStatus,ge.addNotification,ge.markNotificationAsRead,ge.addAlert,ge.dismissAlert),he=ge.updateSharingPreferences,ye=ge.updateNotificationSettings,xe=ge.setActiveTab,je=(ge.clearError,ge.setDummyData);const ve=fe.reducer;var _e=(0,c.configureStore)({reducer:{auth:P,exercise:K,progress:re,medicalCollaboration:ve},middleware:function(e){return e({serializableCheck:{ignoredActions:["persist/PERSIST"]}})}}),Ce=n(9884);function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach(function(t){(0,u.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Te=be(be({},Ce.MD3LightTheme),{},{colors:be(be({},Ce.MD3LightTheme.colors),{},{primary:"#2E7D32",primaryContainer:"#C8E6C9",secondary:"#1976D2",secondaryContainer:"#BBDEFB",tertiary:"#F57C00",surface:"#FFFFFF",surfaceVariant:"#F5F5F5",background:"#FAFAFA",error:"#D32F2F",onPrimary:"#FFFFFF",onSecondary:"#FFFFFF",onSurface:"#212121",onBackground:"#212121"}),fonts:be(be({},Ce.MD3LightTheme.fonts),{},{labelLarge:{fontFamily:"System",fontSize:16,fontWeight:"600"}})}),we=n(296),De=n(3929),Be=n(2686),Ie=n(4767),Pe=n(1690),ze=n(4075),ke=n.n(ze),Oe=n(305),Ae=n(8885),Le=n(6318),Re=n(1055),Fe=n(9299),Ee=n(1092),We=n(7514),qe=n(397),Me=function(e){var t=e.navigation,n=(0,o.useState)(""),i=(0,we.default)(n,2),r=i[0],s=i[1],a=(0,o.useState)(""),l=(0,we.default)(a,2),c=l[0],u=l[1],f=(0,o.useState)(!1),g=(0,we.default)(f,2),m=g[0],p=g[1],h=(0,d.useDispatch)(),y=(0,d.useSelector)(function(e){return e.auth}),x=y.isLoading,j=y.isAuthenticated,v=y.error;(0,o.useEffect)(function(){h(T())},[h]),(0,o.useEffect)(function(){j&&t.replace("Home")},[j,t]),(0,o.useEffect)(function(){v&&Pe.default.alert("\u30ed\u30b0\u30a4\u30f3\u30a8\u30e9\u30fc",v,[{text:"OK",onPress:function(){return h(B())}}])},[v,h]);var _=function(e){h(I({phase:e}))};return x?(0,qe.jsxs)(De.default,{style:He.loadingContainer,children:[(0,qe.jsx)(Oe.default,{size:"large"}),(0,qe.jsx)(Ae.default,{style:He.loadingText,children:"\u8a8d\u8a3c\u4e2d..."})]}):(0,qe.jsx)(Ie.default,{style:He.container,behavior:"height",children:(0,qe.jsxs)(De.default,{style:He.content,children:[(0,qe.jsx)(Le.default,{style:He.card,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsx)(Re.default,{style:He.title,children:"ACL \u30ea\u30cf\u30d3\u30ea\u30a2\u30d7\u30ea"}),(0,qe.jsx)(Fe.default,{style:He.subtitle,children:"\u524d\u5341\u5b57\u976d\u5e2f\u640d\u50b7\u60a3\u8005\u7528"}),(0,qe.jsx)(Ee.default,{label:"\u60a3\u8005\u756a\u53f7",value:r,onChangeText:s,mode:"outlined",style:He.input,autoCapitalize:"none",autoCorrect:!1,textContentType:"username",disabled:x}),(0,qe.jsx)(Ee.default,{label:"\u30d1\u30b9\u30ef\u30fc\u30c9",value:c,onChangeText:u,mode:"outlined",style:He.input,secureTextEntry:!m,right:(0,qe.jsx)(Ee.default.Icon,{icon:m?"eye-off":"eye",onPress:function(){return p(!m)}}),textContentType:"password",disabled:x}),(0,qe.jsx)(We.default,{mode:"contained",onPress:function(){r.trim()&&c.trim()?h(S({patientNumber:r.trim(),password:c})):Pe.default.alert("\u5165\u529b\u30a8\u30e9\u30fc","\u60a3\u8005\u756a\u53f7\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002")},style:He.loginButton,disabled:x,loading:x,children:"\u30ed\u30b0\u30a4\u30f3"}),(0,qe.jsx)(Ae.default,{style:He.helpText,children:"\u30ed\u30b0\u30a4\u30f3\u3067\u304a\u56f0\u308a\u306e\u5834\u5408\u306f\u3001\u62c5\u5f53\u306e\u533b\u7642\u5f93\u4e8b\u8005\u306b\u304a\u5c0b\u306d\u304f\u3060\u3055\u3044\u3002"})]})}),(0,qe.jsx)(Le.default,{style:[He.card,He.demoCard],children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsx)(Re.default,{style:He.demoTitle,children:"\u30c7\u30e2\u7248\uff08\u958b\u767a\u7528\uff09"}),(0,qe.jsx)(Fe.default,{style:He.demoSubtitle,children:"\u5404\u30ea\u30cf\u30d3\u30ea\u6bb5\u968e\u3092\u30c6\u30b9\u30c8\u3067\u304d\u307e\u3059"}),(0,qe.jsxs)(De.default,{style:He.demoButtonContainer,children:[(0,qe.jsx)(We.default,{mode:"outlined",onPress:function(){return _("pre_surgery")},style:He.demoButton,compact:!0,children:"\u8853\u524d\u671f"}),(0,qe.jsx)(We.default,{mode:"outlined",onPress:function(){return _("post_surgery_early")},style:He.demoButton,compact:!0,children:"\u8853\u76f4\u5f8c\u671f"}),(0,qe.jsx)(We.default,{mode:"outlined",onPress:function(){return _("phase_3_1")},style:He.demoButton,compact:!0,children:"\u57fa\u790e\u56de\u5fa9\u671f"})]}),(0,qe.jsxs)(De.default,{style:He.demoButtonContainer,children:[(0,qe.jsx)(We.default,{mode:"outlined",onPress:function(){return _("phase_3_2")},style:He.demoButton,compact:!0,children:"\u7b4b\u529b\u5f37\u5316\u671f"}),(0,qe.jsx)(We.default,{mode:"outlined",onPress:function(){return _("phase_3_3")},style:He.demoButton,compact:!0,children:"\u6a5f\u80fd\u8a13\u7df4\u671f"}),(0,qe.jsx)(We.default,{mode:"outlined",onPress:function(){return _("phase_3_4")},style:He.demoButton,compact:!0,children:"\u7af6\u6280\u5fa9\u5e30\u671f"})]})]})})]})})},He=Be.default.create({container:{flex:1,backgroundColor:"#f5f5f5"},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#f5f5f5"},loadingText:{marginTop:16,fontSize:16},content:{flex:1,justifyContent:"center",padding:20},card:{elevation:4,borderRadius:12},title:{textAlign:"center",marginBottom:8,fontSize:24,fontWeight:"bold"},subtitle:{textAlign:"center",marginBottom:32,color:"#666"},input:{marginBottom:16},loginButton:{marginTop:16,marginBottom:24,paddingVertical:8},helpText:{textAlign:"center",fontSize:12,color:"#666",lineHeight:18},demoCard:{marginTop:16,backgroundColor:"#FFF3E0"},demoTitle:{textAlign:"center",marginBottom:8,fontSize:18,color:"#E65100"},demoSubtitle:{textAlign:"center",marginBottom:16,color:"#BF360C",fontSize:12},demoButtonContainer:{flexDirection:"row",justifyContent:"space-between",marginBottom:8},demoButton:{flex:1,marginHorizontal:2,borderColor:"#FF9800"}});Me.propTypes={navigation:ke().shape({navigate:ke().func.isRequired,replace:ke().func.isRequired}).isRequired};const Ve=Me;var $e=n(2772),Ne=n(6725),Ue=n(1457),Ge=n(802),Ke=n(3172),Je=n(9793),Qe=(Ne.default.get("window").width,function(e){var t=e.navigation,n=(0,d.useDispatch)(),i=(0,d.useSelector)(function(e){return e.auth}).user,r=function(e){var t={pre_surgery:{title:"\u8853\u524d\u671f",description:"\u624b\u8853\u524d\u306e\u6e96\u5099\u671f\u9593",color:"#FF9800",progress:.1},post_surgery_early:{title:"\u8853\u76f4\u5f8c\u671f",description:"\u624b\u8853\u76f4\u5f8c\u301c2\u9031\u9593",color:"#F44336",progress:.2},phase_3_1:{title:"\u57fa\u790e\u56de\u5fa9\u671f",description:"2\u301c6\u9031\u9593",color:"#2196F3",progress:.4},phase_3_2:{title:"\u7b4b\u529b\u5f37\u5316\u671f",description:"6\u301c12\u9031\u9593",color:"#4CAF50",progress:.6},phase_3_3:{title:"\u6a5f\u80fd\u8a13\u7df4\u671f",description:"3\u301c6\u30f6\u6708",color:"#9C27B0",progress:.8},phase_3_4:{title:"\u7af6\u6280\u5fa9\u5e30\u671f",description:"6\u301c12\u30f6\u6708",color:"#E91E63",progress:.95},completed:{title:"\u5b8c\u4e86",description:"\u7af6\u6280\u5fa9\u5e30\u9054\u6210",color:"#4CAF50",progress:1}};return t[e]||t.pre_surgery}(null==i?void 0:i.currentPhase),o=[{title:"\u81ea\u4e3b\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0",icon:"dumbbell",description:"\u4eca\u65e5\u306e\u904b\u52d5\u30e1\u30cb\u30e5\u30fc",onPress:function(){return t.navigate("Exercise")},color:"#2E7D32"},{title:"\u9032\u6357\u78ba\u8a8d",icon:"chart-line",description:"\u56de\u5fa9\u72b6\u6cc1\u306e\u78ba\u8a8d",onPress:function(){return t.navigate("Progress")},color:"#1976D2"},{title:"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb",icon:"account",description:"\u500b\u4eba\u60c5\u5831\u30fb\u8a2d\u5b9a",onPress:function(){return t.navigate("Profile")},color:"#7B1FA2"}];return(0,qe.jsxs)($e.default,{style:Ye.container,children:[(0,qe.jsx)(Le.default,{style:Ye.headerCard,children:(0,qe.jsx)(Le.default.Content,{children:(0,qe.jsxs)(De.default,{style:Ye.headerContent,children:[(0,qe.jsxs)(De.default,{style:Ye.userInfo,children:[(0,qe.jsx)(Ae.default,{style:Ye.welcomeText,children:"\u3053\u3093\u306b\u3061\u306f"}),(0,qe.jsxs)(Ae.default,{style:Ye.userName,children:[null==i?void 0:i.name,"\u3055\u3093"]})]}),(0,qe.jsx)(Ue.default,{icon:"logout",size:24,onPress:function(){n(b()),t.replace("Login")},style:Ye.logoutButton})]})})}),(0,qe.jsx)(Le.default,{style:Ye.phaseCard,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsxs)(De.default,{style:Ye.phaseHeader,children:[(0,qe.jsx)(Ae.default,{style:Ye.phaseTitle,children:"\u73fe\u5728\u306e\u30ea\u30cf\u30d3\u30ea\u6bb5\u968e"}),(0,qe.jsx)(Ge.default,{mode:"outlined",style:[Ye.phaseChip,{borderColor:r.color}],textStyle:{color:r.color},children:r.title})]}),(0,qe.jsx)(Ae.default,{style:Ye.phaseDescription,children:r.description}),(0,qe.jsxs)(De.default,{style:Ye.progressContainer,children:[(0,qe.jsx)(Ae.default,{style:Ye.progressLabel,children:"\u5168\u4f53\u306e\u9032\u6357"}),(0,qe.jsx)(Ke.default,{progress:r.progress,color:r.color,style:Ye.progressBar}),(0,qe.jsxs)(Ae.default,{style:Ye.progressText,children:[Math.round(100*r.progress),"%"]})]}),(null==i?void 0:i.surgeryDate)&&(0,qe.jsxs)(Ae.default,{style:Ye.surgeryDate,children:["\u624b\u8853\u65e5: ",new Date(i.surgeryDate).toLocaleDateString("ja-JP")]})]})}),(0,qe.jsx)(De.default,{style:Ye.menuContainer,children:o.map(function(e,t){return(0,qe.jsx)(Le.default,{style:Ye.menuCard,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsxs)(De.default,{style:Ye.menuContent,children:[(0,qe.jsxs)(De.default,{style:Ye.menuTextContainer,children:[(0,qe.jsx)(Ae.default,{style:Ye.menuTitle,children:e.title}),(0,qe.jsx)(Ae.default,{style:Ye.menuDescription,children:e.description})]}),(0,qe.jsx)(Ue.default,{icon:e.icon,size:32,iconColor:e.color,style:[Ye.menuIcon,{backgroundColor:`${e.color}15`}]})]}),(0,qe.jsx)(We.default,{mode:"contained",onPress:e.onPress,style:[Ye.menuButton,{backgroundColor:e.color}],labelStyle:Ye.menuButtonLabel,children:"\u958b\u59cb"})]})},t)})}),(0,qe.jsx)(Le.default,{style:Ye.tipCard,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsx)(Ae.default,{style:Ye.tipTitle,children:"\u4eca\u65e5\u306e\u30d2\u30f3\u30c8"}),(0,qe.jsx)(Je.default,{style:Ye.tipDivider}),(0,qe.jsx)(Ae.default,{style:Ye.tipText,children:"\u904b\u52d5\u524d\u306e\u30a2\u30a4\u30b7\u30f3\u30b0\u306f5-10\u5206\u7a0b\u5ea6\u306b\u7559\u3081\u3001\u904b\u52d5\u5f8c\u306f15-20\u5206\u9593\u306e\u30a2\u30a4\u30b7\u30f3\u30b0\u3092\u884c\u3044\u307e\u3057\u3087\u3046\u3002 \u75db\u307f\u304c\u5f37\u3044\u5834\u5408\u306f\u7121\u7406\u3092\u305b\u305a\u3001\u62c5\u5f53\u533b\u5e2b\u306b\u3054\u76f8\u8ac7\u304f\u3060\u3055\u3044\u3002"})]})})]})}),Ye=Be.default.create({container:{flex:1,backgroundColor:"#f5f5f5"},headerCard:{margin:16,marginBottom:8,elevation:2},headerContent:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},userInfo:{flex:1},welcomeText:{fontSize:14,color:"#666"},userName:{fontSize:20,fontWeight:"bold",color:"#333"},logoutButton:{margin:0},phaseCard:{margin:16,marginTop:8,elevation:2},phaseHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:8},phaseTitle:{fontSize:16,fontWeight:"bold"},phaseChip:{borderWidth:1},phaseDescription:{fontSize:14,color:"#666",marginBottom:16},progressContainer:{marginBottom:12},progressLabel:{fontSize:12,color:"#666",marginBottom:4},progressBar:{height:8,borderRadius:4,marginBottom:4},progressText:{fontSize:12,textAlign:"right",color:"#666"},surgeryDate:{fontSize:12,color:"#666",textAlign:"center"},menuContainer:{padding:16,paddingTop:8},menuCard:{marginBottom:12,elevation:2},menuContent:{flexDirection:"row",alignItems:"center",marginBottom:12},menuTextContainer:{flex:1},menuTitle:{fontSize:16,fontWeight:"bold",marginBottom:4},menuDescription:{fontSize:12,color:"#666"},menuIcon:{margin:0,borderRadius:8},menuButton:{borderRadius:8},menuButtonLabel:{color:"white",fontWeight:"bold"},tipCard:{margin:16,marginTop:8,elevation:2},tipTitle:{fontSize:16,fontWeight:"bold",marginBottom:8},tipDivider:{marginBottom:12},tipText:{fontSize:14,lineHeight:20,color:"#333"}});Qe.propTypes={navigation:ke().shape({navigate:ke().func.isRequired}).isRequired};const Xe=Qe;var Ze=n(9698),et=n(336),tt=n(1808),nt=Be.default.create({container:{flex:1,backgroundColor:"#f5f5f5"},headerCard:{margin:16,elevation:2},title:{fontSize:24,fontWeight:"bold",color:"#333",marginBottom:4},subtitle:{fontSize:14,color:"#666"},menuContainer:{padding:16,paddingTop:8},menuCard:{marginBottom:12,elevation:2},menuContent:{flexDirection:"row",alignItems:"center",marginBottom:12},menuTextContainer:{flex:1},menuTitle:{fontSize:18,fontWeight:"bold",marginBottom:4},menuDescription:{fontSize:14,color:"#666"},menuIcon:{margin:0,borderRadius:8},menuButton:{borderRadius:8},menuButtonLabel:{color:"white",fontWeight:"bold"},infoCard:{margin:16,marginTop:8,elevation:2},infoTitle:{fontSize:16,fontWeight:"bold",marginBottom:8}});const it=function(e){var t=e.navigation,n=((0,d.useSelector)(function(e){return e.auth}).user,[{title:"\u4eca\u65e5\u306e\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0",description:"\u6bb5\u968e\u5225\u904b\u52d5\u30e1\u30cb\u30e5\u30fc",icon:"dumbbell",onPress:function(){t.navigate("ExerciseMenu")},color:"#2E7D32"},{title:"\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0\u5c65\u6b74",description:"\u904e\u53bb\u306e\u904b\u52d5\u8a18\u9332",icon:"history",onPress:function(){t.navigate("ExerciseHistory")},color:"#1976D2"}]);return(0,qe.jsxs)($e.default,{style:nt.container,children:[(0,qe.jsx)(Le.default,{style:nt.headerCard,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsx)(Ae.default,{style:nt.title,children:"\u81ea\u4e3b\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0"}),(0,qe.jsx)(Ae.default,{style:nt.subtitle,children:"ACL\u30ea\u30cf\u30d3\u30ea\u30c6\u30fc\u30b7\u30e7\u30f3 \u30d7\u30ed\u30b0\u30e9\u30e0"})]})}),(0,qe.jsx)(De.default,{style:nt.menuContainer,children:n.map(function(e,t){return(0,qe.jsx)(Le.default,{style:nt.menuCard,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsxs)(De.default,{style:nt.menuContent,children:[(0,qe.jsxs)(De.default,{style:nt.menuTextContainer,children:[(0,qe.jsx)(Ae.default,{style:nt.menuTitle,children:e.title}),(0,qe.jsx)(Ae.default,{style:nt.menuDescription,children:e.description})]}),(0,qe.jsx)(Ue.default,{icon:e.icon,size:32,iconColor:e.color,style:[nt.menuIcon,{backgroundColor:`${e.color}15`}]})]}),(0,qe.jsx)(We.default,{mode:"contained",onPress:e.onPress,style:[nt.menuButton,{backgroundColor:e.color}],labelStyle:nt.menuButtonLabel,children:"\u958b\u59cb"})]})},t)})}),(0,qe.jsx)(Le.default,{style:nt.infoCard,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsx)(Ae.default,{style:nt.infoTitle,children:"\u904b\u52d5\u6642\u306e\u6ce8\u610f\u4e8b\u9805"}),(0,qe.jsxs)(Ze.default,{children:[(0,qe.jsx)(et.default,{title:"\u75db\u307f\u306e\u78ba\u8a8d",description:"\u904b\u52d5\u4e2d\u306b\u75db\u307f\u3092\u611f\u3058\u305f\u5834\u5408\u306f\u5373\u5ea7\u306b\u4e2d\u6b62\u3057\u3066\u304f\u3060\u3055\u3044",left:function(){return(0,qe.jsx)(tt.default,{icon:"alert-circle",color:"#F44336"})}}),(0,qe.jsx)(et.default,{title:"\u9069\u5207\u306a\u74b0\u5883",description:"\u5341\u5206\u306a\u30b9\u30da\u30fc\u30b9\u3068\u5b89\u5168\u306a\u74b0\u5883\u3067\u5b9f\u65bd\u3057\u3066\u304f\u3060\u3055\u3044",left:function(){return(0,qe.jsx)(tt.default,{icon:"home",color:"#4CAF50"})}}),(0,qe.jsx)(et.default,{title:"\u6c34\u5206\u88dc\u7d66",description:"\u904b\u52d5\u524d\u5f8c\u306e\u6c34\u5206\u88dc\u7d66\u3092\u5fd8\u308c\u305a\u306b\u884c\u3063\u3066\u304f\u3060\u3055\u3044",left:function(){return(0,qe.jsx)(tt.default,{icon:"water",color:"#2196F3"})}})]})]})})]})};var rt=n(2618),ot=n(8175);Ne.default.get("window").width;var st=Be.default.create({container:{flex:1,backgroundColor:"#f5f5f5"},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#f5f5f5"},loadingText:{marginTop:16,fontSize:16,color:"#666"},errorContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#f5f5f5",padding:20},errorText:{fontSize:18,fontWeight:"bold",color:"#F44336",marginBottom:8},errorMessage:{fontSize:14,color:"#666",textAlign:"center",marginBottom:20},phaseCard:{margin:16,elevation:2},phaseHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:8},phaseTitle:{fontSize:16,fontWeight:"bold"},phaseChip:{borderWidth:1},phaseDescription:{fontSize:14,color:"#666"},sessionCard:{margin:16,marginTop:8,elevation:2},sessionTitle:{fontSize:18,fontWeight:"bold",marginBottom:8},sessionDescription:{fontSize:14,color:"#666",marginBottom:16},startButton:{borderRadius:8},categoryCard:{margin:16,marginTop:8,elevation:2},categoryHeader:{paddingHorizontal:16,paddingVertical:8},categoryHeaderContent:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%"},categoryTitle:{fontSize:16,fontWeight:"bold",color:"#333"},exerciseItem:{paddingHorizontal:16,paddingVertical:8},exerciseIcon:{justifyContent:"center",alignItems:"center",marginRight:8},exerciseInfo:{flexDirection:"row",alignItems:"center"},difficultyChip:{borderWidth:1,marginRight:4},completedIcon:{margin:0},emptyCard:{margin:16,elevation:2},emptyTitle:{fontSize:18,fontWeight:"bold",textAlign:"center",marginBottom:8},emptyDescription:{fontSize:14,color:"#666",textAlign:"center",lineHeight:20}});const at=function(e){var t=e.navigation,n=(0,d.useDispatch)(),i=(0,d.useSelector)(function(e){return e.auth}),r=i.user,s=i.token,a=(0,d.useSelector)(function(e){return e.exercise}),l=a.patientPlan,c=a.isLoading,u=a.error,f=a.currentPhase,g=a.currentSession,m=(0,o.useState)({}),p=(0,we.default)(m,2);p[0],p[1];(0,o.useEffect)(function(){if(r){var e=r.currentPhase||"pre_surgery";if(n(q(e)),s)n(L({patientId:r.id,phase:e,token:s}));else{var t=v(e);j(t)}}},[n,r,s]);var h=(0,o.useState)([]),y=(0,we.default)(h,2),x=y[0],j=y[1],v=function(e){return{pre_surgery:[{id:"1",exercise_name:"\u30d2\u30fc\u30eb\u30d7\u30ed\u30c3\u30d7\u30b9",description:"\u819d\u88cf\u306b\u7a7a\u9593\u3092\u4f5c\u308a\u3001\u91cd\u529b\u3067\u81ea\u7136\u306b\u4f38\u3073\u308b\u3088\u3046\u306b\u3059\u308b\u3002\u6700\u512a\u5148\u4e8b\u9805",category_name:"ROM\u6539\u5584",assigned_sets:1,assigned_reps:1,duration:"10-20\u5206",frequency:"1\u65e5\u6570\u56de",difficulty_level:"beginner",requires_ai_analysis:!1,is_completed:!1},{id:"2",exercise_name:"\u30d2\u30fc\u30eb\u30b9\u30e9\u30a4\u30c9",description:"\u30bf\u30aa\u30eb\u3067\u88dc\u52a9\u3057\u3001\u75db\u307f\u306e\u306a\u3044\u7bc4\u56f2\u3067\u3086\u3063\u304f\u308a\u66f2\u3052\u308b",category_name:"ROM\u6539\u5584",assigned_sets:5,assigned_reps:20,difficulty_level:"beginner",requires_ai_analysis:!1,is_completed:!1},{id:"3",exercise_name:"\u30d1\u30c6\u30e9\u30e2\u30d3\u30e9\u30a4\u30bc\u30fc\u30b7\u30e7\u30f3",description:"\u819d\u306e\u304a\u76bf\u3092\u4e0a\u4e0b\u5de6\u53f3\u306b\u512a\u3057\u304f\u52d5\u304b\u3059",category_name:"ROM\u6539\u5584",assigned_sets:1,assigned_reps:1,duration:"5\u5206\u7a0b\u5ea6",frequency:"1\u65e5\u6570\u56de",difficulty_level:"beginner",requires_ai_analysis:!1,is_completed:!1},{id:"4",exercise_name:"\u30af\u30ef\u30c3\u30c9\u30bb\u30c3\u30c6\u30a3\u30f3\u30b0",description:"\u819d\u88cf\u306e\u30bf\u30aa\u30eb\u3092\u62bc\u3057\u3064\u3076\u3059\u610f\u8b58\u3002\u30cf\u30e0\u30b9\u30c8\u30ea\u30f3\u30b0\u30b9\u3082\u540c\u6642\u306b\u53ce\u7e2e\u3055\u305b\u308b\uff08\u540c\u6642\u53ce\u7e2e\uff09",category_name:"\u7b4b\u529b\uff08\u60a3\u5074\uff09",assigned_sets:3,assigned_reps:12,hold_time:"5\u79d2\u4fdd\u6301",difficulty_level:"beginner",requires_ai_analysis:!1,is_completed:!1},{id:"5",exercise_name:"SLR\uff08\u30b9\u30c8\u30ec\u30fc\u30c8\u30ec\u30c3\u30b0\u30ec\u30a4\u30ba\uff09",description:"\u819d\u304c\u66f2\u304c\u308a\u843d\u3061\u306a\u3044\u3088\u3046\u306b\uff08\u30e9\u30b0\u7121\u3057\uff09\u3002\u80a1\u95a2\u7bc0\u3067\u306f\u306a\u304f\u5927\u817f\u56db\u982d\u7b4b\u3067\u4e0a\u3052\u308b\u610f\u8b58",category_name:"\u7b4b\u529b\uff08\u60a3\u5074\uff09",assigned_sets:3,assigned_reps:12,difficulty_level:"beginner",requires_ai_analysis:!0,is_completed:!1},{id:"6",exercise_name:"\u30b0\u30eb\u30fc\u30c8\u30d6\u30ea\u30c3\u30b8",description:"\u80a1\u95a2\u7bc0\u3092\u3057\u3063\u304b\u308a\u4f38\u5c55\u3055\u305b\u308b\u3002\u304a\u5c3b\u306e\u7b4b\u8089\u3092\u610f\u8b58\u3059\u308b",category_name:"\u7b4b\u529b\uff08\u60a3\u5074\uff09",assigned_sets:3,assigned_reps:15,difficulty_level:"beginner",requires_ai_analysis:!1,is_completed:!1},{id:"7",exercise_name:"\u5065\u5074\u306e\u7247\u811a\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0",description:"\u7247\u811a\u30b9\u30af\u30ef\u30c3\u30c8\u3001\u7247\u811a\u30ab\u30fc\u30d5\u30ec\u30a4\u30ba\u3001\u7247\u811aRDL\u306a\u3069\u3002\u30af\u30ed\u30b9\u30fb\u30a8\u30c7\u30e5\u30b1\u30fc\u30b7\u30e7\u30f3\u52b9\u679c\u3092\u72d9\u3046",category_name:"\u7b4b\u529b\uff08\u60a3\u90e8\u5916\uff09",assigned_sets:3,assigned_reps:15,difficulty_level:"intermediate",requires_ai_analysis:!0,is_completed:!1},{id:"8",exercise_name:"\u4f53\u5e79\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0",description:"\u30d7\u30e9\u30f3\u30af\u3001\u30b5\u30a4\u30c9\u30d7\u30e9\u30f3\u30af\u3002\u4f53\u5e79\u306e\u5b89\u5b9a\u306f\u5168\u3066\u306e\u52d5\u4f5c\u306e\u57fa\u790e",category_name:"\u7b4b\u529b\uff08\u60a3\u90e8\u5916\uff09",assigned_sets:3,assigned_reps:1,duration:"30-60\u79d2",difficulty_level:"intermediate",requires_ai_analysis:!1,is_completed:!1},{id:"9",exercise_name:"\u4e0a\u534a\u8eab\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0",description:"\u30d7\u30ec\u30b9\u7cfb\u3001\u30d7\u30eb\u7cfb\u306a\u3069\u3001\u819d\u306b\u8ca0\u62c5\u306e\u304b\u304b\u3089\u306a\u3044\u7a2e\u76ee\u3092\u30d0\u30e9\u30f3\u30b9\u826f\u304f\u884c\u3046",category_name:"\u7b4b\u529b\uff08\u60a3\u90e8\u5916\uff09",assigned_sets:3,assigned_reps:12,difficulty_level:"intermediate",requires_ai_analysis:!1,is_completed:!1},{id:"10",exercise_name:"\u30a8\u30a2\u30ed\u30d0\u30a4\u30af",description:"\u30b5\u30c9\u30eb\u306e\u9ad8\u3055\u3092\u8abf\u6574\u3057\u3001\u4f38\u5c55\u30fb\u5c48\u66f2\u4e21\u65b9\u306e\u53ef\u52d5\u57df\u6539\u5584\u306b\u3082\u6d3b\u7528\u3059\u308b",category_name:"\u6709\u9178\u7d20\u904b\u52d5",assigned_sets:1,assigned_reps:1,duration:"20-30\u5206",difficulty_level:"beginner",requires_ai_analysis:!1,is_completed:!1}],post_surgery_early:[{id:"101",exercise_name:"\u30a2\u30a4\u30b7\u30f3\u30b0\u30fb\u6319\u4e0a",description:"\u75db\u307f\u3068\u816b\u308c\u306e\u7ba1\u7406\u304c\u6700\u512a\u5148\u3002\u6319\u4e0a\u6642\u306f\u819d\u88cf\u306b\u6795\u3092\u5165\u308c\u306a\u3044",category_name:"\u30a2\u30a4\u30b7\u30f3\u30b0\u30fb\u6319\u4e0a",assigned_sets:1,assigned_reps:1,duration:"20\u5206",frequency:"\u983b\u56de",difficulty_level:"beginner",requires_ai_analysis:!1,is_completed:!1},{id:"102",exercise_name:"\u30d2\u30fc\u30eb\u30d7\u30ed\u30c3\u30d7\u30b9",description:"\u5b8c\u5168\u4f38\u5c55\uff080\xb0\uff09\u306e\u9054\u6210\u3068\u7dad\u6301\u304c\u6700\u91cd\u8981\u76ee\u6a19",category_name:"ROM",assigned_sets:1,assigned_reps:1,duration:"20-30\u5206",frequency:"1\u65e5\u6570\u56de",difficulty_level:"beginner",requires_ai_analysis:!1,is_completed:!1},{id:"103",exercise_name:"\u30d2\u30fc\u30eb\u30b9\u30e9\u30a4\u30c9",description:"\u75db\u307f\u306e\u306a\u3044\u7bc4\u56f2\u3067\u512a\u3057\u304f\u884c\u3046\u3002\u76ee\u6a19\u306f90\xb0\u5c48\u66f2",category_name:"ROM",assigned_sets:3,assigned_reps:15,note:"10-20\u56de\u306e\u7bc4\u56f2\u3067\u8abf\u6574",difficulty_level:"beginner",requires_ai_analysis:!1,is_completed:!1},{id:"104",exercise_name:"\u30a2\u30f3\u30af\u30eb\u30dd\u30f3\u30d7",description:"DVT\u4e88\u9632\u306e\u305f\u3081\u306b\u7a4d\u6975\u7684\u306b\u884c\u3046",category_name:"ROM",assigned_sets:1,assigned_reps:15,frequency:"\u6bce\u6642",difficulty_level:"beginner",requires_ai_analysis:!1,is_completed:!1},{id:"105",exercise_name:"\u30af\u30ef\u30c3\u30c9\u30bb\u30c3\u30c6\u30a3\u30f3\u30b0",description:"\u5f37\u3044\u53ce\u7e2e\u3092\u610f\u8b58\u3059\u308b\u3002NMES\u304c\u6709\u52b9\u306a\u5834\u5408\u3082\u3042\u308b",category_name:"\u7b4b\u529b\uff08\u60a3\u5074\uff09",assigned_sets:3,assigned_reps:12,hold_time:"5\u79d2\u4fdd\u6301",difficulty_level:"beginner",requires_ai_analysis:!1,is_completed:!1},{id:"106",exercise_name:"SLR\uff08\u4f38\u5c55\u30e9\u30b0\u7121\u3057\uff09",description:"\u819d\u304c\u5b8c\u5168\u306b\u4f38\u3073\u305f\u307e\u307e\u4e0a\u3052\u3089\u308c\u308b\u5834\u5408\u306e\u307f\u5b9f\u65bd",category_name:"\u7b4b\u529b\uff08\u60a3\u5074\uff09",assigned_sets:3,assigned_reps:10,difficulty_level:"beginner",requires_ai_analysis:!0,is_completed:!1},{id:"107",exercise_name:"\u7247\u811a\u30d6\u30ea\u30c3\u30b8",description:"\u5065\u5074\u306e\u304a\u5c3b\u3068\u30cf\u30e0\u30b9\u30c8\u30ea\u30f3\u30b0\u30b9\u3092\u5f37\u5316",category_name:"\u7b4b\u529b\uff08\u5065\u5074\uff09",assigned_sets:3,assigned_reps:12,note:"10-15\u56de\u306e\u7bc4\u56f2\u3067\u8abf\u6574",difficulty_level:"beginner",requires_ai_analysis:!1,is_completed:!1},{id:"108",exercise_name:"\u7247\u811a\u30ab\u30fc\u30d5\u30ec\u30a4\u30ba",description:"\u5065\u5074\u306e\u3075\u304f\u3089\u306f\u304e\u3092\u5f37\u5316",category_name:"\u7b4b\u529b\uff08\u5065\u5074\uff09",assigned_sets:3,assigned_reps:17,note:"15-20\u56de\u306e\u7bc4\u56f2\u3067\u8abf\u6574",difficulty_level:"beginner",requires_ai_analysis:!1,is_completed:!1}],post_surgery_1_4weeks:[{id:"201",exercise_name:"\u30a8\u30a2\u30ed\u30d0\u30a4\u30af",description:"\u6700\u521d\u306f\u63fa\u3089\u3059\u52d5\u304d\u304b\u3089\u3002\u5b8c\u5168\u306a\u56de\u8ee2\u304c\u3067\u304d\u308b\u3088\u3046\u306b\u306a\u3063\u305f\u3089\u5f90\u3005\u306b\u6642\u9593\u3092\u5ef6\u3070\u3059",category_name:"ROM",assigned_sets:1,assigned_reps:1,duration:"10-20\u5206",difficulty_level:"beginner",requires_ai_analysis:!1,is_completed:!1},{id:"202",exercise_name:"\u6b69\u884c\u8a13\u7df4",description:"\u93e1\u3092\u898b\u306a\u304c\u3089\u3001\u5de6\u53f3\u5bfe\u79f0\u3067\u6ed1\u3089\u304b\u306a\u6b69\u884c\u3092\u610f\u8b58\u3059\u308b\u3002\u8cea\u3092\u91cd\u8996",category_name:"\u6b69\u884c",assigned_sets:1,assigned_reps:1,note:"\u8cea\u3092\u91cd\u8996",difficulty_level:"beginner",requires_ai_analysis:!0,is_completed:!1},{id:"203",exercise_name:"\u4e21\u811a\u30df\u30cb\u30b9\u30af\u30ef\u30c3\u30c8",description:"\u819d\u5c48\u66f245\xb0\u307e\u3067\u3002\u819d\u304c\u3064\u307e\u5148\u3088\u308a\u524d\u306b\u51fa\u904e\u304e\u306a\u3044\u3088\u3046\u306b\u6ce8\u610f",category_name:"\u7b4b\u529b\uff08\u60a3\u5074\uff09",assigned_sets:3,assigned_reps:17,note:"15-20\u56de\u306e\u7bc4\u56f2\u3067\u8abf\u6574",difficulty_level:"intermediate",requires_ai_analysis:!0,is_completed:!1},{id:"204",exercise_name:"\u30ec\u30c3\u30b0\u30d7\u30ec\u30b9\uff08\u4e21\u811a\uff09",description:"\u8efd\u3044\u8ca0\u8377\u304b\u3089\u958b\u59cb\u3057\u3001\u5de6\u53f3\u5747\u7b49\u306b\u529b\u3092\u5165\u308c\u308b",category_name:"\u7b4b\u529b\uff08\u60a3\u5074\uff09",assigned_sets:3,assigned_reps:17,note:"15-20\u56de\u306e\u7bc4\u56f2\u3067\u8abf\u6574",difficulty_level:"intermediate",requires_ai_analysis:!1,is_completed:!1},{id:"205",exercise_name:"OKC\u819d\u4f38\u5c55\uff084\u9031\u76ee\u4ee5\u964d\uff09",description:"\u62b5\u6297\u306a\u3057\u3067\u300190\xb0\u304b\u308945\xb0\u306e\u7bc4\u56f2\u306e\u307f\u3002\u75db\u307f\u306b\u6ce8\u610f",category_name:"\u7b4b\u529b\uff08\u60a3\u5074\uff09",assigned_sets:2,assigned_reps:12,note:"10-15\u56de\xd72-3\u30bb\u30c3\u30c8",difficulty_level:"intermediate",requires_ai_analysis:!0,is_completed:!1},{id:"206",exercise_name:"\u7247\u811a\u30ec\u30c3\u30b0\u30d7\u30ec\u30b9",description:"\u5065\u5074\u306e\u7b4b\u529b\u3092\u7a4d\u6975\u7684\u306b\u5411\u4e0a\u3055\u305b\u308b",category_name:"\u7b4b\u529b\uff08\u5065\u5074\uff09",assigned_sets:3,assigned_reps:11,note:"10-12\u56de\u306e\u7bc4\u56f2\u3067\u8abf\u6574",difficulty_level:"intermediate",requires_ai_analysis:!1,is_completed:!1},{id:"207",exercise_name:"\u7247\u811aRDL",description:"\u30d5\u30a9\u30fc\u30e0\u3092\u91cd\u8996\u3057\u3001\u30cf\u30e0\u30b9\u30c8\u30ea\u30f3\u30b0\u30b9\u3068\u6bbf\u7b4b\u3092\u935b\u3048\u308b",category_name:"\u7b4b\u529b\uff08\u5065\u5074\uff09",assigned_sets:3,assigned_reps:11,note:"10-12\u56de\u306e\u7bc4\u56f2\u3067\u8abf\u6574",difficulty_level:"intermediate",requires_ai_analysis:!0,is_completed:!1},{id:"208",exercise_name:"\u30d7\u30e9\u30f3\u30af\uff08\u52d5\u7684\u30d0\u30ea\u30a8\u30fc\u30b7\u30e7\u30f3\uff09",description:"\u8155\u3084\u811a\u3092\u4ea4\u4e92\u306b\u4e0a\u3052\u308b\u306a\u3069\u3001\u5b89\u5b9a\u6027\u3092\u4fdd\u3061\u306a\u304c\u3089\u52d5\u304d\u3092\u52a0\u3048\u308b",category_name:"\u4f53\u5e79",assigned_sets:3,assigned_reps:1,duration:"30-60\u79d2",difficulty_level:"intermediate",requires_ai_analysis:!1,is_completed:!1}],post_surgery_1_2months:[{id:"301",exercise_name:"\u30b9\u30af\u30ef\u30c3\u30c8",description:"\u5c48\u66f2\u89d2\u5ea6\u309290\xb0\u306b\u8fd1\u3065\u3051\u308b\u3002\u30d5\u30a9\u30fc\u30e0\u3092\u6700\u512a\u5148",category_name:"\u7b4b\u529b\uff08CKC\uff09",assigned_sets:3,assigned_reps:13,note:"12-15\u56de\u306e\u7bc4\u56f2\u3067\u8abf\u6574",difficulty_level:"intermediate",requires_ai_analysis:!0,is_completed:!1},{id:"302",exercise_name:"\u30b9\u30c6\u30c3\u30d7\u30a2\u30c3\u30d7\uff08\u524d\u65b9\u30fb\u5074\u65b9\uff09",description:"\u4f4e\u3044\u53f0\u304b\u3089\u59cb\u3081\u308b\u3002\u4f53\u5e79\u304c\u3076\u308c\u306a\u3044\u3088\u3046\u306b",category_name:"\u7b4b\u529b\uff08CKC\uff09",assigned_sets:3,assigned_reps:12,note:"10-15\u56de\u306e\u7bc4\u56f2\u3067\u8abf\u6574",difficulty_level:"intermediate",requires_ai_analysis:!0,is_completed:!1},{id:"303",exercise_name:"\u7247\u811a\u30ec\u30c3\u30b0\u30d7\u30ec\u30b9",description:"\u60a3\u5074\u306e\u811a\u3067\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u3057\u306a\u304c\u3089\u62bc\u3059",category_name:"\u7b4b\u529b\uff08CKC\uff09",assigned_sets:3,assigned_reps:12,note:"10-15\u56de\u306e\u7bc4\u56f2\u3067\u8abf\u6574",difficulty_level:"intermediate",requires_ai_analysis:!1,is_completed:!1},{id:"304",exercise_name:"\u7247\u811a\u7acb\u3061\uff08\u4e0d\u5b89\u5b9a\u9762\u4e0a\uff09",description:"BOSU\u3084\u30d5\u30a9\u30fc\u30e0\u30d1\u30c3\u30c9\u4e0a\u3067\u3002\u8996\u7dda\u3092\u52d5\u304b\u3057\u305f\u308a\u3001\u30dc\u30fc\u30eb\u3092\u6271\u3063\u305f\u308a\u3057\u3066\u96e3\u6613\u5ea6\u3092\u4e0a\u3052\u308b",category_name:"\u30d0\u30e9\u30f3\u30b9",assigned_sets:3,assigned_reps:1,duration:"30-60\u79d2\u4fdd\u6301",difficulty_level:"intermediate",requires_ai_analysis:!0,is_completed:!1},{id:"305",exercise_name:"\u30d0\u30fc\u30c9\u30c9\u30c3\u30b0",description:"\u4f53\u5e79\u3092\u4e00\u76f4\u7dda\u306b\u4fdd\u3061\u3001\u3086\u3063\u304f\u308a\u3068\u624b\u8db3\u3092\u4f38\u3070\u3059",category_name:"\u4f53\u5e79",assigned_sets:3,assigned_reps:10,difficulty_level:"intermediate",requires_ai_analysis:!1,is_completed:!1}],post_surgery_2_3months:[{id:"401",exercise_name:"\u30e9\u30f3\u30b8\uff08\u524d\u65b9\u30fb\u5074\u65b9\uff09",description:"\u8e0f\u307f\u51fa\u3057\u305f\u819d\u304c\u5185\u5074\u306b\u5165\u3089\u306a\u3044\u3088\u3046\u306b\u3002\u4f53\u5e79\u306f\u76f4\u7acb\u3092\u4fdd\u3064",category_name:"\u7b4b\u529b",assigned_sets:3,assigned_reps:11,note:"10-12\u56de\u306e\u7bc4\u56f2\u3067\u8abf\u6574",difficulty_level:"intermediate",requires_ai_analysis:!0,is_completed:!1},{id:"402",exercise_name:"\u7247\u811a\u30b9\u30af\u30ef\u30c3\u30c8\uff08\u652f\u6301\u3042\u308a\uff09",description:"\u93e1\u3067\u30d5\u30a9\u30fc\u30e0\u3092\u78ba\u8a8d\u3057\u306a\u304c\u3089\u3001\u5f90\u3005\u306b\u6df1\u304f\u3002\u819d\u3068\u3064\u307e\u5148\u306e\u5411\u304d\u3092\u63c3\u3048\u308b",category_name:"\u7b4b\u529b",assigned_sets:3,assigned_reps:10,note:"8-12\u56de\u306e\u7bc4\u56f2\u3067\u8abf\u6574",difficulty_level:"intermediate",requires_ai_analysis:!0,is_completed:!1},{id:"403",exercise_name:"\u30d5\u30a3\u30b8\u30aa\u30dc\u30fc\u30eb\u30fb\u30cf\u30e0\u30b9\u30c8\u30ea\u30f3\u30b0\u30ab\u30fc\u30eb",description:"\u304a\u5c3b\u3092\u9ad8\u304f\u4fdd\u3061\u3001\u30cf\u30e0\u30b9\u30c8\u30ea\u30f3\u30b0\u30b9\u3067\u30dc\u30fc\u30eb\u3092\u5f15\u304d\u5bc4\u305b\u308b",category_name:"\u7b4b\u529b",assigned_sets:3,assigned_reps:12,note:"10-15\u56de\u306e\u7bc4\u56f2\u3067\u8abf\u6574",difficulty_level:"intermediate",requires_ai_analysis:!1,is_completed:!1},{id:"404",exercise_name:"\u30d0\u30a4\u30af/\u30a8\u30ea\u30d7\u30c6\u30a3\u30ab\u30eb",description:"\u5f37\u5ea6\u3092\u4e0a\u3052\u3066\u5fc3\u62cd\u6570\u3092\u9ad8\u3081\u308b\u3002\u30e9\u30f3\u30cb\u30f3\u30b0\u3078\u306e\u6e96\u5099",category_name:"\u6709\u9178\u7d20\u904b\u52d5",assigned_sets:1,assigned_reps:1,duration:"20-30\u5206",difficulty_level:"intermediate",requires_ai_analysis:!1,is_completed:!1},{id:"405",exercise_name:"\u30d5\u30a3\u30b8\u30aa\u30dc\u30fc\u30eb\u30fb\u30d7\u30e9\u30f3\u30af",description:"\u4e0d\u5b89\u5b9a\u306a\u30dc\u30fc\u30eb\u306e\u4e0a\u3067\u4f53\u5e79\u3092\u56fa\u3081\u308b",category_name:"\u4f53\u5e79",assigned_sets:3,assigned_reps:1,duration:"30-60\u79d2",difficulty_level:"intermediate",requires_ai_analysis:!1,is_completed:!1}],post_surgery_3_4months:[{id:"501",exercise_name:"\u30b8\u30e7\u30b0/\u30a6\u30a9\u30fc\u30af\u30d7\u30ed\u30b0\u30e9\u30e0",description:"\u57fa\u6e96\u3092\u6e80\u305f\u3057\u305f\u5834\u5408\u306e\u307f\u958b\u59cb\u3002\u75db\u307f\u3084\u816b\u308c\u304c\u51fa\u305f\u3089\u4e2d\u6b62",category_name:"\u6709\u9178\u7d20",assigned_sets:1,assigned_reps:1,duration:"20\u5206\u304b\u3089\u958b\u59cb",difficulty_level:"intermediate",requires_ai_analysis:!1,is_completed:!1,note:"\u30e9\u30f3\u30cb\u30f3\u30b0\u958b\u59cb\u57fa\u6e96\u3092\u30af\u30ea\u30a2\u3057\u3066\u304b\u3089\u5b9f\u65bd"},{id:"502",exercise_name:"\u4e21\u811a\u30e9\u30a4\u30f3\u30db\u30c3\u30d7",description:"\u8efd\u304f\u3001\u9759\u304b\u306b\u7740\u5730\u3059\u308b\u3002\u819d\u306e\u30a2\u30e9\u30a4\u30e1\u30f3\u30c8\u306b\u96c6\u4e2d",category_name:"\u30d7\u30e9\u30a4\u30aa\u30e1\u30c8\u30ea\u30af\u30b9",assigned_sets:3,assigned_reps:1,duration:"30\u79d2",difficulty_level:"advanced",requires_ai_analysis:!0,is_completed:!1},{id:"503",exercise_name:"\u4e21\u811a\u30dc\u30c3\u30af\u30b9\u30b8\u30e3\u30f3\u30d7\uff08\u4f4e\uff09",description:"\u4f4e\u3044\u53f0\uff0815-30cm\uff09\u3078\u8df3\u3073\u4e57\u308a\u3001\u9759\u304b\u306b\u964d\u308a\u308b\u3002\u7740\u5730\u3092\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb",category_name:"\u30d7\u30e9\u30a4\u30aa\u30e1\u30c8\u30ea\u30af\u30b9",assigned_sets:3,assigned_reps:9,note:"8-10\u56de\u306e\u7bc4\u56f2\u3067\u8abf\u6574",difficulty_level:"advanced",requires_ai_analysis:!0,is_completed:!1},{id:"504",exercise_name:"\u30b4\u30d6\u30ec\u30c3\u30c8\u30b9\u30af\u30ef\u30c3\u30c8",description:"\u91cd\u91cf\u3092\u5897\u3084\u3057\u3001\u30d1\u30ef\u30fc\uff08\u6319\u4e0a\u901f\u5ea6\uff09\u3092\u610f\u8b58\u3059\u308b",category_name:"\u7b4b\u529b",assigned_sets:3,assigned_reps:10,note:"8-12\u56de\u306e\u7bc4\u56f2\u3067\u8abf\u6574",difficulty_level:"intermediate",requires_ai_analysis:!0,is_completed:!1},{id:"505",exercise_name:"\u30a6\u30a9\u30fc\u30ad\u30f3\u30b0\u30e9\u30f3\u30b8",description:"\u5b89\u5b9a\u3057\u305f\u30d5\u30a9\u30fc\u30e0\u3067\u4e00\u6b69\u305a\u3064\u9032\u3080",category_name:"\u7b4b\u529b",assigned_sets:3,assigned_reps:10,note:"10\u6b69",difficulty_level:"intermediate",requires_ai_analysis:!0,is_completed:!1},{id:"506",exercise_name:"\u30e1\u30c7\u30a3\u30b7\u30f3\u30dc\u30fc\u30eb\u30c4\u30a4\u30b9\u30c8",description:"\u5ea7\u4f4d\u3067\u4f53\u5e79\u3092\u56de\u65cb\u3055\u305b\u308b\u3002\u30b9\u30dd\u30fc\u30c4\u52d5\u4f5c\u3078\u306e\u6e96\u5099",category_name:"\u4f53\u5e79",assigned_sets:3,assigned_reps:15,difficulty_level:"intermediate",requires_ai_analysis:!1,is_completed:!1}],post_surgery_4_6months:[{id:"601",exercise_name:"\u7247\u811a\u7740\u5730\u30c9\u30ea\u30eb",description:"\u4f4e\u3044\u53f0\u304b\u3089\u7247\u811a\u3067\u7740\u5730\u3057\u30013\u79d2\u9759\u6b62\u3002\u819d\u3068\u80a1\u95a2\u7bc0\u3067\u885d\u6483\u3092\u5438\u53ce",category_name:"\u30d7\u30e9\u30a4\u30aa\u30e1\u30c8\u30ea\u30af\u30b9",assigned_sets:3,assigned_reps:9,note:"8-10\u56de\u306e\u7bc4\u56f2\u3067\u8abf\u6574",difficulty_level:"advanced",requires_ai_analysis:!0,is_completed:!1},{id:"602",exercise_name:"\u30b9\u30b1\u30fc\u30bf\u30fc\u30db\u30c3\u30d7",description:"\u5de6\u53f3\u306b\u8df3\u3073\u3001\u7247\u811a\u3067\u30d0\u30e9\u30f3\u30b9\u3092\u4fdd\u3064\u3002\u7740\u5730\u306e\u5b89\u5b9a\u6027\u3092\u91cd\u8996",category_name:"\u30d7\u30e9\u30a4\u30aa\u30e1\u30c8\u30ea\u30af\u30b9",assigned_sets:3,assigned_reps:11,note:"10-12\u56de\u306e\u7bc4\u56f2\u3067\u8abf\u6574",difficulty_level:"advanced",requires_ai_analysis:!0,is_completed:!1},{id:"603",exercise_name:"\u7247\u811a\u30db\u30c3\u30d7\uff08\u8ddd\u96e2\uff09",description:"\u8ddd\u96e2\u3088\u308a\u3082\u30d5\u30a9\u30fc\u30e0\u3068\u7740\u5730\u306e\u8cea\u3092\u512a\u5148\u3059\u308b",category_name:"\u30d7\u30e9\u30a4\u30aa\u30e1\u30c8\u30ea\u30af\u30b9",assigned_sets:3,assigned_reps:6,note:"5-8\u56de\u306e\u7bc4\u56f2\u3067\u8abf\u6574",difficulty_level:"advanced",requires_ai_analysis:!0,is_completed:!1},{id:"604",exercise_name:"\u30e9\u30c0\u30fc\u30c9\u30ea\u30eb",description:"\u7d20\u65e9\u3044\u8db3\u306e\u52d5\u304d\u3092\u7df4\u7fd2\u3002\u6700\u521d\u306f\u3086\u3063\u304f\u308a\u6b63\u78ba\u306b",category_name:"\u30a2\u30b8\u30ea\u30c6\u30a3",assigned_sets:2,assigned_reps:1,note:"\u5404\u30c9\u30ea\u30eb \xd7 2-3\u30bb\u30c3\u30c8",difficulty_level:"advanced",requires_ai_analysis:!0,is_completed:!1},{id:"605",exercise_name:"T\u30c9\u30ea\u30eb\uff0f\u30dc\u30c3\u30af\u30b9\u30c9\u30ea\u30eb",description:"\u8a08\u753b\u3055\u308c\u305f\u524d\u5f8c\u5de6\u53f3\u3078\u306e\u79fb\u52d5\u3002\u6e1b\u901f\u3068\u52a0\u901f\u306e\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb",category_name:"\u30a2\u30b8\u30ea\u30c6\u30a3",assigned_sets:3,assigned_reps:4,note:"3-5\u5f80\u5fa9",difficulty_level:"advanced",requires_ai_analysis:!0,is_completed:!1},{id:"606",exercise_name:"\u30d0\u30fc\u30d9\u30eb\u30b9\u30af\u30ef\u30c3\u30c8\uff0f\u30c7\u30c3\u30c9\u30ea\u30d5\u30c8",description:"\u6700\u5927\u7b4b\u529b\u5411\u4e0a\u306e\u305f\u3081\u9ad8\u91cd\u91cf\u30fb\u4f4e\u56de\u6570\u3067\u3002\u30d5\u30a9\u30fc\u30e0\u306f\u7d76\u5bfe\u306b\u5d29\u3055\u306a\u3044",category_name:"\u7b4b\u529b",assigned_sets:3,assigned_reps:5,note:"3-8\u56de \xd7 3-4\u30bb\u30c3\u30c8",difficulty_level:"advanced",requires_ai_analysis:!0,is_completed:!1}],phase_3_1:[{id:"4",exercise_name:"\u7247\u811a\u7acb\u4f4d",description:"\u60a3\u5074\u3067\u306e\u7247\u811a\u7acb\u4f4d\u7df4\u7fd2",category_name:"\u6b69\u884c\u8a13\u7df4",assigned_sets:3,assigned_reps:5,difficulty_level:"intermediate",requires_ai_analysis:!0,is_completed:!1}],phase_3_2:[{id:"5",exercise_name:"\u30df\u30cb\u30b9\u30af\u30ef\u30c3\u30c8",description:"\u819d\u5c48\u66f230\u5ea6\u307e\u3067\u306e\u6d45\u3044\u30b9\u30af\u30ef\u30c3\u30c8",category_name:"\u7b4b\u529b\u5f37\u5316",assigned_sets:3,assigned_reps:10,difficulty_level:"intermediate",requires_ai_analysis:!0,is_completed:!1},{id:"6",exercise_name:"\u30d0\u30e9\u30f3\u30b9\u30dc\u30fc\u30c9",description:"\u30d0\u30e9\u30f3\u30b9\u30dc\u30fc\u30c9\u3092\u4f7f\u3063\u305f\u5b89\u5b9a\u6027\u8a13\u7df4",category_name:"\u30d0\u30e9\u30f3\u30b9\u8a13\u7df4",assigned_sets:3,assigned_reps:1,difficulty_level:"intermediate",requires_ai_analysis:!0,is_completed:!1}],phase_3_3:[{id:"7",exercise_name:"\u30b8\u30e3\u30f3\u30d7\u7740\u5730",description:"\u4e21\u8db3\u3067\u306e\u30b8\u30e3\u30f3\u30d7\u7740\u5730\u7df4\u7fd2",category_name:"\u30b9\u30dd\u30fc\u30c4\u52d5\u4f5c\u8a13\u7df4",assigned_sets:3,assigned_reps:10,difficulty_level:"advanced",requires_ai_analysis:!0,is_completed:!1}],phase_3_4:[{id:"8",exercise_name:"\u30ab\u30c3\u30c6\u30a3\u30f3\u30b0\u52d5\u4f5c",description:"\u65b9\u5411\u8ee2\u63db\u52d5\u4f5c\u306e\u7df4\u7fd2",category_name:"\u7af6\u6280\u7279\u7570\u7684\u8a13\u7df4",assigned_sets:3,assigned_reps:5,difficulty_level:"advanced",requires_ai_analysis:!0,is_completed:!1}]}[e]||[]},_=function(e){return{beginner:"#4CAF50",intermediate:"#FF9800",advanced:"#F44336"}[e]||"#757575"},C=function(e){return{beginner:"\u521d\u7d1a",intermediate:"\u4e2d\u7d1a",advanced:"\u4e0a\u7d1a"}[e]||e};if(c)return(0,qe.jsxs)(De.default,{style:st.loadingContainer,children:[(0,qe.jsx)(Oe.default,{size:"large"}),(0,qe.jsx)(Ae.default,{style:st.loadingText,children:"\u904b\u52d5\u30e1\u30cb\u30e5\u30fc\u3092\u8aad\u307f\u8fbc\u307f\u4e2d..."})]});if(u)return(0,qe.jsxs)(De.default,{style:st.errorContainer,children:[(0,qe.jsx)(Ae.default,{style:st.errorText,children:"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f"}),(0,qe.jsx)(Ae.default,{style:st.errorMessage,children:u}),(0,qe.jsx)(We.default,{mode:"contained",onPress:function(){return n(W())},children:"\u518d\u8a66\u884c"})]});var S=function(e){var t={pre_surgery:{title:"\u8853\u524d\u671f",description:"\u624b\u8853\u524d\u306e\u6e96\u5099\u671f\u9593",color:"#FF9800"},post_surgery_early:{title:"\u8853\u76f4\u5f8c\u671f",description:"\u624b\u8853\u76f4\u5f8c\u301c1\u9031\u9593",color:"#F44336"},post_surgery_1_4weeks:{title:"\u8853\u5f8c1-4\u9031\u9593",description:"\u8853\u5f8c1\u301c4\u9031\u9593",color:"#E91E63"},post_surgery_1_2months:{title:"\u8853\u5f8c1-2\u30f6\u6708",description:"\u8853\u5f8c1\u301c2\u30f6\u6708",color:"#9C27B0"},post_surgery_2_3months:{title:"\u8853\u5f8c2-3\u30f6\u6708",description:"\u8853\u5f8c2\u301c3\u30f6\u6708",color:"#673AB7"},post_surgery_3_4months:{title:"\u8853\u5f8c3-4\u30f6\u6708",description:"\u8853\u5f8c3\u301c4\u30f6\u6708",color:"#3F51B5"},post_surgery_4_6months:{title:"\u8853\u5f8c4-6\u30f6\u6708",description:"\u8853\u5f8c4\u301c6\u30f6\u6708",color:"#2196F3"},phase_3_1:{title:"\u57fa\u790e\u56de\u5fa9\u671f",description:"2\u301c6\u9031\u9593",color:"#2196F3"},phase_3_2:{title:"\u7b4b\u529b\u5f37\u5316\u671f",description:"6\u301c12\u9031\u9593",color:"#4CAF50"},phase_3_3:{title:"\u6a5f\u80fd\u8a13\u7df4\u671f",description:"3\u301c6\u30f6\u6708",color:"#9C27B0"},phase_3_4:{title:"\u7af6\u6280\u5fa9\u5e30\u671f",description:"6\u301c12\u30f6\u6708",color:"#E91E63"}};return t[e]||t.pre_surgery}(f),b=s?l:x,T=function(e){var t={};return e.forEach(function(e){var n=e.category_name||"\u305d\u306e\u4ed6";t[n]||(t[n]=[]),t[n].push(e)}),t}(b);return(0,qe.jsxs)($e.default,{style:st.container,children:[(0,qe.jsx)(Le.default,{style:st.phaseCard,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsxs)(De.default,{style:st.phaseHeader,children:[(0,qe.jsx)(Ae.default,{style:st.phaseTitle,children:"\u73fe\u5728\u306e\u30ea\u30cf\u30d3\u30ea\u6bb5\u968e"}),(0,qe.jsx)(Ge.default,{mode:"outlined",style:[st.phaseChip,{borderColor:S.color}],textStyle:{color:S.color},children:S.title})]}),(0,qe.jsx)(Ae.default,{style:st.phaseDescription,children:S.description})]})}),(0,qe.jsx)(Le.default,{style:st.sessionCard,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsx)(Ae.default,{style:st.sessionTitle,children:"\u4eca\u65e5\u306e\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0"}),(0,qe.jsxs)(Ae.default,{style:st.sessionDescription,children:[b.length,"\u500b\u306e\u904b\u52d5\u30e1\u30cb\u30e5\u30fc\u304c\u5229\u7528\u53ef\u80fd\u3067\u3059"]}),(0,qe.jsx)(We.default,{mode:"contained",onPress:function(){var e=s?l:x;g?Pe.default.alert("\u9032\u884c\u4e2d\u306e\u30bb\u30c3\u30b7\u30e7\u30f3","\u3059\u3067\u306b\u9032\u884c\u4e2d\u306e\u30bb\u30c3\u30b7\u30e7\u30f3\u304c\u3042\u308a\u307e\u3059\u3002\u7d99\u7d9a\u3057\u307e\u3059\u304b\uff1f",[{text:"\u30ad\u30e3\u30f3\u30bb\u30eb",style:"cancel"},{text:"\u7d99\u7d9a",onPress:function(){return t.navigate("ExerciseSession")}}]):0!==e.length?(n(M({patientId:r.id,phase:f})),Pe.default.alert("\u30bb\u30c3\u30b7\u30e7\u30f3\u958b\u59cb",`${e.length}\u500b\u306e\u904b\u52d5\u30e1\u30cb\u30e5\u30fc\u3067\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0\u3092\u958b\u59cb\u3057\u307e\u3059\u3002`,[{text:"\u30ad\u30e3\u30f3\u30bb\u30eb",style:"cancel"},{text:"\u958b\u59cb",onPress:function(){return t.navigate("ExerciseSession")}}])):Pe.default.alert("\u304a\u77e5\u3089\u305b","\u73fe\u5728\u5229\u7528\u53ef\u80fd\u306a\u904b\u52d5\u30e1\u30cb\u30e5\u30fc\u304c\u3042\u308a\u307e\u305b\u3093\u3002")},style:st.startButton,disabled:0===b.length,children:g?"\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u7d99\u7d9a":"\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u958b\u59cb"})]})}),Object.keys(T).length>0?Object.entries(T).map(function(e){var t=(0,we.default)(e,2),n=t[0],i=t[1];return(0,qe.jsx)(Le.default,{style:st.categoryCard,children:(0,qe.jsxs)(Ze.default,{children:[(0,qe.jsx)(rt.default,{style:st.categoryHeader,children:(0,qe.jsxs)(De.default,{style:st.categoryHeaderContent,children:[(0,qe.jsx)(Ae.default,{style:st.categoryTitle,children:n}),(0,qe.jsx)(ot.default,{size:24,children:i.length})]})}),(0,qe.jsx)(Je.default,{}),i.map(function(e,t){return(0,qe.jsx)(et.default,{title:e.exercise_name,description:`${e.assigned_sets}\u30bb\u30c3\u30c8 \xd7 ${e.assigned_reps}\u56de`,left:function(){return(0,qe.jsx)(De.default,{style:st.exerciseIcon,children:(0,qe.jsx)(Ue.default,{icon:e.requires_ai_analysis?"camera":"dumbbell",size:24,iconColor:S.color})})},right:function(){return(0,qe.jsxs)(De.default,{style:st.exerciseInfo,children:[(0,qe.jsx)(Ge.default,{mode:"outlined",compact:!0,style:[st.difficultyChip,{borderColor:_(e.difficulty_level)}],textStyle:{color:_(e.difficulty_level),fontSize:10},children:C(e.difficulty_level)}),e.is_completed&&(0,qe.jsx)(Ue.default,{icon:"check-circle",size:20,iconColor:"#4CAF50",style:st.completedIcon})]})},onPress:function(){return function(e){Pe.default.alert(e.exercise_name,`\u8a73\u7d30: ${e.description}\n\n\u30bb\u30c3\u30c8\u6570: ${e.assigned_sets}\n\u56de\u6570: ${e.assigned_reps}\n\u96e3\u6613\u5ea6: ${C(e.difficulty_level)}\n\n\uff08\u8a73\u7d30\u753b\u9762\u306f\u4eca\u5f8c\u5b9f\u88c5\u4e88\u5b9a\u3067\u3059\uff09`,[{text:"OK"}])}(e)},style:st.exerciseItem},e.id)})]})},n)}):(0,qe.jsx)(Le.default,{style:st.emptyCard,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsx)(Ae.default,{style:st.emptyTitle,children:"\u904b\u52d5\u30e1\u30cb\u30e5\u30fc\u304c\u3042\u308a\u307e\u305b\u3093"}),(0,qe.jsx)(Ae.default,{style:st.emptyDescription,children:"\u73fe\u5728\u5229\u7528\u53ef\u80fd\u306a\u904b\u52d5\u30e1\u30cb\u30e5\u30fc\u304c\u3042\u308a\u307e\u305b\u3093\u3002 \u533b\u7642\u5f93\u4e8b\u8005\u306b\u3054\u76f8\u8ac7\u304f\u3060\u3055\u3044\u3002"})]})})]})};var lt=n(3901),dt=n(2490),ct=n(8055),ut=(Ne.default.get("window").width,Be.default.create({container:{flex:1,backgroundColor:"#f5f5f5"},errorContainer:{flex:1,justifyContent:"center",alignItems:"center",padding:20},errorText:{fontSize:18,marginBottom:20,textAlign:"center"},progressCard:{margin:16,elevation:2},progressTitle:{fontSize:16,fontWeight:"bold",marginBottom:12},progressBar:{height:8,borderRadius:4,marginBottom:8},progressText:{fontSize:14,textAlign:"center",color:"#666"},exerciseCard:{margin:16,marginTop:8,elevation:2},exerciseHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:8},exerciseName:{fontSize:18,fontWeight:"bold",flex:1},exerciseDescription:{fontSize:14,color:"#666",marginBottom:4},exerciseCategory:{fontSize:12,color:"#888"},restSurface:{margin:16,padding:24,borderRadius:12,alignItems:"center",backgroundColor:"#E3F2FD",elevation:1},restTitle:{fontSize:20,fontWeight:"bold",color:"#1976D2",marginBottom:8},restTime:{fontSize:36,fontWeight:"bold",color:"#1976D2",marginBottom:16},setCard:{margin:16,marginTop:8,elevation:2},setHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:16},setTitle:{fontSize:16,fontWeight:"bold"},repTitle:{fontSize:16,fontWeight:"bold",color:"#2196F3"},setProgress:{marginBottom:16},setProgressBar:{height:6,borderRadius:3},timerContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:20},timerLabel:{fontSize:14,color:"#666"},timerValue:{fontSize:18,fontWeight:"bold",color:"#333"},controlButtons:{alignItems:"center"},nextButton:{width:"100%",paddingVertical:8},controlCard:{margin:16,marginTop:8,elevation:2},controlRow:{flexDirection:"row",justifyContent:"space-between"},controlButton:{flex:1,marginHorizontal:4},modalContainer:{backgroundColor:"white",margin:20,padding:20,borderRadius:12},modalTitle:{fontSize:20,fontWeight:"bold",textAlign:"center",marginBottom:16},modalText:{fontSize:14,textAlign:"center",color:"#666",marginBottom:20},modalDivider:{marginBottom:20},ratingLabel:{fontSize:14,fontWeight:"bold",marginBottom:8},ratingButtons:{flexDirection:"row",flexWrap:"wrap",marginBottom:16},ratingButton:{marginRight:4,marginBottom:4,minWidth:40},modalButtons:{flexDirection:"row",justifyContent:"space-between",marginTop:20},modalButton:{flex:1,marginHorizontal:8}}));const ft=function(e){var t=e.navigation,n=(0,d.useDispatch)(),i=(0,d.useSelector)(function(e){return e.auth}),r=(i.user,i.token),s=(0,d.useSelector)(function(e){return e.exercise}),a=s.currentSession,l=s.patientPlan,c=s.currentPhase,u=(s.exerciseProgress,(0,o.useState)(0)),f=(0,we.default)(u,2),g=f[0],m=f[1],p=(0,o.useState)(1),h=(0,we.default)(p,2),y=h[0],x=h[1],j=(0,o.useState)(0),v=(0,we.default)(j,2),_=v[0],C=v[1],S=(0,o.useState)(!1),b=(0,we.default)(S,2),T=b[0],w=b[1],D=(0,o.useState)(0),B=(0,we.default)(D,2),I=B[0],P=B[1],z=(0,o.useState)(0),k=(0,we.default)(z,2),O=k[0],A=k[1],L=(0,o.useState)(!1),R=(0,we.default)(L,2),F=R[0],E=R[1],W=(0,o.useState)(""),q=(0,we.default)(W,2),M=q[0],K=(q[1],(0,o.useState)(0)),J=(0,we.default)(K,2),Q=J[0],Y=J[1],X=(0,o.useState)(6),Z=(0,we.default)(X,2),ee=Z[0],te=Z[1],ne=(0,o.useRef)(null),ie=(0,o.useRef)(null),re=r?l:se(c),oe=re[g],se=function(e){var t={pre_surgery:[{id:"1",exercise_name:"\u5927\u817f\u56db\u982d\u7b4b\u30bb\u30c3\u30c6\u30a3\u30f3\u30b0",description:"\u819d\u3092\u4f38\u3070\u3057\u305f\u72b6\u614b\u3067\u592a\u3082\u3082\u306e\u524d\u306e\u7b4b\u8089\u3092\u53ce\u7e2e",category_name:"\u7b4b\u529b\u7dad\u6301",assigned_sets:3,assigned_reps:15,difficulty_level:"beginner",requires_ai_analysis:!1,rest_time_seconds:30,assigned_duration_seconds:5},{id:"2",exercise_name:"\u7acb\u3061\u4e0a\u304c\u308a\u7df4\u7fd2",description:"\u6905\u5b50\u304b\u3089\u306e\u7acb\u3061\u4e0a\u304c\u308a\u52d5\u4f5c\u306e\u7df4\u7fd2",category_name:"\u57fa\u672c\u52d5\u4f5c\u8a13\u7df4",assigned_sets:3,assigned_reps:10,difficulty_level:"beginner",requires_ai_analysis:!1,rest_time_seconds:60,assigned_duration_seconds:0}],phase_3_2:[{id:"5",exercise_name:"\u30df\u30cb\u30b9\u30af\u30ef\u30c3\u30c8",description:"\u819d\u5c48\u66f230\u5ea6\u307e\u3067\u306e\u6d45\u3044\u30b9\u30af\u30ef\u30c3\u30c8",category_name:"\u7b4b\u529b\u5f37\u5316",assigned_sets:3,assigned_reps:10,difficulty_level:"intermediate",requires_ai_analysis:!0,rest_time_seconds:60,assigned_duration_seconds:3}]};return t[e]||t.pre_surgery};(0,o.useEffect)(function(){oe&&n(V(oe))},[oe,n]),(0,o.useEffect)(function(){return T||null!=a&&a.isPaused?clearInterval(ne.current):ne.current=setInterval(function(){A(function(e){return e+1})},1e3),function(){return clearInterval(ne.current)}},[T,null==a?void 0:a.isPaused]),(0,o.useEffect)(function(){return T&&I>0?ie.current=setInterval(function(){P(function(e){return e<=1?(w(!1),0):e-1})},1e3):clearInterval(ie.current),function(){return clearInterval(ie.current)}},[T,I]);var ae=function(){if(y<oe.assigned_sets){x(function(e){return e+1}),C(0);var e=oe.rest_time_seconds||30;P(e),w(!0)}else le()},le=function(){var e={exerciseId:oe.id,sets_completed:oe.assigned_sets,reps_completed:oe.assigned_reps*oe.assigned_sets,duration_seconds:O,pain_level:Q,borg_scale:ee,notes:M};n($({exerciseId:oe.id,sessionData:e})),g<re.length-1?(m(function(e){return e+1}),x(1),C(0),A(0),Y(0),te(6)):E(!0)},de=function(e){var t=e%60;return`${Math.floor(e/60).toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`};return a&&oe?(0,qe.jsxs)($e.default,{style:ut.container,children:[(0,qe.jsx)(Le.default,{style:ut.progressCard,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsx)(Ae.default,{style:ut.progressTitle,children:"\u30bb\u30c3\u30b7\u30e7\u30f3\u9032\u6357"}),(0,qe.jsx)(Ke.default,{progress:function(){var e=re.length;return(g+(y/(null==oe?void 0:oe.assigned_sets)||0))/e*100}()/100,color:"#4CAF50",style:ut.progressBar}),(0,qe.jsxs)(Ae.default,{style:ut.progressText,children:[g+1," / ",re.length," \u904b\u52d5\u5b8c\u4e86"]})]})}),(0,qe.jsx)(Le.default,{style:ut.exerciseCard,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsxs)(De.default,{style:ut.exerciseHeader,children:[(0,qe.jsx)(Ae.default,{style:ut.exerciseName,children:oe.exercise_name}),oe.requires_ai_analysis&&(0,qe.jsx)(Ge.default,{icon:"camera",mode:"outlined",compact:!0,onPress:function(){return t.navigate("AIAnalysis",{exerciseType:oe.exercise_name.includes("\u30b9\u30af\u30ef\u30c3\u30c8")?"squat":"general",exerciseName:oe.exercise_name})},children:"AI\u5206\u6790"})]}),(0,qe.jsx)(Ae.default,{style:ut.exerciseDescription,children:oe.description}),(0,qe.jsxs)(Ae.default,{style:ut.exerciseCategory,children:["\u30ab\u30c6\u30b4\u30ea\u30fc: ",oe.category_name]})]})}),T&&(0,qe.jsxs)(lt.default,{style:ut.restSurface,children:[(0,qe.jsx)(Ae.default,{style:ut.restTitle,children:"\u4f11\u61a9\u4e2d"}),(0,qe.jsx)(Ae.default,{style:ut.restTime,children:de(I)}),(0,qe.jsx)(We.default,{mode:"outlined",onPress:function(){w(!1),P(0)},children:"\u4f11\u61a9\u3092\u30b9\u30ad\u30c3\u30d7"})]}),!T&&(0,qe.jsx)(Le.default,{style:ut.setCard,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsxs)(De.default,{style:ut.setHeader,children:[(0,qe.jsxs)(Ae.default,{style:ut.setTitle,children:["\u30bb\u30c3\u30c8 ",y," / ",oe.assigned_sets]}),(0,qe.jsxs)(Ae.default,{style:ut.repTitle,children:[_," / ",oe.assigned_reps," \u56de"]})]}),(0,qe.jsx)(De.default,{style:ut.setProgress,children:(0,qe.jsx)(Ke.default,{progress:_/oe.assigned_reps,color:"#2196F3",style:ut.setProgressBar})}),(0,qe.jsxs)(De.default,{style:ut.timerContainer,children:[(0,qe.jsx)(Ae.default,{style:ut.timerLabel,children:"\u904b\u52d5\u6642\u9593"}),(0,qe.jsx)(Ae.default,{style:ut.timerValue,children:de(O)})]}),(0,qe.jsx)(De.default,{style:ut.controlButtons,children:(0,qe.jsx)(We.default,{mode:"contained",onPress:function(){_<oe.assigned_reps?C(function(e){return e+1}):ae()},style:ut.nextButton,disabled:null==a?void 0:a.isPaused,children:_<oe.assigned_reps?"\u6b21\u306e\u56de\u6570":"\u30bb\u30c3\u30c8\u5b8c\u4e86"})})]})}),(0,qe.jsx)(Le.default,{style:ut.controlCard,children:(0,qe.jsx)(Le.default.Content,{children:(0,qe.jsxs)(De.default,{style:ut.controlRow,children:[(0,qe.jsx)(We.default,{mode:null!=a&&a.isPaused?"contained":"outlined",onPress:function(){null!=a&&a.isPaused?n(G()):n(U())},style:ut.controlButton,children:null!=a&&a.isPaused?"\u518d\u958b":"\u4e00\u6642\u505c\u6b62"}),(0,qe.jsx)(We.default,{mode:"outlined",onPress:function(){return E(!0)},style:ut.controlButton,children:"\u30bb\u30c3\u30b7\u30e7\u30f3\u7d42\u4e86"})]})})}),(0,qe.jsx)(dt.default,{children:(0,qe.jsxs)(ct.default,{visible:F,onDismiss:function(){return E(!1)},contentContainerStyle:ut.modalContainer,children:[(0,qe.jsx)(Ae.default,{style:ut.modalTitle,children:"\u30bb\u30c3\u30b7\u30e7\u30f3\u5b8c\u4e86"}),(0,qe.jsx)(Ae.default,{style:ut.modalText,children:"\u304a\u75b2\u308c\u69d8\u3067\u3057\u305f\uff01\u4eca\u65e5\u306e\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0\u306f\u3069\u3046\u3067\u3057\u305f\u304b\uff1f"}),(0,qe.jsx)(Je.default,{style:ut.modalDivider}),(0,qe.jsx)(Ae.default,{style:ut.ratingLabel,children:"\u75db\u307f\u30ec\u30d9\u30eb (0-10)"}),(0,qe.jsx)(De.default,{style:ut.ratingButtons,children:[0,1,2,3,4,5,6,7,8,9,10].map(function(e){return(0,qe.jsx)(We.default,{mode:Q===e?"contained":"outlined",onPress:function(){return Y(e)},style:ut.ratingButton,compact:!0,children:e},e)})}),(0,qe.jsx)(Ae.default,{style:ut.ratingLabel,children:"\u75b2\u52b4\u5ea6 (6-20)"}),(0,qe.jsx)(De.default,{style:ut.ratingButtons,children:[6,8,10,12,14,16,18,20].map(function(e){return(0,qe.jsx)(We.default,{mode:ee===e?"contained":"outlined",onPress:function(){return te(e)},style:ut.ratingButton,compact:!0,children:e},e)})}),(0,qe.jsxs)(De.default,{style:ut.modalButtons,children:[(0,qe.jsx)(We.default,{mode:"outlined",onPress:function(){return E(!1)},style:ut.modalButton,children:"\u30ad\u30e3\u30f3\u30bb\u30eb"}),(0,qe.jsx)(We.default,{mode:"contained",onPress:function(){n(N({painLevel:Q,borgScale:ee,notes:M})),n(H()),Pe.default.alert("\u30bb\u30c3\u30b7\u30e7\u30f3\u5b8c\u4e86","\u304a\u75b2\u308c\u69d8\u3067\u3057\u305f\uff01\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002",[{text:"OK",onPress:function(){return t.navigate("Home")}}])},style:ut.modalButton,children:"\u5b8c\u4e86"})]})]})})]}):(0,qe.jsxs)(De.default,{style:ut.errorContainer,children:[(0,qe.jsx)(Ae.default,{style:ut.errorText,children:"\u30bb\u30c3\u30b7\u30e7\u30f3\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093"}),(0,qe.jsx)(We.default,{mode:"contained",onPress:function(){return t.goBack()},children:"\u623b\u308b"})]})};var gt=n(5458),mt=n(126),pt=n(8983),ht=function(e){var t=e.analysisResult,n=e.isAnalyzing,i=void 0!==n&&n,r=e.style,s=(0,o.useState)(new mt.default.Value(0)),a=(0,we.default)(s,1)[0],l=(0,o.useState)(new mt.default.Value(0)),d=(0,we.default)(l,1)[0];if((0,o.useEffect)(function(){t&&(mt.default.timing(a,{toValue:t.overallScore/100,duration:1e3,useNativeDriver:!1}).start(),mt.default.timing(d,{toValue:1,duration:500,useNativeDriver:!0}).start())},[t]),!t&&!i)return null;if(i)return(0,qe.jsx)(Le.default,{style:[jt.container,r],children:(0,qe.jsxs)(Le.default.Content,{style:jt.analyzingContent,children:[(0,qe.jsxs)(De.default,{style:jt.analyzingHeader,children:[(0,qe.jsx)(pt.default,{source:"camera",size:24,color:"#2196F3"}),(0,qe.jsx)(Ae.default,{style:jt.analyzingText,children:"AI\u5206\u6790\u4e2d..."})]}),(0,qe.jsx)(Ke.default,{indeterminate:!0,color:"#2196F3",style:jt.loadingBar})]})});var c=function(e){switch(e){case"good":return"#4CAF50";case"moderate":return"#FF9800";case"poor":return"#F44336";default:return"#757575"}},u=function(e){return e>=80?"#4CAF50":e>=60?"#FF9800":"#F44336"};return(0,qe.jsx)(mt.default.View,{style:[{opacity:d},r],children:(0,qe.jsx)(Le.default,{style:jt.container,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsxs)(De.default,{style:jt.header,children:[(0,qe.jsxs)(De.default,{style:jt.headerLeft,children:[(0,qe.jsx)(pt.default,{source:"robot",size:20,color:"#2196F3"}),(0,qe.jsx)(Ae.default,{style:jt.headerTitle,children:"AI\u52d5\u4f5c\u5206\u6790"})]}),(0,qe.jsx)(Ge.default,{mode:"outlined",style:[jt.feedbackChip,{borderColor:c(t.feedback.level)}],textStyle:{color:c(t.feedback.level)},icon:function(e){switch(e){case"good":return"check-circle";case"moderate":return"alert-circle";case"poor":return"alert";default:return"information"}}(t.feedback.level),children:"good"===t.feedback.level?"\u826f\u597d":"moderate"===t.feedback.level?"\u6ce8\u610f":"\u8981\u6539\u5584"})]}),(0,qe.jsxs)(De.default,{style:jt.scoreSection,children:[(0,qe.jsx)(Ae.default,{style:jt.scoreLabel,children:"\u7dcf\u5408\u30b9\u30b3\u30a2"}),(0,qe.jsxs)(De.default,{style:jt.scoreContainer,children:[(0,qe.jsxs)(mt.default.View,{style:jt.scoreCircle,children:[(0,qe.jsx)(Ae.default,{style:[jt.scoreText,{color:u(t.overallScore)}],children:t.overallScore}),(0,qe.jsx)(Ae.default,{style:jt.scoreUnit,children:"\u70b9"})]}),(0,qe.jsxs)(De.default,{style:jt.scoreDetails,children:[(0,qe.jsxs)(De.default,{style:jt.scoreItem,children:[(0,qe.jsx)(Ae.default,{style:jt.scoreItemLabel,children:"Knee-in\u554f\u984c"}),(0,qe.jsxs)(Ae.default,{style:[jt.scoreItemValue,{color:u(100-t.kneeInToeOutScore)}],children:[t.kneeInToeOutScore,"%"]})]}),(0,qe.jsx)(mt.default.View,{style:jt.progressContainer,children:(0,qe.jsx)(Ke.default,{progress:a,color:u(t.overallScore),style:jt.scoreProgress})})]})]})]}),(0,qe.jsxs)(De.default,{style:jt.alignmentSection,children:[(0,qe.jsx)(Ae.default,{style:jt.sectionTitle,children:"\u819d\u306e\u4f4d\u7f6e\u95a2\u4fc2"}),(0,qe.jsxs)(De.default,{style:jt.alignmentGrid,children:[(0,qe.jsxs)(De.default,{style:jt.alignmentItem,children:[(0,qe.jsx)(Ae.default,{style:jt.alignmentLabel,children:"\u5de6\u819d"}),(0,qe.jsx)(Ge.default,{mode:"outlined",compact:!0,style:[jt.alignmentChip,{borderColor:yt(t.alignment.leftKneeAlignment)}],textStyle:{color:yt(t.alignment.leftKneeAlignment)},children:xt(t.alignment.leftKneeAlignment)})]}),(0,qe.jsxs)(De.default,{style:jt.alignmentItem,children:[(0,qe.jsx)(Ae.default,{style:jt.alignmentLabel,children:"\u53f3\u819d"}),(0,qe.jsx)(Ge.default,{mode:"outlined",compact:!0,style:[jt.alignmentChip,{borderColor:yt(t.alignment.rightKneeAlignment)}],textStyle:{color:yt(t.alignment.rightKneeAlignment)},children:xt(t.alignment.rightKneeAlignment)})]})]}),(0,qe.jsxs)(De.default,{style:jt.ratioContainer,children:[(0,qe.jsxs)(Ae.default,{style:jt.ratioLabel,children:["\u819d\u5e45/\u8db3\u9996\u5e45\u6bd4\u7387: ",t.alignment.kneeAnkleRatio]}),(0,qe.jsx)(Ae.default,{style:jt.ratioNote,children:"(\u7406\u60f3\u5024: 0.8-1.2)"})]})]}),(0,qe.jsx)(De.default,{style:jt.feedbackSection,children:(0,qe.jsx)(Ae.default,{style:jt.feedbackMessage,children:t.feedback.message})}),t.feedback.suggestions.length>0&&(0,qe.jsxs)(De.default,{style:jt.suggestionsSection,children:[(0,qe.jsx)(Ae.default,{style:jt.sectionTitle,children:"\u6539\u5584\u63d0\u6848"}),t.feedback.suggestions.map(function(e,t){return(0,qe.jsx)(et.default,{title:e,left:function(){return(0,qe.jsx)(pt.default,{source:"lightbulb-outline",size:20,color:"#FF9800"})},titleStyle:jt.suggestionText,style:jt.suggestionItem},t)})]}),(0,qe.jsxs)(Ae.default,{style:jt.timestamp,children:["\u5206\u6790\u6642\u523b: ",new Date(t.timestamp).toLocaleTimeString("ja-JP")]})]})})})},yt=function(e){switch(e){case"good":return"#4CAF50";case"moderate":return"#FF9800";case"poor":return"#F44336";default:return"#757575"}},xt=function(e){switch(e){case"good":return"\u826f\u597d";case"moderate":return"\u6ce8\u610f";case"poor":return"\u8981\u6539\u5584";default:return"\u4e0d\u660e"}},jt=Be.default.create({container:{margin:8,elevation:4,backgroundColor:"#fff"},analyzingContent:{paddingVertical:20},analyzingHeader:{flexDirection:"row",alignItems:"center",justifyContent:"center",marginBottom:16},analyzingText:{marginLeft:8,fontSize:16,fontWeight:"bold",color:"#2196F3"},loadingBar:{height:4,borderRadius:2},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:16},headerLeft:{flexDirection:"row",alignItems:"center"},headerTitle:{marginLeft:8,fontSize:16,fontWeight:"bold",color:"#333"},feedbackChip:{borderWidth:1},scoreSection:{marginBottom:20},scoreLabel:{fontSize:14,fontWeight:"bold",color:"#666",marginBottom:12,textAlign:"center"},scoreContainer:{flexDirection:"row",alignItems:"center"},scoreCircle:{width:80,height:80,borderRadius:40,backgroundColor:"#f5f5f5",justifyContent:"center",alignItems:"center",marginRight:20},scoreText:{fontSize:24,fontWeight:"bold"},scoreUnit:{fontSize:12,color:"#666"},scoreDetails:{flex:1},scoreItem:{flexDirection:"row",justifyContent:"space-between",marginBottom:8},scoreItemLabel:{fontSize:12,color:"#666"},scoreItemValue:{fontSize:12,fontWeight:"bold"},progressContainer:{marginTop:8},scoreProgress:{height:6,borderRadius:3},alignmentSection:{marginBottom:20},sectionTitle:{fontSize:14,fontWeight:"bold",color:"#333",marginBottom:12},alignmentGrid:{flexDirection:"row",justifyContent:"space-around",marginBottom:12},alignmentItem:{alignItems:"center"},alignmentLabel:{fontSize:12,color:"#666",marginBottom:4},alignmentChip:{borderWidth:1},ratioContainer:{alignItems:"center",padding:8,backgroundColor:"#f9f9f9",borderRadius:8},ratioLabel:{fontSize:12,color:"#333"},ratioNote:{fontSize:10,color:"#666",marginTop:2},feedbackSection:{marginBottom:16,padding:12,backgroundColor:"#f0f8ff",borderRadius:8,borderLeftWidth:4,borderLeftColor:"#2196F3"},feedbackMessage:{fontSize:14,color:"#333",lineHeight:20},suggestionsSection:{marginBottom:16},suggestionItem:{paddingVertical:4,paddingHorizontal:0},suggestionText:{fontSize:12,color:"#333",lineHeight:18},timestamp:{fontSize:10,color:"#999",textAlign:"right",marginTop:8}});ht.propTypes={analysisData:ke().shape({overall_score:ke().number,knee_stability_score:ke().number,movement_quality_score:ke().number,symmetry_score:ke().number,balance_score:ke().number,issues:ke().arrayOf(ke().shape({issue:ke().string.isRequired,severity:ke().oneOf(["low","medium","high"]).isRequired,recommendation:ke().string.isRequired})),recommendations:ke().arrayOf(ke().string)}),isLoading:ke().bool,onRetry:ke().func},ht.defaultProps={analysisData:null,isLoading:!1,onRetry:null};const vt=ht;var _t=Ne.default.get("window"),Ct=_t.width,St=_t.height,bt=function(e){return e>=80?"#4CAF50":e>=60?"#FF9800":"#F44336"},Tt=Be.default.create({container:{flex:1,backgroundColor:"#000"},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#f5f5f5"},loadingText:{marginTop:16,fontSize:16,color:"#666"},errorContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#f5f5f5",padding:20},errorText:{fontSize:18,fontWeight:"bold",color:"#F44336",marginBottom:20,textAlign:"center"},cameraContainer:{flex:.6},camera:{flex:1},cameraOverlay:{flex:1,backgroundColor:"transparent",justifyContent:"space-between"},cameraHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:16,paddingTop:40},exerciseInfo:{flex:1},exerciseChip:{backgroundColor:"rgba(255,255,255,0.9)",borderColor:"#2196F3",borderWidth:1},exerciseChipText:{color:"#2196F3",fontSize:12},flipButton:{backgroundColor:"rgba(0,0,0,0.3)"},recordingIndicator:{flexDirection:"row",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(244,67,54,0.9)",paddingHorizontal:16,paddingVertical:8,borderRadius:20,alignSelf:"center"},recordingDot:{width:8,height:8,borderRadius:4,backgroundColor:"#fff",marginRight:8},recordingText:{color:"#fff",fontSize:14,fontWeight:"bold"},cameraControls:{alignItems:"center",paddingBottom:40},startButton:{backgroundColor:"#4CAF50",paddingHorizontal:32},stopButton:{paddingHorizontal:32},analysisContainer:{flex:.4,backgroundColor:"#f5f5f5"},currentAnalysis:{margin:8},summaryCard:{margin:8,elevation:4},summaryTitle:{fontSize:18,fontWeight:"bold",marginBottom:16,textAlign:"center"},summaryStats:{flexDirection:"row",justifyContent:"space-around",marginBottom:20},statItem:{alignItems:"center"},statValue:{fontSize:24,fontWeight:"bold",color:"#2196F3"},statLabel:{fontSize:12,color:"#666",marginTop:4},improvementsSection:{marginBottom:20,padding:12,backgroundColor:"#fff3cd",borderRadius:8,borderLeftWidth:4,borderLeftColor:"#ffc107"},improvementsTitle:{fontSize:14,fontWeight:"bold",marginBottom:8,color:"#856404"},improvementText:{fontSize:12,color:"#856404",lineHeight:18},summaryActions:{flexDirection:"row",justifyContent:"space-around"},retryButton:{flex:.4},completeButton:{flex:.4},historyCard:{margin:8,elevation:2},historyTitle:{fontSize:16,fontWeight:"bold",marginBottom:8},historyDivider:{marginBottom:12},historyItem:{marginBottom:12},historyHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:4},historyTime:{fontSize:12,color:"#666"},historyChip:{borderWidth:1},historyFeedback:{fontSize:12,color:"#333",lineHeight:16},historyItemDivider:{marginTop:8},errorCard:{margin:8,elevation:2,backgroundColor:"#ffebee"},errorTitle:{fontSize:16,fontWeight:"bold",color:"#F44336",marginBottom:8},errorDescription:{fontSize:14,color:"#666",lineHeight:20,marginBottom:16},errorButton:{alignSelf:"center"}});const wt=function(e){var t,n,i=e.navigation,r=e.route,s=(0,o.useState)(null),a=(0,we.default)(s,2),l=a[0],d=a[1],c=(0,o.useState)(Camera.Constants.Type.front),u=(0,we.default)(c,2),g=u[0],m=u[1],p=(0,o.useState)(!1),h=(0,we.default)(p,2),y=h[0],x=h[1],j=(0,o.useState)(!1),v=(0,we.default)(j,2),_=v[0],C=v[1],S=(0,o.useState)(null),b=(0,we.default)(S,2),T=b[0],w=b[1],D=(0,o.useState)(null),B=(0,we.default)(D,2),I=B[0],P=B[1],z=(0,o.useState)([]),k=(0,we.default)(z,2),O=k[0],A=k[1],L=(0,o.useState)(!1),R=(0,we.default)(L,2),F=R[0],E=R[1],W=(0,o.useRef)(null),q=(0,o.useRef)(null),M=(null==(t=r.params)?void 0:t.exerciseType)||"squat",H=(null==(n=r.params)?void 0:n.exerciseName)||"AI\u52d5\u4f5c\u5206\u6790";(0,o.useEffect)(function(){return(0,f.default)(function*(){var e=yield Camera.requestCameraPermissionsAsync(),t=yield MediaLibrary.requestPermissionsAsync();d("granted"===e.status&&"granted"===t.status);try{var n=yield aiAnalysisService.initializeModel();E(n)}catch(i){console.error("AI\u5206\u6790\u30b5\u30fc\u30d3\u30b9\u521d\u671f\u5316\u30a8\u30e9\u30fc:",i),E(!1)}})(),function(){q.current&&clearInterval(q.current)}},[]);var V=function(){var e=(0,f.default)(function*(){W.current&&F?(x(!0),C(!0),aiAnalysisService.resetAnalysis(),A([]),w(null),q.current=setInterval((0,f.default)(function*(){try{var e=$(),t=yield aiAnalysisService.analyzeFrame(e,M);w(t),A(function(e){return[].concat((0,gt.default)(e),[t]).slice(-10)})}catch(n){console.error("\u30d5\u30ec\u30fc\u30e0\u5206\u6790\u30a8\u30e9\u30fc:",n)}}),2e3)):Pe.default.alert("\u30a8\u30e9\u30fc","\u30ab\u30e1\u30e9\u307e\u305f\u306fAI\u5206\u6790\u306e\u6e96\u5099\u304c\u3067\u304d\u3066\u3044\u307e\u305b\u3093\u3002")});return function(){return e.apply(this,arguments)}}(),$=function(){for(var e=[],t=Ct/2,n=St/2,i=0;i<17;i++)e.push({x:t+100*(Math.random()-.5),y:n+200*(Math.random()-.5),score:.8+.2*Math.random()});return e};return null===l?(0,qe.jsxs)(De.default,{style:Tt.loadingContainer,children:[(0,qe.jsx)(Oe.default,{size:"large"}),(0,qe.jsx)(Ae.default,{style:Tt.loadingText,children:"\u30ab\u30e1\u30e9\u306e\u6e96\u5099\u4e2d..."})]}):!1===l?(0,qe.jsxs)(De.default,{style:Tt.errorContainer,children:[(0,qe.jsx)(Ae.default,{style:Tt.errorText,children:"\u30ab\u30e1\u30e9\u3078\u306e\u30a2\u30af\u30bb\u30b9\u304c\u5fc5\u8981\u3067\u3059"}),(0,qe.jsx)(We.default,{mode:"contained",onPress:function(){return i.goBack()},children:"\u623b\u308b"})]}):(0,qe.jsxs)(De.default,{style:Tt.container,children:[(0,qe.jsx)(De.default,{style:Tt.cameraContainer,children:(0,qe.jsx)(Camera,{ref:W,style:Tt.camera,type:g,ratio:"16:9",children:(0,qe.jsxs)(De.default,{style:Tt.cameraOverlay,children:[(0,qe.jsxs)(De.default,{style:Tt.cameraHeader,children:[(0,qe.jsx)(De.default,{style:Tt.exerciseInfo,children:(0,qe.jsx)(Ge.default,{mode:"outlined",style:Tt.exerciseChip,textStyle:Tt.exerciseChipText,children:H})}),(0,qe.jsx)(Ue.default,{icon:"camera-flip",size:24,iconColor:"#fff",onPress:function(){m(g===Camera.Constants.Type.back?Camera.Constants.Type.front:Camera.Constants.Type.back)},style:Tt.flipButton})]}),y&&(0,qe.jsxs)(De.default,{style:Tt.recordingIndicator,children:[(0,qe.jsx)(De.default,{style:Tt.recordingDot}),(0,qe.jsx)(Ae.default,{style:Tt.recordingText,children:"AI\u5206\u6790\u4e2d"})]}),(0,qe.jsx)(De.default,{style:Tt.cameraControls,children:y?(0,qe.jsx)(We.default,{mode:"contained",onPress:function(){x(!1),C(!1),q.current&&(clearInterval(q.current),q.current=null);var e=aiAnalysisService.getSessionSummary();P(e),Pe.default.alert("AI\u5206\u6790\u5b8c\u4e86",`\u5206\u6790\u30d5\u30ec\u30fc\u30e0\u6570: ${e.totalFrames}\n\u5e73\u5747\u30b9\u30b3\u30a2: ${e.averageScore}\u70b9\n\u554f\u984c\u691c\u51fa: ${e.issueCount}\u56de`,[{text:"\u78ba\u8a8d",onPress:function(){}}])},style:Tt.stopButton,buttonColor:"#F44336",children:"\u5206\u6790\u505c\u6b62"}):(0,qe.jsx)(We.default,{mode:"contained",onPress:V,style:Tt.startButton,disabled:!F,children:"\u5206\u6790\u958b\u59cb"})})]})})}),(0,qe.jsxs)($e.default,{style:Tt.analysisContainer,children:[(T||_)&&(0,qe.jsx)(vt,{analysisResult:T,isAnalyzing:_&&!T,style:Tt.currentAnalysis}),I&&(0,qe.jsx)(Le.default,{style:Tt.summaryCard,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsx)(Ae.default,{style:Tt.summaryTitle,children:"\u30bb\u30c3\u30b7\u30e7\u30f3\u5206\u6790\u7d50\u679c"}),(0,qe.jsxs)(De.default,{style:Tt.summaryStats,children:[(0,qe.jsxs)(De.default,{style:Tt.statItem,children:[(0,qe.jsx)(Ae.default,{style:Tt.statValue,children:I.totalFrames}),(0,qe.jsx)(Ae.default,{style:Tt.statLabel,children:"\u5206\u6790\u30d5\u30ec\u30fc\u30e0"})]}),(0,qe.jsxs)(De.default,{style:Tt.statItem,children:[(0,qe.jsx)(Ae.default,{style:[Tt.statValue,{color:bt(I.averageScore)}],children:I.averageScore}),(0,qe.jsx)(Ae.default,{style:Tt.statLabel,children:"\u5e73\u5747\u30b9\u30b3\u30a2"})]}),(0,qe.jsxs)(De.default,{style:Tt.statItem,children:[(0,qe.jsx)(Ae.default,{style:[Tt.statValue,{color:I.issueCount>0?"#F44336":"#4CAF50"}],children:I.issueCount}),(0,qe.jsx)(Ae.default,{style:Tt.statLabel,children:"\u554f\u984c\u691c\u51fa"})]})]}),I.improvements.length>0&&(0,qe.jsxs)(De.default,{style:Tt.improvementsSection,children:[(0,qe.jsx)(Ae.default,{style:Tt.improvementsTitle,children:"\u6539\u5584\u63d0\u6848"}),I.improvements.map(function(e,t){return(0,qe.jsxs)(Ae.default,{style:Tt.improvementText,children:["\u2022 ",e]},t)})]}),(0,qe.jsxs)(De.default,{style:Tt.summaryActions,children:[(0,qe.jsx)(We.default,{mode:"outlined",onPress:function(){w(null),P(null),A([]),aiAnalysisService.resetAnalysis()},style:Tt.retryButton,children:"\u518d\u5206\u6790"}),(0,qe.jsx)(We.default,{mode:"contained",onPress:function(){return i.goBack()},style:Tt.completeButton,children:"\u5b8c\u4e86"})]})]})}),O.length>0&&!I&&(0,qe.jsx)(Le.default,{style:Tt.historyCard,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsx)(Ae.default,{style:Tt.historyTitle,children:"\u5206\u6790\u5c65\u6b74"}),(0,qe.jsx)(Je.default,{style:Tt.historyDivider}),O.slice(-3).map(function(e,t){return(0,qe.jsxs)(De.default,{style:Tt.historyItem,children:[(0,qe.jsxs)(De.default,{style:Tt.historyHeader,children:[(0,qe.jsx)(Ae.default,{style:Tt.historyTime,children:new Date(e.timestamp).toLocaleTimeString("ja-JP")}),(0,qe.jsxs)(Ge.default,{mode:"outlined",compact:!0,style:[Tt.historyChip,{borderColor:bt(e.overallScore)}],textStyle:{color:bt(e.overallScore)},children:[e.overallScore,"\u70b9"]})]}),(0,qe.jsx)(Ae.default,{style:Tt.historyFeedback,children:e.feedback.message}),t<Math.min(O.length,3)-1&&(0,qe.jsx)(Je.default,{style:Tt.historyItemDivider})]},e.timestamp)})]})}),!F&&(0,qe.jsx)(Le.default,{style:Tt.errorCard,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsx)(Ae.default,{style:Tt.errorTitle,children:"AI\u5206\u6790\u304c\u5229\u7528\u3067\u304d\u307e\u305b\u3093"}),(0,qe.jsx)(Ae.default,{style:Tt.errorDescription,children:"AI\u5206\u6790\u30e2\u30c7\u30eb\u306e\u521d\u671f\u5316\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u63a5\u7d9a\u3092\u78ba\u8a8d\u3057\u3066\u30a2\u30d7\u30ea\u3092\u518d\u8d77\u52d5\u3057\u3066\u304f\u3060\u3055\u3044\u3002"}),(0,qe.jsx)(We.default,{mode:"outlined",onPress:function(){return i.goBack()},style:Tt.errorButton,children:"\u623b\u308b"})]})})]})]})};var Dt=n(1140),Bt=n(8895),It=Be.default.create({container:{flex:1,backgroundColor:"#f5f5f5"},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#f5f5f5"},loadingText:{marginTop:16,fontSize:16,color:"#666"},alertCard:{margin:8,elevation:4},alertContent:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},alertText:{flex:1,fontSize:14,color:"#d32f2f"},tabNavigation:{backgroundColor:"#fff",paddingVertical:8,elevation:2},tabButtons:{flexDirection:"row",justifyContent:"space-around",paddingHorizontal:8},tabButton:{flex:1,marginHorizontal:2},tabBadge:{position:"absolute",top:-8,right:-8},content:{flex:1},tabContent:{padding:16},sectionTitle:{fontSize:18,fontWeight:"bold",marginBottom:16},staffCard:{marginBottom:16,elevation:2},staffItem:{paddingVertical:8},avatarContainer:{position:"relative"},statusIndicator:{position:"absolute",bottom:0,right:0,width:12,height:12,borderRadius:6,borderWidth:2,borderColor:"#fff"},contactInfo:{alignItems:"flex-end"},hospitalName:{fontSize:12,color:"#666",marginBottom:2},contactText:{fontSize:12,color:"#2196F3",fontWeight:"bold"},contactCard:{marginBottom:16,elevation:2,backgroundColor:"#fff3cd"},emergencyContact:{alignItems:"center",paddingVertical:8},emergencyTitle:{fontSize:16,fontWeight:"bold",color:"#856404",marginBottom:4},emergencyPhone:{fontSize:18,fontWeight:"bold",color:"#d32f2f",marginBottom:8},emergencyNote:{fontSize:12,color:"#856404",textAlign:"center",lineHeight:16},teamInfoCard:{elevation:2},teamDescription:{fontSize:14,color:"#333",lineHeight:20,marginBottom:16},rolesList:{marginTop:8},roleItem:{marginBottom:16,paddingBottom:12,borderBottomWidth:1,borderBottomColor:"#f0f0f0"},roleTitle:{fontSize:14,fontWeight:"bold",color:"#333",marginBottom:4},roleDescription:{fontSize:12,color:"#666",lineHeight:16},shareOptionsCard:{marginBottom:16,elevation:2},shareButtons:{flexDirection:"row",flexWrap:"wrap",gap:8},shareButton:{flex:1,minWidth:"45%"},reportsCard:{marginBottom:16,elevation:2},reportItem:{padding:12,marginBottom:12,backgroundColor:"#f9f9f9",borderRadius:8},reportHeader:{flexDirection:"row",justifyContent:"space-between",marginBottom:4},reportTitle:{fontSize:14,fontWeight:"bold",color:"#333"},reportDate:{fontSize:12,color:"#666"},reportRecipients:{fontSize:12,color:"#666",marginBottom:8},reportActions:{flexDirection:"row",justifyContent:"flex-end"},autoShareCard:{elevation:2},settingItem:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:12,borderBottomWidth:1,borderBottomColor:"#eee"},settingLabel:{fontSize:14,color:"#333"},settingsCard:{marginBottom:16,elevation:2},settingListItem:{paddingVertical:8}});const Pt=function(e){e.navigation;var t=(0,d.useDispatch)(),n=(0,d.useSelector)(function(e){return e.medicalCollaboration}),i=n.medicalStaff,r=(n.messages,n.unreadCount,n.activeConversation,n.sharedReports),s=(n.appointments,n.nextAppointment,n.notifications,n.alerts),a=n.sharingPreferences,l=n.notificationSettings,c=n.activeTab,u=n.isLoading,f=(n.error,(0,o.useState)("")),g=(0,we.default)(f,2),m=(g[0],g[1],(0,o.useState)(!1)),p=(0,we.default)(m,2),h=(p[0],p[1],(0,o.useState)(null)),y=(0,we.default)(h,2);y[0],y[1];(0,o.useEffect)(function(){t(je())},[t]);var x=function(e){t(xe(e))},j=function(e){var n,r,o={type:e,title:v(e),recipients:[null==(n=i.primaryDoctor)?void 0:n.id,null==(r=i.physiotherapist)?void 0:r.id]};t(me(o)),Pe.default.alert("\u30ec\u30dd\u30fc\u30c8\u9001\u4fe1",`${o.title}\u3092\u533b\u7642\u5f93\u4e8b\u8005\u306b\u9001\u4fe1\u3057\u307e\u3057\u305f\u3002`,[{text:"OK"}])},v=function(e){switch(e){case"weekly_progress":return"\u9031\u9593\u9032\u6357\u30ec\u30dd\u30fc\u30c8";case"acl_rsi":return"ACL-RSI\u8a55\u4fa1\u7d50\u679c";case"ai_analysis":return"AI\u52d5\u4f5c\u5206\u6790\u7d50\u679c";case"exercise_log":return"\u904b\u52d5\u8a18\u9332";default:return"\u30ec\u30dd\u30fc\u30c8"}},_=function(){return(0,qe.jsxs)(De.default,{style:It.tabContent,children:[(0,qe.jsx)(Le.default,{style:It.staffCard,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsx)(Ae.default,{style:It.sectionTitle,children:"\u533b\u7642\u30c1\u30fc\u30e0"}),i.primaryDoctor&&(0,qe.jsx)(et.default,{title:i.primaryDoctor.name,description:`${i.primaryDoctor.title} - ${i.primaryDoctor.specialization}`,left:function(){return(0,qe.jsxs)(De.default,{style:It.avatarContainer,children:[(0,qe.jsx)(Dt.default,{size:48,label:i.primaryDoctor.name.slice(0,1)}),(0,qe.jsx)(De.default,{style:[It.statusIndicator,{backgroundColor:"#4CAF50"}]})]})},right:function(){return(0,qe.jsxs)(De.default,{style:It.contactInfo,children:[(0,qe.jsx)(Ae.default,{style:It.hospitalName,children:i.primaryDoctor.hospital}),(0,qe.jsx)(Ae.default,{style:It.contactText,children:i.primaryDoctor.phone})]})},style:It.staffItem}),i.physiotherapist&&(0,qe.jsx)(et.default,{title:i.physiotherapist.name,description:`${i.physiotherapist.title} - ${i.physiotherapist.specialization}`,left:function(){return(0,qe.jsxs)(De.default,{style:It.avatarContainer,children:[(0,qe.jsx)(Dt.default,{size:48,label:i.physiotherapist.name.slice(0,1)}),(0,qe.jsx)(De.default,{style:[It.statusIndicator,{backgroundColor:"#2196F3"}]})]})},right:function(){return(0,qe.jsxs)(De.default,{style:It.contactInfo,children:[(0,qe.jsx)(Ae.default,{style:It.hospitalName,children:i.physiotherapist.hospital}),(0,qe.jsx)(Ae.default,{style:It.contactText,children:i.physiotherapist.phone})]})},style:It.staffItem}),i.nurses.map(function(e){return(0,qe.jsx)(et.default,{title:e.name,description:`${e.title} - ${e.specialization}`,left:function(){return(0,qe.jsxs)(De.default,{style:It.avatarContainer,children:[(0,qe.jsx)(Dt.default,{size:48,label:e.name.slice(0,1)}),(0,qe.jsx)(De.default,{style:[It.statusIndicator,{backgroundColor:"#FF9800"}]})]})},right:function(){return(0,qe.jsxs)(De.default,{style:It.contactInfo,children:[(0,qe.jsx)(Ae.default,{style:It.hospitalName,children:e.hospital}),(0,qe.jsx)(Ae.default,{style:It.contactText,children:e.email})]})},style:It.staffItem},e.id)}),i.specialists.map(function(e){return(0,qe.jsx)(et.default,{title:e.name,description:`${e.title} - ${e.specialization}`,left:function(){return(0,qe.jsxs)(De.default,{style:It.avatarContainer,children:[(0,qe.jsx)(Dt.default,{size:48,label:e.name.slice(0,1)}),(0,qe.jsx)(De.default,{style:[It.statusIndicator,{backgroundColor:"#9C27B0"}]})]})},right:function(){return(0,qe.jsxs)(De.default,{style:It.contactInfo,children:[(0,qe.jsx)(Ae.default,{style:It.hospitalName,children:e.hospital}),(0,qe.jsx)(Ae.default,{style:It.contactText,children:e.email})]})},style:It.staffItem},e.id)})]})}),(0,qe.jsx)(Le.default,{style:It.contactCard,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsx)(Ae.default,{style:It.sectionTitle,children:"\u7dca\u6025\u9023\u7d61\u5148"}),(0,qe.jsxs)(De.default,{style:It.emergencyContact,children:[(0,qe.jsx)(Ae.default,{style:It.emergencyTitle,children:"24\u6642\u9593\u5bfe\u5fdc"}),(0,qe.jsx)(Ae.default,{style:It.emergencyPhone,children:"\ud83d\udcde 03-1234-9999"}),(0,qe.jsx)(Ae.default,{style:It.emergencyNote,children:"\u75db\u307f\u306e\u60aa\u5316\u3084\u7570\u5e38\u3092\u611f\u3058\u305f\u5834\u5408\u306f\u3001\u3059\u3050\u306b\u3054\u9023\u7d61\u304f\u3060\u3055\u3044\u3002"})]})]})}),(0,qe.jsx)(Le.default,{style:It.teamInfoCard,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsx)(Ae.default,{style:It.sectionTitle,children:"\u30c1\u30fc\u30e0\u7d39\u4ecb"}),(0,qe.jsx)(Ae.default,{style:It.teamDescription,children:"\u3042\u306a\u305f\u306eACL\u30ea\u30cf\u30d3\u30ea\u30c6\u30fc\u30b7\u30e7\u30f3\u3092\u3001\u591a\u8077\u7a2e\u306e\u533b\u7642\u5c02\u9580\u5bb6\u30c1\u30fc\u30e0\u304c\u30b5\u30dd\u30fc\u30c8\u3057\u307e\u3059\u3002 \u5404\u5c02\u9580\u5bb6\u304c\u9023\u643a\u3057\u3066\u3001\u5b89\u5168\u3067\u52b9\u679c\u7684\u306a\u5fa9\u5e30\u3092\u304a\u624b\u4f1d\u3044\u3057\u307e\u3059\u3002"}),(0,qe.jsxs)(De.default,{style:It.rolesList,children:[(0,qe.jsxs)(De.default,{style:It.roleItem,children:[(0,qe.jsx)(Ae.default,{style:It.roleTitle,children:"\ud83c\udfe5 \u6574\u5f62\u5916\u79d1\u533b"}),(0,qe.jsx)(Ae.default,{style:It.roleDescription,children:"\u8a3a\u65ad\u30fb\u6cbb\u7642\u65b9\u91dd\u306e\u6c7a\u5b9a\u3001\u624b\u8853\u5f8c\u306e\u7d4c\u904e\u89b3\u5bdf\u3001\u5fa9\u5e30\u8a31\u53ef\u306e\u5224\u65ad"})]}),(0,qe.jsxs)(De.default,{style:It.roleItem,children:[(0,qe.jsx)(Ae.default,{style:It.roleTitle,children:"\ud83e\udd38 \u7406\u5b66\u7642\u6cd5\u58eb"}),(0,qe.jsx)(Ae.default,{style:It.roleDescription,children:"\u30ea\u30cf\u30d3\u30ea\u30c6\u30fc\u30b7\u30e7\u30f3\u8a08\u753b\u306e\u4f5c\u6210\u3001\u904b\u52d5\u6307\u5c0e\u3001\u6a5f\u80fd\u8a55\u4fa1"})]}),(0,qe.jsxs)(De.default,{style:It.roleItem,children:[(0,qe.jsx)(Ae.default,{style:It.roleTitle,children:"\ud83d\udc69\u200d\u2695\ufe0f \u770b\u8b77\u5e2b"}),(0,qe.jsx)(Ae.default,{style:It.roleDescription,children:"\u65e5\u5e38\u7684\u306a\u30b1\u30a2\u3001\u75c7\u72b6\u7ba1\u7406\u3001\u60a3\u8005\u6559\u80b2\u3068\u30b5\u30dd\u30fc\u30c8"})]}),(0,qe.jsxs)(De.default,{style:It.roleItem,children:[(0,qe.jsx)(Ae.default,{style:It.roleTitle,children:"\ud83e\udde0 \u5fc3\u7406\u5c02\u9580\u5bb6"}),(0,qe.jsx)(Ae.default,{style:It.roleDescription,children:"\u5fc3\u7406\u7684\u30b5\u30dd\u30fc\u30c8\u3001\u5fa9\u5e30\u4e0d\u5b89\u306e\u8efd\u6e1b\u3001\u30e1\u30f3\u30bf\u30eb\u30d8\u30eb\u30b9\u30b1\u30a2"})]})]})]})})]})};return u?(0,qe.jsxs)(De.default,{style:It.loadingContainer,children:[(0,qe.jsx)(Oe.default,{size:"large"}),(0,qe.jsx)(Ae.default,{style:It.loadingText,children:"\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u8fbc\u307f\u4e2d..."})]}):(0,qe.jsxs)(De.default,{style:It.container,children:[s.filter(function(e){return e.isActive}).map(function(e){return(0,qe.jsx)(Le.default,{style:[It.alertCard,{backgroundColor:"#ffebee"}],children:(0,qe.jsx)(Le.default.Content,{children:(0,qe.jsxs)(De.default,{style:It.alertContent,children:[(0,qe.jsx)(Ae.default,{style:It.alertText,children:e.message}),(0,qe.jsx)(Ue.default,{icon:"close",size:20,onPress:function(){return t(pe(e.id))}})]})})},e.id)}),(0,qe.jsx)(De.default,{style:It.tabNavigation,children:(0,qe.jsxs)(De.default,{style:It.tabButtons,children:[(0,qe.jsx)(We.default,{mode:"team"===c?"contained":"outlined",onPress:function(){return x("team")},style:It.tabButton,compact:!0,children:"\u533b\u7642\u30c1\u30fc\u30e0"}),(0,qe.jsx)(We.default,{mode:"reports"===c?"contained":"outlined",onPress:function(){return x("reports")},style:It.tabButton,compact:!0,children:"\u30ec\u30dd\u30fc\u30c8\u5171\u6709"}),(0,qe.jsx)(We.default,{mode:"settings"===c?"contained":"outlined",onPress:function(){return x("settings")},style:It.tabButton,compact:!0,children:"\u8a2d\u5b9a"})]})}),(0,qe.jsx)($e.default,{style:It.content,children:function(){switch(c){case"team":default:return _();case"reports":return(0,qe.jsxs)(De.default,{style:It.tabContent,children:[(0,qe.jsx)(Le.default,{style:It.shareOptionsCard,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsx)(Ae.default,{style:It.sectionTitle,children:"\u30c7\u30fc\u30bf\u5171\u6709"}),(0,qe.jsxs)(De.default,{style:It.shareButtons,children:[(0,qe.jsx)(We.default,{mode:"outlined",onPress:function(){return j("weekly_progress")},style:It.shareButton,icon:"chart-line",children:"\u9032\u6357\u30ec\u30dd\u30fc\u30c8"}),(0,qe.jsx)(We.default,{mode:"outlined",onPress:function(){return j("acl_rsi")},style:It.shareButton,icon:"psychology",children:"ACL-RSI\u7d50\u679c"}),(0,qe.jsx)(We.default,{mode:"outlined",onPress:function(){return j("ai_analysis")},style:It.shareButton,icon:"camera",children:"AI\u5206\u6790\u7d50\u679c"}),(0,qe.jsx)(We.default,{mode:"outlined",onPress:function(){return j("exercise_log")},style:It.shareButton,icon:"dumbbell",children:"\u904b\u52d5\u8a18\u9332"})]})]})}),(0,qe.jsx)(Le.default,{style:It.reportsCard,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsx)(Ae.default,{style:It.sectionTitle,children:"\u5171\u6709\u6e08\u307f\u30ec\u30dd\u30fc\u30c8"}),r.map(function(e){return(0,qe.jsxs)(De.default,{style:It.reportItem,children:[(0,qe.jsxs)(De.default,{style:It.reportHeader,children:[(0,qe.jsx)(Ae.default,{style:It.reportTitle,children:e.title}),(0,qe.jsx)(Ae.default,{style:It.reportDate,children:(t=e.sentAt,new Date(t).toLocaleDateString("ja-JP",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))})]}),(0,qe.jsxs)(Ae.default,{style:It.reportRecipients,children:["\u9001\u4fe1\u5148: ",e.recipients.length,"\u540d"]}),(0,qe.jsx)(De.default,{style:It.reportActions,children:(0,qe.jsx)(Ge.default,{mode:"outlined",compact:!0,children:"sent"===e.status?"\u9001\u4fe1\u6e08\u307f":"\u9001\u4fe1\u4e2d"})})]},e.id);var t})]})}),(0,qe.jsx)(Le.default,{style:It.autoShareCard,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsx)(Ae.default,{style:It.sectionTitle,children:"\u81ea\u52d5\u5171\u6709\u8a2d\u5b9a"}),(0,qe.jsxs)(De.default,{style:It.settingItem,children:[(0,qe.jsx)(Ae.default,{style:It.settingLabel,children:"\u9032\u6357\u30c7\u30fc\u30bf\u306e\u81ea\u52d5\u5171\u6709"}),(0,qe.jsx)(Bt.default,{value:a.autoShareProgress,onValueChange:function(e){return t(he({autoShareProgress:e}))}})]}),(0,qe.jsxs)(De.default,{style:It.settingItem,children:[(0,qe.jsx)(Ae.default,{style:It.settingLabel,children:"ACL-RSI\u7d50\u679c\u306e\u81ea\u52d5\u5171\u6709"}),(0,qe.jsx)(Bt.default,{value:a.autoShareACLRSI,onValueChange:function(e){return t(he({autoShareACLRSI:e}))}})]}),(0,qe.jsxs)(De.default,{style:It.settingItem,children:[(0,qe.jsx)(Ae.default,{style:It.settingLabel,children:"\u9031\u9593\u30ec\u30dd\u30fc\u30c8\u306e\u81ea\u52d5\u9001\u4fe1"}),(0,qe.jsx)(Bt.default,{value:a.weeklyReportEnabled,onValueChange:function(e){return t(he({weeklyReportEnabled:e}))}})]})]})})]});case"settings":return(0,qe.jsxs)(De.default,{style:It.tabContent,children:[(0,qe.jsx)(Le.default,{style:It.settingsCard,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsx)(Ae.default,{style:It.sectionTitle,children:"\u901a\u77e5\u8a2d\u5b9a"}),(0,qe.jsxs)(De.default,{style:It.settingItem,children:[(0,qe.jsx)(Ae.default,{style:It.settingLabel,children:"\u65b0\u3057\u3044\u30e1\u30c3\u30bb\u30fc\u30b8\u306e\u901a\u77e5"}),(0,qe.jsx)(Bt.default,{value:l.newMessage,onValueChange:function(e){return t(ye({newMessage:e}))}})]}),(0,qe.jsxs)(De.default,{style:It.settingItem,children:[(0,qe.jsx)(Ae.default,{style:It.settingLabel,children:"\u4e88\u7d04\u30ea\u30de\u30a4\u30f3\u30c0\u30fc"}),(0,qe.jsx)(Bt.default,{value:l.appointmentReminder,onValueChange:function(e){return t(ye({appointmentReminder:e}))}})]}),(0,qe.jsxs)(De.default,{style:It.settingItem,children:[(0,qe.jsx)(Ae.default,{style:It.settingLabel,children:"\u30ec\u30dd\u30fc\u30c8\u8981\u8acb\u306e\u901a\u77e5"}),(0,qe.jsx)(Bt.default,{value:l.reportRequested,onValueChange:function(e){return t(ye({reportRequested:e}))}})]}),(0,qe.jsxs)(De.default,{style:It.settingItem,children:[(0,qe.jsx)(Ae.default,{style:It.settingLabel,children:"\u7dca\u6025\u30a2\u30e9\u30fc\u30c8"}),(0,qe.jsx)(Bt.default,{value:l.urgentAlert,onValueChange:function(e){return t(ye({urgentAlert:e}))}})]})]})}),(0,qe.jsx)(Le.default,{style:It.settingsCard,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsx)(Ae.default,{style:It.sectionTitle,children:"\u30d7\u30e9\u30a4\u30d0\u30b7\u30fc\u8a2d\u5b9a"}),(0,qe.jsxs)(De.default,{style:It.settingItem,children:[(0,qe.jsx)(Ae.default,{style:It.settingLabel,children:"\u7dca\u6025\u9023\u7d61\u5148\u6a5f\u80fd"}),(0,qe.jsx)(Bt.default,{value:a.emergencyContactEnabled,onValueChange:function(e){return t(he({emergencyContactEnabled:e}))}})]}),(0,qe.jsx)(et.default,{title:"\u30c7\u30fc\u30bf\u4f7f\u7528\u30dd\u30ea\u30b7\u30fc",description:"\u533b\u7642\u30c7\u30fc\u30bf\u306e\u4f7f\u7528\u306b\u95a2\u3059\u308b\u30dd\u30ea\u30b7\u30fc\u3092\u78ba\u8a8d",left:function(){return(0,qe.jsx)(tt.default,{icon:"shield-account"})},right:function(){return(0,qe.jsx)(tt.default,{icon:"chevron-right"})},onPress:function(){return Pe.default.alert("\u30dd\u30ea\u30b7\u30fc","\u30c7\u30fc\u30bf\u4f7f\u7528\u30dd\u30ea\u30b7\u30fc\u306e\u8a73\u7d30\u753b\u9762\u306f\u958b\u767a\u4e2d\u3067\u3059")},style:It.settingListItem}),(0,qe.jsx)(et.default,{title:"\u30c7\u30fc\u30bf\u30a8\u30af\u30b9\u30dd\u30fc\u30c8",description:"\u81ea\u5206\u306e\u533b\u7642\u30c7\u30fc\u30bf\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8",left:function(){return(0,qe.jsx)(tt.default,{icon:"download"})},right:function(){return(0,qe.jsx)(tt.default,{icon:"chevron-right"})},onPress:function(){return Pe.default.alert("\u30a8\u30af\u30b9\u30dd\u30fc\u30c8","\u30c7\u30fc\u30bf\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u6a5f\u80fd\u306f\u958b\u767a\u4e2d\u3067\u3059")},style:It.settingListItem})]})}),(0,qe.jsx)(Le.default,{style:It.settingsCard,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsx)(Ae.default,{style:It.sectionTitle,children:"\u30c7\u30fc\u30bf\u5171\u6709\u5c65\u6b74"}),(0,qe.jsx)(et.default,{title:"\u5171\u6709\u6e08\u307f\u30ec\u30dd\u30fc\u30c8\u3092\u78ba\u8a8d",description:"\u3053\u308c\u307e\u3067\u306b\u9001\u4fe1\u3057\u305f\u30ec\u30dd\u30fc\u30c8\u306e\u4e00\u89a7",left:function(){return(0,qe.jsx)(tt.default,{icon:"file-document-multiple"})},right:function(){return(0,qe.jsx)(tt.default,{icon:"chevron-right"})},onPress:function(){return x("reports")},style:It.settingListItem}),(0,qe.jsx)(et.default,{title:"\u30c7\u30fc\u30bf\u30a8\u30af\u30b9\u30dd\u30fc\u30c8",description:"\u81ea\u5206\u306e\u533b\u7642\u30c7\u30fc\u30bf\u3092\u30a8\u30af\u30b9\u30dd\u30fc\u30c8",left:function(){return(0,qe.jsx)(tt.default,{icon:"download"})},right:function(){return(0,qe.jsx)(tt.default,{icon:"chevron-right"})},onPress:function(){return Pe.default.alert("\u30a8\u30af\u30b9\u30dd\u30fc\u30c8","\u30c7\u30fc\u30bf\u30a8\u30af\u30b9\u30dd\u30fc\u30c8\u6a5f\u80fd\u306f\u958b\u767a\u4e2d\u3067\u3059")},style:It.settingListItem})]})})]})}}()})]})};var zt=Be.default.create({container:{flex:1,backgroundColor:"#f5f5f5"},goalCard:{margin:16,marginBottom:8,elevation:2},sectionTitle:{fontSize:16,fontWeight:"bold",marginBottom:12},goalContent:{alignItems:"center"},goalText:{fontSize:14,marginBottom:8,color:"#333"},goalProgress:{width:"100%",height:8,borderRadius:4,marginBottom:4},goalPercentage:{fontSize:12,color:"#666",alignSelf:"flex-end"},statsCard:{margin:16,marginTop:8,marginBottom:8,elevation:2},statsGrid:{flexDirection:"row",justifyContent:"space-around",marginBottom:16},statItem:{alignItems:"center"},statValue:{fontSize:24,fontWeight:"bold",color:"#2E7D32"},statLabel:{fontSize:12,color:"#666",marginTop:4},statsDivider:{marginBottom:16},averageStats:{flexDirection:"row",justifyContent:"space-around"},averageStat:{alignItems:"center"},averageLabel:{fontSize:12,color:"#666",marginBottom:4},averageValue:{flexDirection:"row",alignItems:"baseline"},averageNumber:{fontSize:20,fontWeight:"bold"},averageUnit:{fontSize:12,color:"#666",marginLeft:2},sessionsCard:{margin:16,marginTop:8,marginBottom:8,elevation:2},sessionItem:{marginBottom:12},sessionHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:4},sessionDate:{fontSize:14,fontWeight:"bold"},painChip:{borderWidth:1},sessionDetails:{marginLeft:4},sessionDetail:{fontSize:12,color:"#666"},sessionDivider:{marginTop:12},legendCard:{margin:16,marginTop:8,elevation:1,backgroundColor:"#FAFAFA"},legendSection:{marginBottom:12},legendTitle:{fontSize:14,fontWeight:"bold",marginBottom:8},legendItems:{flexDirection:"row",flexWrap:"wrap",gap:8},legendItem:{flexDirection:"row",alignItems:"center",marginRight:16},legendColor:{width:12,height:12,borderRadius:6,marginRight:6},legendText:{fontSize:12,color:"#333"},loadingContainer:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#f5f5f5"},loadingText:{marginTop:16,fontSize:16,color:"#666"}});const kt=function(){var e=(0,d.useDispatch)(),t=(0,d.useSelector)(function(e){return e.progress}),n=t.weeklyGoal,i=t.monthlyStats,r=t.recentSessions,s=t.isLoading;t.error;(0,o.useEffect)(function(){e(ie())},[e]);var a,l=function(e){return e<=3?"#4CAF50":e<=6?"#FF9800":"#F44336"};return s?(0,qe.jsxs)(De.default,{style:zt.loadingContainer,children:[(0,qe.jsx)(Oe.default,{size:"large"}),(0,qe.jsx)(Ae.default,{style:zt.loadingText,children:"\u9032\u6357\u30c7\u30fc\u30bf\u3092\u8aad\u307f\u8fbc\u307f\u4e2d..."})]}):(0,qe.jsxs)($e.default,{style:zt.container,children:[(0,qe.jsx)(Le.default,{style:zt.goalCard,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsx)(Ae.default,{style:zt.sectionTitle,children:"\u4eca\u9031\u306e\u76ee\u6a19"}),(0,qe.jsxs)(De.default,{style:zt.goalContent,children:[(0,qe.jsxs)(Ae.default,{style:zt.goalText,children:[n.completed," / ",n.total," \u30bb\u30c3\u30b7\u30e7\u30f3\u5b8c\u4e86"]}),(0,qe.jsx)(Ke.default,{progress:n.completed/n.total,color:"#2E7D32",style:zt.goalProgress}),(0,qe.jsxs)(Ae.default,{style:zt.goalPercentage,children:[Math.round(n.completed/n.total*100),"%"]})]})]})}),(0,qe.jsx)(Le.default,{style:zt.statsCard,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsx)(Ae.default,{style:zt.sectionTitle,children:"\u4eca\u6708\u306e\u7d71\u8a08"}),(0,qe.jsxs)(De.default,{style:zt.statsGrid,children:[(0,qe.jsxs)(De.default,{style:zt.statItem,children:[(0,qe.jsx)(Ae.default,{style:zt.statValue,children:i.sessionsCompleted}),(0,qe.jsx)(Ae.default,{style:zt.statLabel,children:"\u30bb\u30c3\u30b7\u30e7\u30f3\u6570"})]}),(0,qe.jsxs)(De.default,{style:zt.statItem,children:[(0,qe.jsx)(Ae.default,{style:zt.statValue,children:i.totalExercises}),(0,qe.jsx)(Ae.default,{style:zt.statLabel,children:"\u7dcf\u904b\u52d5\u56de\u6570"})]})]}),(0,qe.jsx)(Je.default,{style:zt.statsDivider}),(0,qe.jsxs)(De.default,{style:zt.averageStats,children:[(0,qe.jsxs)(De.default,{style:zt.averageStat,children:[(0,qe.jsx)(Ae.default,{style:zt.averageLabel,children:"\u5e73\u5747\u75db\u307f\u30ec\u30d9\u30eb"}),(0,qe.jsxs)(De.default,{style:zt.averageValue,children:[(0,qe.jsx)(Ae.default,{style:[zt.averageNumber,{color:l(i.averagePainLevel)}],children:i.averagePainLevel}),(0,qe.jsx)(Ae.default,{style:zt.averageUnit,children:"/10"})]})]}),(0,qe.jsxs)(De.default,{style:zt.averageStat,children:[(0,qe.jsx)(Ae.default,{style:zt.averageLabel,children:"\u5e73\u5747\u75b2\u52b4\u5ea6"}),(0,qe.jsxs)(De.default,{style:zt.averageValue,children:[(0,qe.jsx)(Ae.default,{style:[zt.averageNumber,{color:(a=i.averageBorgScale,a<=11?"#4CAF50":a<=15?"#FF9800":"#F44336")}],children:i.averageBorgScale}),(0,qe.jsx)(Ae.default,{style:zt.averageUnit,children:"/20"})]})]})]})]})}),(0,qe.jsx)(Le.default,{style:zt.sessionsCard,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsx)(Ae.default,{style:zt.sectionTitle,children:"\u6700\u8fd1\u306e\u30bb\u30c3\u30b7\u30e7\u30f3"}),r.map(function(e,t){return(0,qe.jsxs)(De.default,{style:zt.sessionItem,children:[(0,qe.jsxs)(De.default,{style:zt.sessionHeader,children:[(0,qe.jsx)(Ae.default,{style:zt.sessionDate,children:new Date(e.date).toLocaleDateString("ja-JP",{month:"short",day:"numeric"})}),(0,qe.jsxs)(Ge.default,{mode:"outlined",style:[zt.painChip,{borderColor:l(e.painLevel)}],textStyle:{color:l(e.painLevel)},children:["\u75db\u307f ",e.painLevel]})]}),(0,qe.jsx)(De.default,{style:zt.sessionDetails,children:(0,qe.jsxs)(Ae.default,{style:zt.sessionDetail,children:[e.exercises,"\u7a2e\u76ee \u2022 ",e.duration,"\u5206"]})}),t<r.length-1&&(0,qe.jsx)(Je.default,{style:zt.sessionDivider})]},t)})]})}),(0,qe.jsx)(Le.default,{style:zt.legendCard,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsx)(Ae.default,{style:zt.sectionTitle,children:"\u8a55\u4fa1\u6307\u6a19"}),(0,qe.jsxs)(De.default,{style:zt.legendSection,children:[(0,qe.jsx)(Ae.default,{style:zt.legendTitle,children:"\u75db\u307f\u30ec\u30d9\u30eb (VAS)"}),(0,qe.jsxs)(De.default,{style:zt.legendItems,children:[(0,qe.jsxs)(De.default,{style:zt.legendItem,children:[(0,qe.jsx)(De.default,{style:[zt.legendColor,{backgroundColor:"#4CAF50"}]}),(0,qe.jsx)(Ae.default,{style:zt.legendText,children:"0-3: \u8efd\u5ea6"})]}),(0,qe.jsxs)(De.default,{style:zt.legendItem,children:[(0,qe.jsx)(De.default,{style:[zt.legendColor,{backgroundColor:"#FF9800"}]}),(0,qe.jsx)(Ae.default,{style:zt.legendText,children:"4-6: \u4e2d\u7b49\u5ea6"})]}),(0,qe.jsxs)(De.default,{style:zt.legendItem,children:[(0,qe.jsx)(De.default,{style:[zt.legendColor,{backgroundColor:"#F44336"}]}),(0,qe.jsx)(Ae.default,{style:zt.legendText,children:"7-10: \u91cd\u5ea6"})]})]})]}),(0,qe.jsxs)(De.default,{style:zt.legendSection,children:[(0,qe.jsx)(Ae.default,{style:zt.legendTitle,children:"\u75b2\u52b4\u5ea6 (Borg\u30b9\u30b1\u30fc\u30eb)"}),(0,qe.jsxs)(De.default,{style:zt.legendItems,children:[(0,qe.jsxs)(De.default,{style:zt.legendItem,children:[(0,qe.jsx)(De.default,{style:[zt.legendColor,{backgroundColor:"#4CAF50"}]}),(0,qe.jsx)(Ae.default,{style:zt.legendText,children:"6-11: \u697d"})]}),(0,qe.jsxs)(De.default,{style:zt.legendItem,children:[(0,qe.jsx)(De.default,{style:[zt.legendColor,{backgroundColor:"#FF9800"}]}),(0,qe.jsx)(Ae.default,{style:zt.legendText,children:"12-15: \u3084\u3084\u301c\u304d\u3064\u3044"})]}),(0,qe.jsxs)(De.default,{style:zt.legendItem,children:[(0,qe.jsx)(De.default,{style:[zt.legendColor,{backgroundColor:"#F44336"}]}),(0,qe.jsx)(Ae.default,{style:zt.legendText,children:"16-20: \u975e\u5e38\u306b\u304d\u3064\u3044"})]})]})]})]})})]})};function Ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(n),!0).forEach(function(t){(0,u.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ot(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Lt=Be.default.create({container:{flex:1,backgroundColor:"#f5f5f5"},profileCard:{margin:16,marginBottom:8,elevation:2},profileHeader:{flexDirection:"row",alignItems:"center"},avatar:{width:64,height:64,borderRadius:32,backgroundColor:"#2E7D32",justifyContent:"center",alignItems:"center",marginRight:16},avatarText:{fontSize:24,fontWeight:"bold",color:"white"},profileInfo:{flex:1},patientName:{fontSize:20,fontWeight:"bold",marginBottom:4},patientNumber:{fontSize:14,color:"#666",marginBottom:2},currentPhase:{fontSize:14,color:"#2E7D32",fontWeight:"500"},infoCard:{margin:16,marginTop:8,marginBottom:8,elevation:2},sectionTitle:{fontSize:16,fontWeight:"bold",marginBottom:12},infoRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:8},infoLabel:{fontSize:14,color:"#333",flex:1},infoValue:{fontSize:14,color:"#666",flex:1,textAlign:"right"},infoDivider:{marginVertical:4},menuCard:{margin:16,marginTop:8,marginBottom:8,elevation:2},menuItem:{paddingVertical:4},appInfoCard:{margin:16,marginTop:8,marginBottom:8,elevation:1,backgroundColor:"#FAFAFA"},disclaimer:{fontSize:12,color:"#666",lineHeight:18,marginTop:8,fontStyle:"italic"},logoutContainer:{padding:16,paddingTop:8},logoutButton:{borderColor:"#F44336",borderWidth:1}});const Rt=function(e){var t,n,i=e.navigation,r=(0,d.useDispatch)(),o=(0,d.useSelector)(function(e){return e.auth}).user,s=function(e){return e?new Date(e).toLocaleDateString("ja-JP"):"\u672a\u8a2d\u5b9a"},a=[{title:"ACL-RSI\u8a55\u4fa1",description:"\u5fc3\u7406\u7684\u6e96\u5099\u5ea6\u306e\u8a55\u4fa1",icon:"clipboard-check",onPress:function(){return Pe.default.alert("\u6e96\u5099\u4e2d","\u3053\u306e\u6a5f\u80fd\u306f\u958b\u767a\u4e2d\u3067\u3059")}},{title:"\u901a\u77e5\u8a2d\u5b9a",description:"\u30ea\u30de\u30a4\u30f3\u30c0\u30fc\u306e\u8a2d\u5b9a",icon:"bell",onPress:function(){return Pe.default.alert("\u6e96\u5099\u4e2d","\u3053\u306e\u6a5f\u80fd\u306f\u958b\u767a\u4e2d\u3067\u3059")}},{title:"\u30c7\u30fc\u30bf\u30a8\u30af\u30b9\u30dd\u30fc\u30c8",description:"\u9032\u6357\u30c7\u30fc\u30bf\u306e\u30a8\u30af\u30b9\u30dd\u30fc\u30c8",icon:"download",onPress:function(){return Pe.default.alert("\u6e96\u5099\u4e2d","\u3053\u306e\u6a5f\u80fd\u306f\u958b\u767a\u4e2d\u3067\u3059")}},{title:"\u30d8\u30eb\u30d7\u30fb\u30b5\u30dd\u30fc\u30c8",description:"\u4f7f\u3044\u65b9\u3084\u304a\u554f\u3044\u5408\u308f\u305b",icon:"help-circle",onPress:function(){return Pe.default.alert("\u6e96\u5099\u4e2d","\u3053\u306e\u6a5f\u80fd\u306f\u958b\u767a\u4e2d\u3067\u3059")}}];return(0,qe.jsxs)($e.default,{style:Lt.container,children:[(0,qe.jsx)(Le.default,{style:Lt.profileCard,children:(0,qe.jsx)(Le.default.Content,{children:(0,qe.jsxs)(De.default,{style:Lt.profileHeader,children:[(0,qe.jsx)(De.default,{style:Lt.avatar,children:(0,qe.jsx)(Ae.default,{style:Lt.avatarText,children:(null==o||null==(t=o.name)?void 0:t.charAt(0))||"P"})}),(0,qe.jsxs)(De.default,{style:Lt.profileInfo,children:[(0,qe.jsx)(Ae.default,{style:Lt.patientName,children:(null==o?void 0:o.name)||"\u60a3\u8005\u540d"}),(0,qe.jsxs)(Ae.default,{style:Lt.patientNumber,children:["\u60a3\u8005\u756a\u53f7: ",(null==o?void 0:o.patientNumber)||"N/A"]}),(0,qe.jsxs)(Ae.default,{style:Lt.currentPhase,children:["\u73fe\u5728\u306e\u6bb5\u968e: ",(n=null==o?void 0:o.currentPhase,{pre_surgery:"\u8853\u524d\u671f",post_surgery_early:"\u8853\u76f4\u5f8c\u671f",phase_3_1:"\u57fa\u790e\u56de\u5fa9\u671f",phase_3_2:"\u7b4b\u529b\u5f37\u5316\u671f",phase_3_3:"\u6a5f\u80fd\u8a13\u7df4\u671f",phase_3_4:"\u7af6\u6280\u5fa9\u5e30\u671f",completed:"\u5b8c\u4e86"}[n]||"\u4e0d\u660e")]})]})]})})}),(0,qe.jsx)(Le.default,{style:Lt.infoCard,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsx)(Ae.default,{style:Lt.sectionTitle,children:"\u57fa\u672c\u60c5\u5831"}),(0,qe.jsxs)(De.default,{style:Lt.infoRow,children:[(0,qe.jsx)(Ae.default,{style:Lt.infoLabel,children:"\u751f\u5e74\u6708\u65e5"}),(0,qe.jsx)(Ae.default,{style:Lt.infoValue,children:s(null==o?void 0:o.dateOfBirth)})]}),(0,qe.jsx)(Je.default,{style:Lt.infoDivider}),(0,qe.jsxs)(De.default,{style:Lt.infoRow,children:[(0,qe.jsx)(Ae.default,{style:Lt.infoLabel,children:"\u6027\u5225"}),(0,qe.jsx)(Ae.default,{style:Lt.infoValue,children:"male"===(null==o?void 0:o.gender)?"\u7537\u6027":"female"===(null==o?void 0:o.gender)?"\u5973\u6027":"\u672a\u8a2d\u5b9a"})]}),(0,qe.jsx)(Je.default,{style:Lt.infoDivider}),(0,qe.jsxs)(De.default,{style:Lt.infoRow,children:[(0,qe.jsx)(Ae.default,{style:Lt.infoLabel,children:"\u624b\u8853\u65e5"}),(0,qe.jsx)(Ae.default,{style:Lt.infoValue,children:s(null==o?void 0:o.surgeryDate)})]}),(0,qe.jsx)(Je.default,{style:Lt.infoDivider}),(0,qe.jsxs)(De.default,{style:Lt.infoRow,children:[(0,qe.jsx)(Ae.default,{style:Lt.infoLabel,children:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"}),(0,qe.jsx)(Ae.default,{style:Lt.infoValue,children:(null==o?void 0:o.email)||"\u672a\u767b\u9332"})]})]})}),(0,qe.jsx)(Le.default,{style:Lt.menuCard,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsx)(Ae.default,{style:Lt.sectionTitle,children:"\u8a2d\u5b9a\u30fb\u305d\u306e\u4ed6"}),a.map(function(e,t){return(0,qe.jsx)(et.default,{title:e.title,description:e.description,left:function(t){return(0,qe.jsx)(tt.default,At(At({},t),{},{icon:e.icon,color:"#666"}))},right:function(e){return(0,qe.jsx)(tt.default,At(At({},e),{},{icon:"chevron-right",color:"#999"}))},onPress:e.onPress,style:Lt.menuItem},t)})]})}),(0,qe.jsx)(Le.default,{style:Lt.appInfoCard,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsx)(Ae.default,{style:Lt.sectionTitle,children:"\u30a2\u30d7\u30ea\u60c5\u5831"}),(0,qe.jsxs)(De.default,{style:Lt.infoRow,children:[(0,qe.jsx)(Ae.default,{style:Lt.infoLabel,children:"\u30d0\u30fc\u30b8\u30e7\u30f3"}),(0,qe.jsx)(Ae.default,{style:Lt.infoValue,children:"1.0.0"})]}),(0,qe.jsx)(Je.default,{style:Lt.infoDivider}),(0,qe.jsxs)(De.default,{style:Lt.infoRow,children:[(0,qe.jsx)(Ae.default,{style:Lt.infoLabel,children:"\u6700\u7d42\u66f4\u65b0"}),(0,qe.jsx)(Ae.default,{style:Lt.infoValue,children:"2024\u5e7412\u6708"})]}),(0,qe.jsx)(Je.default,{style:Lt.infoDivider}),(0,qe.jsx)(Ae.default,{style:Lt.disclaimer,children:"\u3053\u306e\u30a2\u30d7\u30ea\u306f\u533b\u7642\u5f93\u4e8b\u8005\u306e\u6307\u5c0e\u306e\u4e0b\u3067\u3054\u5229\u7528\u304f\u3060\u3055\u3044\u3002 \u4f53\u8abf\u4e0d\u826f\u3084\u75db\u307f\u304c\u7d9a\u304f\u5834\u5408\u306f\u3001\u3059\u3050\u306b\u62c5\u5f53\u533b\u5e2b\u306b\u3054\u76f8\u8ac7\u304f\u3060\u3055\u3044\u3002"})]})}),(0,qe.jsx)(De.default,{style:Lt.logoutContainer,children:(0,qe.jsx)(We.default,{mode:"outlined",onPress:function(){Pe.default.alert("\u30ed\u30b0\u30a2\u30a6\u30c8","\u30ed\u30b0\u30a2\u30a6\u30c8\u3057\u3066\u3082\u3088\u308d\u3057\u3044\u3067\u3059\u304b\uff1f",[{text:"\u30ad\u30e3\u30f3\u30bb\u30eb",style:"cancel"},{text:"\u30ed\u30b0\u30a2\u30a6\u30c8",style:"destructive",onPress:function(){r(b()),i.replace("Login")}}])},style:Lt.logoutButton,textColor:"#F44336",icon:"logout",children:"\u30ed\u30b0\u30a2\u30a6\u30c8"})})]})};var Ft={title:"\u7af6\u6280\u5fa9\u5e30\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8",description:"\u8853\u5f8c6\u30f6\u6708\u4ee5\u964d\u306e\u7af6\u6280\u5fa9\u5e30\u306b\u5411\u3051\u305f\u7dcf\u5408\u8a55\u4fa1\u9805\u76ee\u3002\u3059\u3079\u3066\u306e\u57fa\u6e96\u3092\u30af\u30ea\u30a2\u3057\u3066\u304b\u3089\u7af6\u6280\u5fa9\u5e30\u3092\u691c\u8a0e\u3057\u3066\u304f\u3060\u3055\u3044\u3002",evaluationPeriod:"\u8853\u5f8c6\u30f6\u6708\u4ee5\u964d",categories:[{id:"medical_clearance",title:"\u533b\u5b66\u7684\u30af\u30ea\u30a2\u30e9\u30f3\u30b9",description:"\u533b\u7642\u5f93\u4e8b\u8005\u306b\u3088\u308b\u8a55\u4fa1\u3068\u8a31\u53ef",criteria:[{id:"surgeon_clearance",title:"\u57f7\u5200\u533b\u306e\u5fa9\u5e30\u8a31\u53ef",description:"\u624b\u8853\u3092\u884c\u3063\u305f\u533b\u5e2b\u304b\u3089\u306e\u7af6\u6280\u5fa9\u5e30\u8a31\u53ef",type:"medical_approval",required:!0,measurementMethod:"\u533b\u5e2b\u306b\u3088\u308b\u8a3a\u5bdf\u30fb\u8a55\u4fa1",passingCriteria:"\u57f7\u5200\u533b\u306b\u3088\u308b\u7af6\u6280\u5fa9\u5e30\u8a31\u53ef",icon:"\ud83d\udc68\u200d\u2695\ufe0f",weight:10},{id:"pt_clearance",title:"\u7406\u5b66\u7642\u6cd5\u58eb\u306e\u8a55\u4fa1\u30af\u30ea\u30a2",description:"\u7406\u5b66\u7642\u6cd5\u58eb\u306b\u3088\u308b\u6a5f\u80fd\u8a55\u4fa1\u306e\u5408\u683c",type:"medical_approval",required:!0,measurementMethod:"\u7406\u5b66\u7642\u6cd5\u58eb\u306b\u3088\u308b\u6a5f\u80fd\u8a55\u4fa1",passingCriteria:"\u7406\u5b66\u7642\u6cd5\u58eb\u306b\u3088\u308b\u5fa9\u5e30\u63a8\u5968",icon:"\ud83e\udd38\u200d\u2642\ufe0f",weight:8}]},{id:"physical_function",title:"\u8eab\u4f53\u6a5f\u80fd\u8a55\u4fa1",description:"\u7b4b\u529b\u30fb\u53ef\u52d5\u57df\u30fb\u30d0\u30e9\u30f3\u30b9\u7b49\u306e\u8eab\u4f53\u6a5f\u80fd",criteria:[{id:"knee_rom",title:"\u819d\u95a2\u7bc0\u53ef\u52d5\u57df\uff08\u5b8c\u5168\u56de\u5fa9\uff09",description:"\u819d\u95a2\u7bc0\u306e\u5c48\u66f2\u30fb\u4f38\u5c55\u53ef\u52d5\u57df\u304c\u5065\u5074\u3068\u540c\u7b49",type:"rom_measurement",required:!0,measurementMethod:"\u30b4\u30cb\u30aa\u30e1\u30fc\u30bf\u30fc\u6e2c\u5b9a",passingCriteria:"\u5065\u5074\u3068\u306e\u5dee2\xb0\u4ee5\u5185",icon:"\ud83d\udcd0",weight:7},{id:"quadriceps_strength",title:"\u5927\u817f\u56db\u982d\u7b4b\u7b4b\u529b\uff0890%\u4ee5\u4e0a\uff09",description:"\u5927\u817f\u56db\u982d\u7b4b\u7b4b\u529b\u304c\u5065\u5074\u306e90%\u4ee5\u4e0a",type:"strength_test",required:!0,measurementMethod:"\u7b49\u5c3a\u6027\u7b4b\u529b\u6e2c\u5b9a",passingCriteria:"\u5065\u5074\u306e90%\u4ee5\u4e0a",icon:"\ud83d\udcaa",weight:9},{id:"hamstring_strength",title:"\u30cf\u30e0\u30b9\u30c8\u30ea\u30f3\u30b0\u30b9\u7b4b\u529b\uff0890%\u4ee5\u4e0a\uff09",description:"\u30cf\u30e0\u30b9\u30c8\u30ea\u30f3\u30b0\u30b9\u7b4b\u529b\u304c\u5065\u5074\u306e90%\u4ee5\u4e0a",type:"strength_test",required:!0,measurementMethod:"\u7b49\u5c3a\u6027\u7b4b\u529b\u6e2c\u5b9a",passingCriteria:"\u5065\u5074\u306e90%\u4ee5\u4e0a",icon:"\ud83e\uddb5",weight:8},{id:"hamstring_quad_ratio",title:"H/Q\u6bd4\uff0860%\u4ee5\u4e0a\uff09",description:"\u30cf\u30e0\u30b9\u30c8\u30ea\u30f3\u30b0\u30b9/\u5927\u817f\u56db\u982d\u7b4b\u6bd4\u304c\u9069\u6b63\u7bc4\u56f2",type:"ratio_calculation",required:!0,measurementMethod:"\u7b4b\u529b\u6e2c\u5b9a\u5024\u304b\u3089\u7b97\u51fa",passingCriteria:"60%\u4ee5\u4e0a",icon:"\u2696\ufe0f",weight:7}]},{id:"functional_tests",title:"\u6a5f\u80fd\u7684\u30c6\u30b9\u30c8",description:"\u30db\u30c3\u30d7\u30c6\u30b9\u30c8\u30fb\u52d5\u4f5c\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u8a55\u4fa1",criteria:[{id:"single_hop",title:"\u30b7\u30f3\u30b0\u30eb\u30db\u30c3\u30d7\u30c6\u30b9\u30c8\uff0890%\u4ee5\u4e0a\uff09",description:"\u7247\u811a\u30db\u30c3\u30d7\u8ddd\u96e2\u304c\u5065\u5074\u306e90%\u4ee5\u4e0a",type:"hop_test",required:!0,measurementMethod:"\u6700\u5927\u8df3\u8e8d\u8ddd\u96e2\u6e2c\u5b9a\uff083\u56de\u306e\u5e73\u5747\uff09",passingCriteria:"\u5065\u5074\u306e90%\u4ee5\u4e0a",icon:"\ud83e\udd98",weight:8},{id:"triple_hop",title:"\u30c8\u30ea\u30d7\u30eb\u30db\u30c3\u30d7\u30c6\u30b9\u30c8\uff0890%\u4ee5\u4e0a\uff09",description:"3\u56de\u9023\u7d9a\u30db\u30c3\u30d7\u8ddd\u96e2\u304c\u5065\u5074\u306e90%\u4ee5\u4e0a",type:"hop_test",required:!0,measurementMethod:"3\u56de\u9023\u7d9a\u8df3\u8e8d\u8ddd\u96e2\u6e2c\u5b9a",passingCriteria:"\u5065\u5074\u306e90%\u4ee5\u4e0a",icon:"\ud83c\udfc3\u200d\u2642\ufe0f",weight:8},{id:"crossover_hop",title:"\u30af\u30ed\u30b9\u30aa\u30fc\u30d0\u30fc\u30db\u30c3\u30d7\u30c6\u30b9\u30c8\uff0890%\u4ee5\u4e0a\uff09",description:"\u5de6\u53f3\u4ea4\u4e92\u30db\u30c3\u30d7\u8ddd\u96e2\u304c\u5065\u5074\u306e90%\u4ee5\u4e0a",type:"hop_test",required:!0,measurementMethod:"\u5de6\u53f3\u4ea4\u4e92\u8df3\u8e8d\u8ddd\u96e2\u6e2c\u5b9a",passingCriteria:"\u5065\u5074\u306e90%\u4ee5\u4e0a",icon:"\u2194\ufe0f",weight:8},{id:"timed_hop",title:"6m\u30bf\u30a4\u30e0\u30c9\u30db\u30c3\u30d7\u30c6\u30b9\u30c8\uff0890%\u4ee5\u4e0a\uff09",description:"6m\u7247\u811a\u30db\u30c3\u30d7\u30bf\u30a4\u30e0\u304c\u5065\u5074\u306e110%\u4ee5\u5185",type:"hop_test",required:!0,measurementMethod:"6m\u7247\u811a\u30db\u30c3\u30d7\u306e\u6642\u9593\u6e2c\u5b9a",passingCriteria:"\u5065\u5074\u306e110%\u4ee5\u5185\uff08\u6642\u9593\u304c\u77ed\u3044\u307b\u3069\u826f\u3044\uff09",icon:"\u23f1\ufe0f",weight:8}]},{id:"movement_quality",title:"\u52d5\u4f5c\u306e\u8cea",description:"\u7740\u5730\u52d5\u4f5c\u30fb\u52d5\u7684\u30d0\u30e9\u30f3\u30b9\u30fb\u5354\u8abf\u6027",criteria:[{id:"landing_technique",title:"\u7740\u5730\u52d5\u4f5c\u306e\u8cea",description:"\u30c9\u30ed\u30c3\u30d7\u30b8\u30e3\u30f3\u30d7\u3067\u306e\u9069\u5207\u306a\u7740\u5730\u30d5\u30a9\u30fc\u30e0",type:"movement_analysis",required:!0,measurementMethod:"\u52d5\u4f5c\u5206\u6790\u30fb\u89b3\u5bdf\u8a55\u4fa1",passingCriteria:"\u819d\u5916\u53cd\u306a\u3057\u3001\u4f53\u5e79\u5b89\u5b9a",icon:"\ud83c\udfaf",weight:9},{id:"cutting_movement",title:"\u30ab\u30c3\u30c6\u30a3\u30f3\u30b0\u52d5\u4f5c",description:"\u65b9\u5411\u8ee2\u63db\u52d5\u4f5c\u306e\u9069\u5207\u306a\u5b9f\u65bd",type:"movement_analysis",required:!0,measurementMethod:"45\xb0\u30ab\u30c3\u30c6\u30a3\u30f3\u30b0\u52d5\u4f5c\u8a55\u4fa1",passingCriteria:"\u819d\u5916\u53cd\u306a\u3057\u3001\u30b9\u30e0\u30fc\u30ba\u306a\u52d5\u4f5c",icon:"\ud83d\udd04",weight:8},{id:"single_leg_squat_quality",title:"\u7247\u811a\u30b9\u30af\u30ef\u30c3\u30c8\u306e\u8cea",description:"\u7247\u811a\u30b9\u30af\u30ef\u30c3\u30c860\xb0\u3067\u306e\u52d5\u4f5c\u54c1\u8cea",type:"movement_analysis",required:!0,measurementMethod:"\u7247\u811a\u30b9\u30af\u30ef\u30c3\u30c8\u52d5\u4f5c\u89b3\u5bdf",passingCriteria:"\u819d\u5916\u53cd\u306a\u3057\u300120\u56de\u9023\u7d9a\u5b9f\u65bd\u53ef\u80fd",icon:"\ud83c\udfcb\ufe0f\u200d\u2642\ufe0f",weight:7}]},{id:"psychological_readiness",title:"\u5fc3\u7406\u7684\u6e96\u5099\u5ea6",description:"\u7af6\u6280\u5fa9\u5e30\u3078\u306e\u5fc3\u7406\u7684\u6e96\u5099\u3068\u6050\u6016\u5fc3\u8a55\u4fa1",criteria:[{id:"acl_rsi_score",title:"ACL-RSI\u30b9\u30b3\u30a2\uff08\u226556\u70b9\uff09",description:"ACL\u5fa9\u5e30\u30b9\u30dd\u30fc\u30c4\u5fc3\u7406\u6e96\u5099\u5ea6\u8a55\u4fa1",type:"psychological_test",required:!0,measurementMethod:"ACL-RSI\u8cea\u554f\u7968\uff0812\u9805\u76ee\uff09",passingCriteria:"56\u70b9\u4ee5\u4e0a\uff08\u6e80\u70b984\u70b9\uff09",icon:"\ud83e\udde0",weight:8},{id:"fear_avoidance",title:"\u6050\u6016\u56de\u907f\u884c\u52d5\u306e\u8a55\u4fa1",description:"\u7af6\u6280\u7279\u7570\u7684\u52d5\u4f5c\u3078\u306e\u6050\u6016\u5fc3\u306e\u7a0b\u5ea6",type:"psychological_assessment",required:!0,measurementMethod:"\u5fc3\u7406\u7684\u8a55\u4fa1\u30fb\u9762\u8ac7",passingCriteria:"\u7af6\u6280\u7279\u7570\u7684\u52d5\u4f5c\u3078\u306e\u6050\u6016\u5fc3\u304c minimal",icon:"\ud83d\ude30",weight:7},{id:"confidence_level",title:"\u81ea\u4fe1\u30ec\u30d9\u30eb",description:"\u7af6\u6280\u5fa9\u5e30\u3078\u306e\u81ea\u4fe1\u3068\u610f\u6b32",type:"psychological_assessment",required:!0,measurementMethod:"VAS\u30b9\u30b1\u30fc\u30eb\uff080-10\uff09",passingCriteria:"8/10\u4ee5\u4e0a",icon:"\ud83d\udcaa",weight:6}]},{id:"sport_specific",title:"\u7af6\u6280\u7279\u7570\u7684\u80fd\u529b",description:"\u5404\u7af6\u6280\u306b\u7279\u5316\u3057\u305f\u6280\u80fd\u3068\u4f53\u529b",criteria:[{id:"sport_specific_skills",title:"\u7af6\u6280\u7279\u7570\u7684\u6280\u80fd",description:"\u5404\u7af6\u6280\u306e\u57fa\u672c\u7684\u306a\u6280\u8853\u52d5\u4f5c",type:"skill_assessment",required:!0,measurementMethod:"\u7af6\u6280\u7279\u7570\u7684\u52d5\u4f5c\u8a55\u4fa1",passingCriteria:"\u53d7\u50b7\u524d\u30ec\u30d9\u30eb\u306e80%\u4ee5\u4e0a",icon:"\u26bd",weight:8},{id:"agility_performance",title:"\u30a2\u30b8\u30ea\u30c6\u30a3\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9",description:"T-test\u3001505\u30a2\u30b8\u30ea\u30c6\u30a3\u30c6\u30b9\u30c8\u7b49",type:"performance_test",required:!0,measurementMethod:"\u30a2\u30b8\u30ea\u30c6\u30a3\u30c6\u30b9\u30c8\u5b9f\u65bd",passingCriteria:"\u5065\u5074\u306e95%\u4ee5\u4e0a",icon:"\ud83c\udfc3\u200d\u2640\ufe0f",weight:8},{id:"plyometric_performance",title:"\u30d7\u30e9\u30a4\u30aa\u30e1\u30c8\u30ea\u30c3\u30af\u80fd\u529b",description:"\u7206\u767a\u7684\u30d1\u30ef\u30fc\u30fb\u53cd\u5fdc\u6642\u9593",type:"performance_test",required:!0,measurementMethod:"\u30d7\u30e9\u30a4\u30aa\u30e1\u30c8\u30ea\u30c3\u30af\u30c6\u30b9\u30c8",passingCriteria:"\u5065\u5074\u306e90%\u4ee5\u4e0a",icon:"\ud83d\udca5",weight:7}]},{id:"injury_prevention",title:"\u518d\u640d\u50b7\u4e88\u9632",description:"\u7d99\u7d9a\u7684\u306a\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0\u3068\u4e88\u9632\u7b56",criteria:[{id:"prevention_program",title:"\u4e88\u9632\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u7406\u89e3",description:"FIFA11+\u7b49\u306e\u4e88\u9632\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u7fd2\u5f97",type:"education_assessment",required:!0,measurementMethod:"\u30d7\u30ed\u30b0\u30e9\u30e0\u5b9f\u6280\u30c1\u30a7\u30c3\u30af",passingCriteria:"\u9069\u5207\u306a\u5b9f\u65bd\u304c\u53ef\u80fd",icon:"\ud83d\udee1\ufe0f",weight:7},{id:"maintenance_plan",title:"\u7dad\u6301\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0\u8a08\u753b",description:"\u5fa9\u5e30\u5f8c\u306e\u7d99\u7d9a\u7684\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0\u8a08\u753b",type:"plan_assessment",required:!0,measurementMethod:"\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0\u8a08\u753b\u66f8\u4f5c\u6210",passingCriteria:"\u5177\u4f53\u7684\u306a\u8a08\u753b\u304c\u7b56\u5b9a\u6e08\u307f",icon:"\ud83d\udccb",weight:6}]}],getOverallEvaluation:function(e){var t=Ft.categories.flatMap(function(e){return e.criteria}),n=t.reduce(function(e,t){return e+t.weight},0),i=0,r=0,o=t.length;t.forEach(function(t){var n=e.find(function(e){return e.id===t.id});n&&n.passed&&(i+=t.weight,r++)});var s=i/n*100,a=r/o*100;return{totalCriteria:o,passedCriteria:r,passRate:a,weightedScore:s,canReturnToSport:s>=85&&a>=90,recommendation:Et(s,a)}}},Et=function(e,t){return e>=85&&t>=90?{level:"success",title:"\u7af6\u6280\u5fa9\u5e30\u53ef\u80fd",message:"\u3059\u3079\u3066\u306e\u4e3b\u8981\u57fa\u6e96\u3092\u30af\u30ea\u30a2\u3057\u3066\u3044\u307e\u3059\u3002\u6bb5\u968e\u7684\u306a\u7af6\u6280\u5fa9\u5e30\u3092\u958b\u59cb\u3067\u304d\u307e\u3059\u3002",nextSteps:["\u6bb5\u968e\u7684\u306a\u7df4\u7fd2\u53c2\u52a0\uff08\u7df4\u7fd2\u5f37\u5ea650%\u304b\u3089\u958b\u59cb\uff09","2\u9031\u9593\u3054\u3068\u306e\u6bb5\u968e\u7684\u5f37\u5ea6\u5411\u4e0a","4-6\u9031\u9593\u5f8c\u306e\u8a66\u5408\u5fa9\u5e30\u691c\u8a0e","\u7d99\u7d9a\u7684\u306a\u4e88\u9632\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0\u5b9f\u65bd"],returnPhase:"phase_4_gradual_return"}:e>=75&&t>=80?{level:"warning",title:"\u6761\u4ef6\u4ed8\u304d\u5fa9\u5e30\u53ef\u80fd",message:"\u591a\u304f\u306e\u57fa\u6e96\u3092\u30af\u30ea\u30a2\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u4e00\u90e8\u6539\u5584\u304c\u5fc5\u8981\u3067\u3059\u3002",nextSteps:["\u672a\u9054\u6210\u9805\u76ee\u306e\u96c6\u4e2d\u7684\u6539\u5584","4\u9031\u9593\u5f8c\u306e\u518d\u8a55\u4fa1","\u533b\u7642\u5f93\u4e8b\u8005\u3068\u306e\u8a73\u7d30\u76f8\u8ac7","\u6bb5\u968e\u7684\u5fa9\u5e30\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u8abf\u6574"],returnPhase:"phase_3_final_preparation"}:e>=60&&t>=70?{level:"caution",title:"\u5fa9\u5e30\u6e96\u5099\u7d99\u7d9a",message:"\u57fa\u790e\u7684\u306a\u57fa\u6e96\u306f\u6e80\u305f\u3057\u3066\u3044\u307e\u3059\u304c\u3001\u3055\u3089\u306a\u308b\u6539\u5584\u304c\u5fc5\u8981\u3067\u3059\u3002",nextSteps:["\u6a5f\u80fd\u7684\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0\u306e\u5f37\u5316","\u5fc3\u7406\u7684\u30b5\u30dd\u30fc\u30c8\u306e\u691c\u8a0e","6-8\u9031\u9593\u5f8c\u306e\u518d\u8a55\u4fa1","\u7af6\u6280\u7279\u7570\u7684\u8a13\u7df4\u306e\u5f37\u5316"],returnPhase:"phase_3_advanced_training"}:{level:"danger",title:"\u5fa9\u5e30\u306f\u6642\u671f\u5c1a\u65e9",message:"\u591a\u304f\u306e\u91cd\u8981\u306a\u57fa\u6e96\u304c\u672a\u9054\u6210\u3067\u3059\u3002\u57fa\u790e\u7684\u306a\u80fd\u529b\u5411\u4e0a\u306b\u96c6\u4e2d\u3057\u3066\u304f\u3060\u3055\u3044\u3002",nextSteps:["\u57fa\u790e\u7684\u306a\u7b4b\u529b\u30fb\u6a5f\u80fd\u8a13\u7df4\u306e\u7d99\u7d9a","\u6bb5\u968e\u7684\u306a\u30d7\u30ed\u30b0\u30e9\u30e0\u9032\u884c","8-12\u9031\u9593\u5f8c\u306e\u518d\u8a55\u4fa1","\u30ea\u30cf\u30d3\u30ea\u30c6\u30fc\u30b7\u30e7\u30f3\u8a08\u753b\u306e\u898b\u76f4\u3057"],returnPhase:"phase_2_basic_training"}},Wt={medical_clearance:{importance:"critical",description:"\u533b\u5b66\u7684\u8a31\u53ef\u306f\u7d76\u5bfe\u6761\u4ef6\u3067\u3059",mustPass:!0},physical_function:{importance:"high",description:"\u8eab\u4f53\u6a5f\u80fd\u306e\u56de\u5fa9\u306f\u5fa9\u5e30\u306e\u57fa\u790e\u3067\u3059",mustPass:!0},functional_tests:{importance:"high",description:"\u6a5f\u80fd\u7684\u80fd\u529b\u306f\u7af6\u6280\u30d1\u30d5\u30a9\u30fc\u30de\u30f3\u30b9\u306b\u76f4\u7d50\u3057\u307e\u3059",mustPass:!1},movement_quality:{importance:"high",description:"\u52d5\u4f5c\u306e\u8cea\u306f\u518d\u640d\u50b7\u4e88\u9632\u306b\u91cd\u8981\u3067\u3059",mustPass:!1},psychological_readiness:{importance:"medium",description:"\u5fc3\u7406\u7684\u6e96\u5099\u306f\u9577\u671f\u7684\u6210\u529f\u306b\u5f71\u97ff\u3057\u307e\u3059",mustPass:!1},sport_specific:{importance:"medium",description:"\u7af6\u6280\u7279\u7570\u7684\u80fd\u529b\u306f\u6bb5\u968e\u7684\u306b\u6539\u5584\u53ef\u80fd\u3067\u3059",mustPass:!1},injury_prevention:{importance:"medium",description:"\u4e88\u9632\u77e5\u8b58\u306f\u7d99\u7d9a\u7684\u306a\u5065\u5eb7\u306b\u91cd\u8981\u3067\u3059",mustPass:!1}};function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(n),!0).forEach(function(t){(0,u.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}Ne.default.get("window").width;var Ht=Be.default.create({container:{flex:1,backgroundColor:"#f5f5f5"},headerCard:{margin:16,elevation:2},screenTitle:{fontSize:20,fontWeight:"bold",marginBottom:8},screenDescription:{fontSize:14,color:"#666",lineHeight:20,marginBottom:12},periodChip:{alignSelf:"flex-start"},resultCard:{margin:16,marginTop:8,elevation:2,borderLeftWidth:4},resultHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:12},resultTitle:{fontSize:18,fontWeight:"bold"},resultScores:{flexDirection:"row",alignItems:"center"},scoreChip:{borderWidth:1},progressSection:{marginBottom:12},progressLabel:{fontSize:14,color:"#666",marginBottom:4},progressBar:{height:8,borderRadius:4},recommendationSection:{marginTop:8},recommendationTitle:{fontSize:16,fontWeight:"bold",marginBottom:8},recommendationMessage:{fontSize:14,color:"#333",lineHeight:20,marginBottom:12},nextStepsTitle:{fontSize:14,fontWeight:"bold",marginBottom:8},nextStepItem:{fontSize:14,color:"#666",lineHeight:20,marginLeft:8},returnButton:{marginTop:16},sectionTitle:{fontSize:18,fontWeight:"bold",marginHorizontal:16,marginBottom:12},categoryCard:{margin:16,marginTop:8,elevation:2},categoryHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",marginBottom:12},categoryInfo:{flex:1,marginRight:8},categoryTitle:{fontSize:16,fontWeight:"bold",color:"#333",marginBottom:4},categoryDescription:{fontSize:12,color:"#666",lineHeight:16},categoryBadges:{alignItems:"flex-end"},importanceChip:{marginBottom:4,borderWidth:1},progressBadge:{backgroundColor:"#2196F3"},importanceDescription:{fontSize:12,color:"#666",fontStyle:"italic",marginBottom:12},criteriaList:{marginTop:8},criteriaItem:{paddingVertical:4,paddingHorizontal:0},criteriaIcon:{justifyContent:"center",alignItems:"center",marginRight:8},criteriaEmoji:{fontSize:20},criteriaActions:{flexDirection:"row",alignItems:"center"},evaluationButtons:{flexDirection:"row"},miniButton:{margin:0,width:32,height:32},modalContainer:{backgroundColor:"white",margin:20,borderRadius:8,maxHeight:"90%"},modalScroll:{maxHeight:"100%"},modalHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:16},modalTitle:{fontSize:18,fontWeight:"bold",flex:1},modalContent:{padding:16},modalDescription:{fontSize:14,color:"#333",lineHeight:20,marginBottom:16},detailSectionTitle:{fontSize:16,fontWeight:"bold",color:"#333",marginTop:12,marginBottom:8},detailText:{fontSize:14,color:"#666",lineHeight:20},passingCriteriaText:{fontWeight:"bold",color:"#333"},modalEvaluation:{marginTop:20,paddingTop:16,borderTopWidth:1,borderTopColor:"#eee"},modalEvaluationTitle:{fontSize:16,fontWeight:"bold",marginBottom:12,textAlign:"center"},modalEvaluationButtons:{flexDirection:"row",justifyContent:"space-around"},modalEvalButton:{minWidth:100}});const Vt=function(e){e.navigation;var t=(0,o.useState)([]),n=(0,we.default)(t,2),i=n[0],r=n[1],s=(0,o.useState)(!1),a=(0,we.default)(s,2),l=a[0],d=a[1],c=(0,o.useState)(null),u=(0,we.default)(c,2),f=u[0],g=u[1],m=(0,o.useState)(null),p=(0,we.default)(m,2),h=p[0],y=p[1],x=(0,o.useState)(null),j=(0,we.default)(x,2);j[0],j[1];(0,o.useEffect)(function(){var e=Ft.categories.flatMap(function(e){return e.criteria}).map(function(e){return{id:e.id,passed:!1,evaluated:!1,value:null,notes:""}});r(e)},[]),(0,o.useEffect)(function(){if(i.length>0){var e=Ft.getOverallEvaluation(i);y(e)}},[i]);var v=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";r(function(r){return r.map(function(r){return r.id===e?Mt(Mt({},r),{},{passed:t,evaluated:!0,value:n,notes:i}):r})})},_=function(e){g(e),d(!0)},C=function(e){return e.evaluated?e.passed?"#4CAF50":"#F44336":"#9E9E9E"},S=function(e){return e.evaluated?e.passed?"check-circle":"close-circle":"help-circle-outline"},b=function(e){var t;switch(null==(t=Wt[e])?void 0:t.importance){case"critical":return"#F44336";case"high":return"#FF9800";case"medium":return"#2196F3";default:return"#9E9E9E"}},T=function(e){var t;switch(null==(t=Wt[e])?void 0:t.importance){case"critical":return"\u5fc5\u9808";case"high":return"\u91cd\u8981";case"medium":return"\u63a8\u5968";default:return"\u6a19\u6e96"}};return(0,qe.jsxs)($e.default,{style:Ht.container,children:[(0,qe.jsx)(Le.default,{style:Ht.headerCard,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsx)(Ae.default,{style:Ht.screenTitle,children:Ft.title}),(0,qe.jsx)(Ae.default,{style:Ht.screenDescription,children:Ft.description}),(0,qe.jsxs)(Ge.default,{mode:"outlined",style:Ht.periodChip,children:["\u8a55\u4fa1\u6642\u671f: ",Ft.evaluationPeriod]})]})}),function(){if(!h)return null;var e=function(){return h.canReturnToSport?"#4CAF50":h.weightedScore>=75?"#FF9800":h.weightedScore>=60?"#2196F3":"#F44336"};return(0,qe.jsx)(Le.default,{style:[Ht.resultCard,{borderLeftColor:e()}],children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsxs)(De.default,{style:Ht.resultHeader,children:[(0,qe.jsx)(Ae.default,{style:Ht.resultTitle,children:"\u7dcf\u5408\u8a55\u4fa1\u7d50\u679c"}),(0,qe.jsx)(De.default,{style:Ht.resultScores,children:(0,qe.jsxs)(Ge.default,{mode:"outlined",style:[Ht.scoreChip,{borderColor:e()}],textStyle:{color:e()},children:[Math.round(h.weightedScore),"\u70b9"]})})]}),(0,qe.jsxs)(De.default,{style:Ht.progressSection,children:[(0,qe.jsxs)(Ae.default,{style:Ht.progressLabel,children:["\u91cd\u307f\u4ed8\u3051\u30b9\u30b3\u30a2: ",Math.round(h.weightedScore),"/100\u70b9"]}),(0,qe.jsx)(Ke.default,{progress:h.weightedScore/100,color:e(),style:Ht.progressBar})]}),(0,qe.jsxs)(De.default,{style:Ht.progressSection,children:[(0,qe.jsxs)(Ae.default,{style:Ht.progressLabel,children:["\u9054\u6210\u7387: ",h.passedCriteria,"/",h.totalCriteria,"\u9805\u76ee (",Math.round(h.passRate),"%)"]}),(0,qe.jsx)(Ke.default,{progress:h.passRate/100,color:e(),style:Ht.progressBar})]}),(0,qe.jsxs)(De.default,{style:Ht.recommendationSection,children:[(0,qe.jsx)(Ae.default,{style:[Ht.recommendationTitle,{color:e()}],children:h.recommendation.title}),(0,qe.jsx)(Ae.default,{style:Ht.recommendationMessage,children:h.recommendation.message}),(0,qe.jsx)(Ae.default,{style:Ht.nextStepsTitle,children:"\u63a8\u5968\u3055\u308c\u308b\u6b21\u306e\u30b9\u30c6\u30c3\u30d7:"}),h.recommendation.nextSteps.map(function(e,t){return(0,qe.jsxs)(Ae.default,{style:Ht.nextStepItem,children:["\u2022 ",e]},t)})]}),h.canReturnToSport&&(0,qe.jsx)(We.default,{mode:"contained",onPress:function(){return Pe.default.alert("\u6ce8\u610f","\u533b\u7642\u5f93\u4e8b\u8005\u306e\u6700\u7d42\u78ba\u8a8d\u3092\u5f97\u3066\u304b\u3089\u6bb5\u968e\u7684\u306a\u7af6\u6280\u5fa9\u5e30\u3092\u958b\u59cb\u3057\u3066\u304f\u3060\u3055\u3044\u3002")},style:Ht.returnButton,buttonColor:"#4CAF50",children:"\u7af6\u6280\u5fa9\u5e30\u6e96\u5099\u5b8c\u4e86"})]})})}(),(0,qe.jsx)(Ae.default,{style:Ht.sectionTitle,children:"\u30ab\u30c6\u30b4\u30ea\u5225\u8a55\u4fa1"}),Ft.categories.map(function(e){var t=function(e){var t=Ft.categories.find(function(t){return t.id===e});if(!t)return{passed:0,total:0,percentage:0};var n=t.criteria.length,r=t.criteria.filter(function(e){var t=i.find(function(t){return t.id===e.id});return t&&t.passed}).length;return{passed:r,total:n,percentage:n>0?r/n*100:0}}(e.id),n=Wt[e.id];return(0,qe.jsx)(Le.default,{style:Ht.categoryCard,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsxs)(De.default,{style:Ht.categoryHeader,children:[(0,qe.jsxs)(De.default,{style:Ht.categoryInfo,children:[(0,qe.jsx)(Ae.default,{style:Ht.categoryTitle,children:e.title}),(0,qe.jsx)(Ae.default,{style:Ht.categoryDescription,children:e.description})]}),(0,qe.jsxs)(De.default,{style:Ht.categoryBadges,children:[(0,qe.jsx)(Ge.default,{mode:"outlined",compact:!0,style:[Ht.importanceChip,{borderColor:b(e.id)}],textStyle:{color:b(e.id),fontSize:10},children:T(e.id)}),(0,qe.jsxs)(ot.default,{size:24,style:Ht.progressBadge,children:[t.passed,"/",t.total]})]})]}),(0,qe.jsxs)(De.default,{style:Ht.progressSection,children:[(0,qe.jsxs)(Ae.default,{style:Ht.progressLabel,children:["\u9032\u6357: ",t.passed,"/",t.total," (",Math.round(t.percentage),"%)"]}),(0,qe.jsx)(Ke.default,{progress:t.percentage/100,color:b(e.id),style:Ht.progressBar})]}),(null==n?void 0:n.description)&&(0,qe.jsx)(Ae.default,{style:Ht.importanceDescription,children:n.description}),(0,qe.jsx)(De.default,{style:Ht.criteriaList,children:e.criteria.map(function(e){var t=i.find(function(t){return t.id===e.id});return(0,qe.jsx)(et.default,{title:e.title,description:e.passingCriteria,left:function(){return(0,qe.jsx)(De.default,{style:Ht.criteriaIcon,children:(0,qe.jsx)(Ae.default,{style:Ht.criteriaEmoji,children:e.icon})})},right:function(){return(0,qe.jsxs)(De.default,{style:Ht.criteriaActions,children:[(0,qe.jsx)(Ue.default,{icon:S(t),iconColor:C(t),size:20,onPress:function(){return _(e)}}),(0,qe.jsxs)(De.default,{style:Ht.evaluationButtons,children:[(0,qe.jsx)(Ue.default,{icon:"check",iconColor:null!=t&&t.passed&&null!=t&&t.evaluated?"#4CAF50":"#ccc",size:16,onPress:function(){return v(e.id,!0)},style:Ht.miniButton}),(0,qe.jsx)(Ue.default,{icon:"close",iconColor:null!=t&&t.passed||null==t||!t.evaluated?"#ccc":"#F44336",size:16,onPress:function(){return v(e.id,!1)},style:Ht.miniButton})]})]})},onPress:function(){return _(e)},style:Ht.criteriaItem},e.id)})})]})},e.id)}),(0,qe.jsx)(dt.default,{children:(0,qe.jsx)(ct.default,{visible:l,onDismiss:function(){return d(!1)},contentContainerStyle:Ht.modalContainer,children:f&&(0,qe.jsxs)($e.default,{style:Ht.modalScroll,children:[(0,qe.jsxs)(De.default,{style:Ht.modalHeader,children:[(0,qe.jsx)(Ae.default,{style:Ht.modalTitle,children:f.title}),(0,qe.jsx)(Ue.default,{icon:"close",onPress:function(){return d(!1)}})]}),(0,qe.jsx)(Je.default,{}),(0,qe.jsxs)(De.default,{style:Ht.modalContent,children:[(0,qe.jsx)(Ae.default,{style:Ht.modalDescription,children:f.description}),(0,qe.jsx)(Ae.default,{style:Ht.detailSectionTitle,children:"\u6e2c\u5b9a\u65b9\u6cd5"}),(0,qe.jsx)(Ae.default,{style:Ht.detailText,children:f.measurementMethod}),(0,qe.jsx)(Ae.default,{style:Ht.detailSectionTitle,children:"\u5408\u683c\u57fa\u6e96"}),(0,qe.jsx)(Ae.default,{style:[Ht.detailText,Ht.passingCriteriaText],children:f.passingCriteria}),(0,qe.jsx)(Ae.default,{style:Ht.detailSectionTitle,children:"\u91cd\u8981\u5ea6"}),(0,qe.jsxs)(Ae.default,{style:Ht.detailText,children:["\u91cd\u307f: ",f.weight,"/10"]}),(0,qe.jsxs)(De.default,{style:Ht.modalEvaluation,children:[(0,qe.jsx)(Ae.default,{style:Ht.modalEvaluationTitle,children:"\u8a55\u4fa1\u7d50\u679c"}),(0,qe.jsxs)(De.default,{style:Ht.modalEvaluationButtons,children:[(0,qe.jsx)(We.default,{mode:"contained",onPress:function(){v(f.id,!0),d(!1)},style:Ht.modalEvalButton,buttonColor:"#4CAF50",children:"\u5408\u683c"}),(0,qe.jsx)(We.default,{mode:"contained",onPress:function(){v(f.id,!1),d(!1)},style:Ht.modalEvalButton,buttonColor:"#F44336",children:"\u672a\u9054\u6210"})]})]})]})]})})})]})};var $t={title:"\u30e9\u30f3\u30cb\u30f3\u30b0\u958b\u59cb\u57fa\u6e96\u8a55\u4fa1",description:"\u8853\u5f8c3\u30f6\u6708\u6642\u70b9\u3067\u306e\u8a55\u4fa1\u9805\u76ee\u3002\u3059\u3079\u3066\u306e\u57fa\u6e96\u3092\u30af\u30ea\u30a2\u3057\u3066\u304b\u3089\u30e9\u30f3\u30cb\u30f3\u30b0\u3092\u958b\u59cb\u3057\u3066\u304f\u3060\u3055\u3044\u3002",evaluationPeriod:"\u8853\u5f8c12\u9031\u4ee5\u964d",criteria:[{id:"period",category:"\u671f\u9593",title:"\u8853\u5f8c12\u9031\u4ee5\u4e0a\u7d4c\u904e\u3057\u3066\u3044\u308b\u3053\u3068",description:"\u624b\u8853\u304b\u3089\u6700\u4f4e12\u9031\u9593\u304c\u7d4c\u904e\u3057\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059",type:"period_check",required:!0,measurementMethod:"\u624b\u8853\u65e5\u304b\u3089\u306e\u7d4c\u904e\u65e5\u6570",passingCriteria:"84\u65e5\u4ee5\u4e0a\uff0812\u9031\u9593\uff09",icon:"\ud83d\udcc5"},{id:"pain_swelling",category:"\u75c7\u72b6",title:"\u65e5\u5e38\u6d3b\u52d5\u3067\u75db\u307f\u3084\u816b\u308c\u304c\u306a\u3044\u3053\u3068",description:"\u6b69\u884c\u3001\u968e\u6bb5\u6607\u964d\u3001\u65e5\u5e38\u52d5\u4f5c\u306b\u304a\u3044\u3066\u75db\u307f\u3084\u816b\u308c\u304c\u8a8d\u3081\u3089\u308c\u306a\u3044",type:"symptom_check",required:!0,measurementMethod:"VAS\u30b9\u30b1\u30fc\u30eb\u8a55\u4fa1",passingCriteria:"VAS 0-1/10\uff08\u65e5\u5e38\u6d3b\u52d5\u6642\uff09",icon:"\ud83d\udeab"},{id:"knee_extension",category:"ROM",title:"\u5b8c\u5168\u306a\u819d\u4f38\u5c55ROM",description:"\u819d\u95a2\u7bc0\u306e\u5b8c\u5168\u4f38\u5c55\uff080\xb0\uff09\u304c\u9054\u6210\u3055\u308c\u3066\u3044\u308b",type:"rom_measurement",required:!0,measurementMethod:"\u30b4\u30cb\u30aa\u30e1\u30fc\u30bf\u30fc\u6e2c\u5b9a",passingCriteria:"0\xb0\uff08\u5b8c\u5168\u4f38\u5c55\uff09",icon:"\ud83d\udcd0"},{id:"knee_flexion",category:"ROM",title:"\u819d\u5c48\u66f2ROM\uff08\u5065\u5074\u3068\u306e\u5dee\uff09",description:"\u819d\u5c48\u66f2\u53ef\u52d5\u57df\u304c\u5065\u5074\u3068\u306e\u5dee\u304c\u8a31\u5bb9\u7bc4\u56f2\u5185\u3067\u3042\u308b",type:"rom_measurement",required:!0,measurementMethod:"\u30b4\u30cb\u30aa\u30e1\u30fc\u30bf\u30fc\u6e2c\u5b9a\uff08\u4e21\u5074\u6bd4\u8f03\uff09",passingCriteria:"\u5065\u5074\u3068\u306e\u5dee\u304c5\xb0\u304b\u308910\xb0\u4ee5\u5185",icon:"\ud83d\udccf"},{id:"quadriceps_strength",category:"\u7b4b\u529b",title:"\u5927\u817f\u56db\u982d\u7b4b\u7b4b\u529b\uff08\u5065\u5074\u306e80%\u4ee5\u4e0a\uff09",description:"\u5927\u817f\u56db\u982d\u7b4b\u306e\u7b4b\u529b\u304c\u5065\u5074\u3068\u6bd4\u8f03\u3057\u3066\u5341\u5206\u56de\u5fa9\u3057\u3066\u3044\u308b",type:"strength_test",required:!0,measurementMethod:"\u7b4b\u529b\u6e2c\u5b9a\u5668\u307e\u305f\u306f5RM\u30ec\u30c3\u30b0\u30d7\u30ec\u30b9",passingCriteria:"\u5065\u5074\u306e80%\u4ee5\u4e0a",icon:"\ud83d\udcaa"},{id:"single_leg_squat",category:"\u6a5f\u80fd\u8a55\u4fa1",title:"\u7247\u811a\u30b9\u30af\u30ef\u30c3\u30c8\uff0845\xb0-60\xb0\u3001\u5916\u53cd\u306a\u3057\uff09",description:"\u826f\u597d\u306a\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u3067\u7247\u811a\u30b9\u30af\u30ef\u30c3\u30c8\u3092\u5b9f\u65bd\u3067\u304d\u308b",type:"functional_test",required:!0,measurementMethod:"\u52d5\u4f5c\u89b3\u5bdf\u30fb\u5206\u6790",passingCriteria:"45\xb0-60\xb0\u306e\u7bc4\u56f2\u3067\u5916\u53cd\u306a\u304f10\u56de\u5b9f\u65bd\u53ef\u80fd",icon:"\ud83c\udfc3"}],getEvaluationResult:function(e){var t=$t.criteria.length,n=e.filter(function(e){return e.passed}).length;return{totalCriteria:t,passedCriteria:n,passRate:n/t*100,canStartRunning:n===t,recommendation:Nt(n,t)}}},Nt=function(e,t){return e===t?{level:"success",title:"\u30e9\u30f3\u30cb\u30f3\u30b0\u958b\u59cb\u53ef\u80fd",message:"\u3059\u3079\u3066\u306e\u57fa\u6e96\u3092\u30af\u30ea\u30a2\u3057\u3066\u3044\u307e\u3059\u3002\u533b\u7642\u5f93\u4e8b\u8005\u306e\u8a31\u53ef\u3092\u5f97\u3066\u30e9\u30f3\u30cb\u30f3\u30b0\u3092\u958b\u59cb\u3067\u304d\u307e\u3059\u3002",nextSteps:["\u30c8\u30ec\u30c3\u30c9\u30df\u30eb\u3067\u306e\u30a6\u30a9\u30fc\u30ad\u30f3\u30b0\u304b\u3089\u958b\u59cb","\u6bb5\u968e\u7684\u306b\u30e9\u30f3\u30cb\u30f3\u30b0\u5f37\u5ea6\u3092\u4e0a\u3052\u308b","\u75c7\u72b6\u306e\u5909\u5316\u3092\u6ce8\u610f\u6df1\u304f\u89b3\u5bdf\u3059\u308b"]}:e>=.8*t?{level:"warning",title:"\u3082\u3046\u5c11\u3057\u3067\u958b\u59cb\u53ef\u80fd",message:"\u307b\u3068\u3093\u3069\u306e\u57fa\u6e96\u3092\u30af\u30ea\u30a2\u3057\u3066\u3044\u307e\u3059\u3002\u672a\u9054\u6210\u306e\u9805\u76ee\u3092\u91cd\u70b9\u7684\u306b\u6539\u5584\u3057\u3066\u304f\u3060\u3055\u3044\u3002",nextSteps:["\u672a\u9054\u6210\u9805\u76ee\u306e\u96c6\u4e2d\u7684\u306a\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0","2\u9031\u9593\u5f8c\u306e\u518d\u8a55\u4fa1","\u533b\u7642\u5f93\u4e8b\u8005\u3068\u306e\u76f8\u8ac7"]}:{level:"danger",title:"\u30e9\u30f3\u30cb\u30f3\u30b0\u958b\u59cb\u306f\u6642\u671f\u5c1a\u65e9",message:"\u307e\u3060\u591a\u304f\u306e\u57fa\u6e96\u304c\u672a\u9054\u6210\u3067\u3059\u3002\u57fa\u790e\u7684\u306a\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0\u3092\u7d99\u7d9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002",nextSteps:["\u57fa\u790e\u7684\u306a\u7b4b\u529b\u30fb\u53ef\u52d5\u57df\u8a13\u7df4\u306e\u7d99\u7d9a","4\u9031\u9593\u5f8c\u306e\u518d\u8a55\u4fa1","\u30ea\u30cf\u30d3\u30ea\u30c6\u30fc\u30b7\u30e7\u30f3\u8a08\u753b\u306e\u898b\u76f4\u3057"]}},Ut={period:{rationale:"\u7d44\u7e54\u306e\u6cbb\u7652\u3068\u5f37\u5ea6\u56de\u5fa9\u306b\u306f\u6700\u4f4e12\u9031\u9593\u304c\u5fc5\u8981\u3068\u3055\u308c\u3066\u3044\u307e\u3059\u3002",tips:"\u7126\u3089\u305a\u6bb5\u968e\u7684\u306a\u56de\u5fa9\u3092\u5fc3\u304c\u3051\u3066\u304f\u3060\u3055\u3044\u3002"},pain_swelling:{rationale:"\u708e\u75c7\u3084\u75db\u307f\u304c\u3042\u308b\u72b6\u614b\u3067\u306e\u30e9\u30f3\u30cb\u30f3\u30b0\u306f\u518d\u640d\u50b7\u306e\u30ea\u30b9\u30af\u3092\u9ad8\u3081\u307e\u3059\u3002",tips:"\u30a2\u30a4\u30b7\u30f3\u30b0\u3001\u9069\u5207\u306a\u4f11\u606f\u3001\u6297\u708e\u75c7\u5bfe\u7b56\u3092\u7d99\u7d9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002"},knee_extension:{rationale:"\u5b8c\u5168\u4f38\u5c55\u306e\u6b20\u5982\u306f\u6b69\u884c\u3084\u30e9\u30f3\u30cb\u30f3\u30b0\u306e\u52b9\u7387\u6027\u3092\u8457\u3057\u304f\u4f4e\u4e0b\u3055\u305b\u307e\u3059\u3002",tips:"\u30d2\u30fc\u30eb\u30d7\u30ed\u30c3\u30d7\u30b9\u3001\u819d\u88cf\u4f38\u5c55\u30b9\u30c8\u30ec\u30c3\u30c1\u3092\u7d99\u7d9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002"},knee_flexion:{rationale:"\u30e9\u30f3\u30cb\u30f3\u30b0\u306b\u306f\u6700\u4f4e120\xb0\u306e\u5c48\u66f2\u53ef\u52d5\u57df\u304c\u5fc5\u8981\u3068\u3055\u308c\u3066\u3044\u307e\u3059\u3002",tips:"\u30d2\u30fc\u30eb\u30b9\u30e9\u30a4\u30c9\u3001\u81ea\u8ee2\u8eca\u30a8\u30af\u30b5\u30b5\u30a4\u30ba\u3092\u7d99\u7d9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002"},quadriceps_strength:{rationale:"\u5927\u817f\u56db\u982d\u7b4b\u306e\u7b4b\u529b\u4e0d\u8db3\u306f\u819d\u306e\u4e0d\u5b89\u5b9a\u6027\u3068\u518d\u640d\u50b7\u30ea\u30b9\u30af\u3092\u9ad8\u3081\u307e\u3059\u3002",tips:"\u30ec\u30c3\u30b0\u30a8\u30af\u30b9\u30c6\u30f3\u30b7\u30e7\u30f3\u3001\u30b9\u30af\u30ef\u30c3\u30c8\u3001\u30ec\u30c3\u30b0\u30d7\u30ec\u30b9\u3092\u7d99\u7d9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002"},single_leg_squat:{rationale:"\u7247\u811a\u30b9\u30af\u30ef\u30c3\u30c8\u306f\u6a5f\u80fd\u7684\u306a\u7b4b\u529b\u3068\u52d5\u7684\u5b89\u5b9a\u6027\u3092\u8a55\u4fa1\u3059\u308b\u91cd\u8981\u306a\u6307\u6a19\u3067\u3059\u3002",tips:"\u93e1\u3092\u898b\u306a\u304c\u3089\u30d5\u30a9\u30fc\u30e0\u3092\u78ba\u8a8d\u3057\u3001\u5f90\u3005\u306b\u6df1\u304f\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002"}};function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach(function(t){(0,u.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}Ne.default.get("window").width;var Jt=Be.default.create({container:{flex:1,backgroundColor:"#f5f5f5"},headerCard:{margin:16,elevation:2},screenTitle:{fontSize:20,fontWeight:"bold",marginBottom:8},screenDescription:{fontSize:14,color:"#666",lineHeight:20,marginBottom:12},periodChip:{alignSelf:"flex-start"},resultCard:{margin:16,marginTop:8,elevation:2,borderLeftWidth:4},resultHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:12},resultTitle:{fontSize:18,fontWeight:"bold"},resultChip:{borderWidth:1},progressSection:{marginBottom:16},progressLabel:{fontSize:14,color:"#666",marginBottom:4},progressBar:{height:8,borderRadius:4},recommendationSection:{marginTop:8},recommendationTitle:{fontSize:16,fontWeight:"bold",marginBottom:8},recommendationMessage:{fontSize:14,color:"#333",lineHeight:20,marginBottom:12},nextStepsTitle:{fontSize:14,fontWeight:"bold",marginBottom:8},nextStepItem:{fontSize:14,color:"#666",lineHeight:20,marginLeft:8},startRunningButton:{marginTop:16},sectionTitle:{fontSize:18,fontWeight:"bold",marginHorizontal:16,marginBottom:12},criteriaCard:{margin:16,marginTop:8,elevation:2},criteriaHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:8},criteriaInfo:{flexDirection:"row",alignItems:"center",flex:1},criteriaIcon:{fontSize:24,marginRight:12},criteriaText:{flex:1},criteriaCategory:{fontSize:12,color:"#666",textTransform:"uppercase"},criteriaTitle:{fontSize:16,fontWeight:"bold",color:"#333"},criteriaDescription:{fontSize:14,color:"#666",lineHeight:18,marginBottom:12},measurementInfo:{marginBottom:8},measurementLabel:{fontSize:12,color:"#666",fontWeight:"bold"},measurementText:{fontSize:12,color:"#333"},passingCriteria:{marginBottom:12},passingLabel:{fontSize:12,color:"#666",fontWeight:"bold"},passingText:{fontSize:12,color:"#333",fontWeight:"bold"},evaluationButtons:{flexDirection:"row",justifyContent:"flex-end"},evalButton:{minWidth:70},modalContainer:{backgroundColor:"white",margin:20,borderRadius:8,maxHeight:"80%"},modalHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:16},modalTitle:{fontSize:18,fontWeight:"bold",flex:1},modalContent:{padding:16},modalDescription:{fontSize:14,color:"#333",lineHeight:20,marginBottom:16},detailSectionTitle:{fontSize:16,fontWeight:"bold",color:"#333",marginTop:12,marginBottom:8},detailText:{fontSize:14,color:"#666",lineHeight:20},passingCriteriaText:{fontWeight:"bold",color:"#333"}});const Qt=function(e){e.navigation;var t,n,i=(0,o.useState)([]),r=(0,we.default)(i,2),s=r[0],a=r[1],l=(0,o.useState)(!1),d=(0,we.default)(l,2),c=d[0],u=d[1],f=(0,o.useState)(null),g=(0,we.default)(f,2),m=g[0],p=g[1],h=(0,o.useState)(null),y=(0,we.default)(h,2),x=y[0],j=y[1];(0,o.useEffect)(function(){var e=$t.criteria.map(function(e){return{id:e.id,passed:!1,evaluated:!1,value:null,notes:""}});a(e)},[]),(0,o.useEffect)(function(){if(s.length>0){var e=$t.getEvaluationResult(s);j(e)}},[s]);var v=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";a(function(r){return r.map(function(r){return r.id===e?Kt(Kt({},r),{},{passed:t,evaluated:!0,value:n,notes:i}):r})})},_=function(e){return e.evaluated?e.passed?"#4CAF50":"#F44336":"#9E9E9E"},C=function(e){return e.evaluated?e.passed?"check-circle":"close-circle":"help-circle-outline"},S=function(e){switch(e){case"success":return"#4CAF50";case"warning":return"#FF9800";case"danger":return"#F44336";default:return"#9E9E9E"}};return(0,qe.jsxs)($e.default,{style:Jt.container,children:[(0,qe.jsx)(Le.default,{style:Jt.headerCard,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsx)(Ae.default,{style:Jt.screenTitle,children:$t.title}),(0,qe.jsx)(Ae.default,{style:Jt.screenDescription,children:$t.description}),(0,qe.jsxs)(Ge.default,{mode:"outlined",style:Jt.periodChip,children:["\u8a55\u4fa1\u6642\u671f: ",$t.evaluationPeriod]})]})}),x?(0,qe.jsx)(Le.default,{style:[Jt.resultCard,{borderLeftColor:S(x.recommendation.level)}],children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsxs)(De.default,{style:Jt.resultHeader,children:[(0,qe.jsx)(Ae.default,{style:Jt.resultTitle,children:"\u7dcf\u5408\u8a55\u4fa1\u7d50\u679c"}),(0,qe.jsxs)(Ge.default,{mode:"outlined",style:[Jt.resultChip,{borderColor:S(x.recommendation.level)}],textStyle:{color:S(x.recommendation.level)},children:[x.passedCriteria,"/",x.totalCriteria,"\u9805\u76ee"]})]}),(0,qe.jsxs)(De.default,{style:Jt.progressSection,children:[(0,qe.jsxs)(Ae.default,{style:Jt.progressLabel,children:["\u9054\u6210\u7387: ",Math.round(x.passRate),"%"]}),(0,qe.jsx)(Ke.default,{progress:x.passRate/100,color:S(x.recommendation.level),style:Jt.progressBar})]}),(0,qe.jsxs)(De.default,{style:Jt.recommendationSection,children:[(0,qe.jsx)(Ae.default,{style:[Jt.recommendationTitle,{color:S(x.recommendation.level)}],children:x.recommendation.title}),(0,qe.jsx)(Ae.default,{style:Jt.recommendationMessage,children:x.recommendation.message}),(0,qe.jsx)(Ae.default,{style:Jt.nextStepsTitle,children:"\u63a8\u5968\u3055\u308c\u308b\u6b21\u306e\u30b9\u30c6\u30c3\u30d7:"}),x.recommendation.nextSteps.map(function(e,t){return(0,qe.jsxs)(Ae.default,{style:Jt.nextStepItem,children:["\u2022 ",e]},t)})]}),x.canStartRunning&&(0,qe.jsx)(We.default,{mode:"contained",onPress:function(){return Pe.default.alert("\u6ce8\u610f","\u533b\u7642\u5f93\u4e8b\u8005\u306e\u6700\u7d42\u78ba\u8a8d\u3092\u5f97\u3066\u304b\u3089\u30e9\u30f3\u30cb\u30f3\u30b0\u3092\u958b\u59cb\u3057\u3066\u304f\u3060\u3055\u3044\u3002")},style:Jt.startRunningButton,buttonColor:"#4CAF50",children:"\u30e9\u30f3\u30cb\u30f3\u30b0\u958b\u59cb\u6e96\u5099\u5b8c\u4e86"})]})}):null,(0,qe.jsx)(Ae.default,{style:Jt.sectionTitle,children:"\u8a55\u4fa1\u9805\u76ee"}),$t.criteria.map(function(e){var t=s.find(function(t){return t.id===e.id});return t?(0,qe.jsx)(Le.default,{style:Jt.criteriaCard,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsxs)(De.default,{style:Jt.criteriaHeader,children:[(0,qe.jsxs)(De.default,{style:Jt.criteriaInfo,children:[(0,qe.jsx)(Ae.default,{style:Jt.criteriaIcon,children:e.icon}),(0,qe.jsxs)(De.default,{style:Jt.criteriaText,children:[(0,qe.jsx)(Ae.default,{style:Jt.criteriaCategory,children:e.category}),(0,qe.jsx)(Ae.default,{style:Jt.criteriaTitle,children:e.title})]})]}),(0,qe.jsx)(Ue.default,{icon:C(t),iconColor:_(t),size:24,onPress:function(){return function(e){p(e),u(!0)}(e)}})]}),(0,qe.jsx)(Ae.default,{style:Jt.criteriaDescription,children:e.description}),(0,qe.jsxs)(De.default,{style:Jt.measurementInfo,children:[(0,qe.jsx)(Ae.default,{style:Jt.measurementLabel,children:"\u6e2c\u5b9a\u65b9\u6cd5:"}),(0,qe.jsx)(Ae.default,{style:Jt.measurementText,children:e.measurementMethod})]}),(0,qe.jsxs)(De.default,{style:Jt.passingCriteria,children:[(0,qe.jsx)(Ae.default,{style:Jt.passingLabel,children:"\u5408\u683c\u57fa\u6e96:"}),(0,qe.jsx)(Ae.default,{style:Jt.passingText,children:e.passingCriteria})]}),(0,qe.jsxs)(De.default,{style:Jt.evaluationButtons,children:[(0,qe.jsx)(We.default,{mode:t.passed&&t.evaluated?"contained":"outlined",onPress:function(){return v(e.id,!0)},style:[Jt.evalButton,{marginRight:8}],buttonColor:t.passed&&t.evaluated?"#4CAF50":void 0,compact:!0,children:"\u5408\u683c"}),(0,qe.jsx)(We.default,{mode:!t.passed&&t.evaluated?"contained":"outlined",onPress:function(){return v(e.id,!1)},style:Jt.evalButton,buttonColor:!t.passed&&t.evaluated?"#F44336":void 0,compact:!0,children:"\u672a\u9054\u6210"})]})]})},e.id):null}),(0,qe.jsx)(dt.default,{children:(0,qe.jsx)(ct.default,{visible:c,onDismiss:function(){return u(!1)},contentContainerStyle:Jt.modalContainer,children:m&&(0,qe.jsxs)(De.default,{children:[(0,qe.jsxs)(De.default,{style:Jt.modalHeader,children:[(0,qe.jsx)(Ae.default,{style:Jt.modalTitle,children:m.title}),(0,qe.jsx)(Ue.default,{icon:"close",onPress:function(){return u(!1)}})]}),(0,qe.jsx)(Je.default,{}),(0,qe.jsxs)(De.default,{style:Jt.modalContent,children:[(0,qe.jsx)(Ae.default,{style:Jt.modalDescription,children:m.description}),(0,qe.jsx)(Ae.default,{style:Jt.detailSectionTitle,children:"\u6839\u62e0\u30fb\u7406\u7531"}),(0,qe.jsx)(Ae.default,{style:Jt.detailText,children:null==(t=Ut[m.id])?void 0:t.rationale}),(0,qe.jsx)(Ae.default,{style:Jt.detailSectionTitle,children:"\u6539\u5584\u306e\u305f\u3081\u306e\u30d2\u30f3\u30c8"}),(0,qe.jsx)(Ae.default,{style:Jt.detailText,children:null==(n=Ut[m.id])?void 0:n.tips}),(0,qe.jsx)(Ae.default,{style:Jt.detailSectionTitle,children:"\u6e2c\u5b9a\u65b9\u6cd5"}),(0,qe.jsx)(Ae.default,{style:Jt.detailText,children:m.measurementMethod}),(0,qe.jsx)(Ae.default,{style:Jt.detailSectionTitle,children:"\u5408\u683c\u57fa\u6e96"}),(0,qe.jsx)(Ae.default,{style:[Jt.detailText,Jt.passingCriteriaText],children:m.passingCriteria})]})]})})})]})};Ne.default.get("window").width;var Yt=Be.default.create({container:{flex:1,backgroundColor:"#f5f5f5"},headerCard:{margin:16,elevation:2},screenTitle:{fontSize:20,fontWeight:"bold",marginBottom:8,color:"#333"},screenDescription:{fontSize:14,color:"#666",lineHeight:20},timelineCard:{margin:16,marginTop:8,elevation:2},timelineTitle:{fontSize:18,fontWeight:"bold",marginBottom:16,color:"#333"},timeline:{paddingHorizontal:8},timelineItem:{flexDirection:"row",alignItems:"center",marginBottom:8},timelineMarker:{width:12,height:12,borderRadius:6,marginRight:16},timelineContent:{flex:1},timelineItemTitle:{fontSize:16,fontWeight:"bold",color:"#333"},timelineItemDesc:{fontSize:14,color:"#666"},timelineLine:{width:2,height:20,backgroundColor:"#ddd",marginLeft:5,marginBottom:8},sectionTitle:{fontSize:18,fontWeight:"bold",marginHorizontal:16,marginBottom:12,color:"#333"},checkpointCard:{margin:16,marginTop:8,elevation:2,borderLeftWidth:4},checkpointHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:8},checkpointInfo:{flexDirection:"row",alignItems:"center",flex:1},checkpointIcon:{fontSize:32,marginRight:12},checkpointText:{flex:1},checkpointTitle:{fontSize:18,fontWeight:"bold",color:"#333"},checkpointSubtitle:{fontSize:14,color:"#666"},checkpointDescription:{fontSize:14,color:"#666",lineHeight:18,marginBottom:16},checkpointDetails:{marginBottom:16},detailRow:{flexDirection:"row",alignItems:"center",marginBottom:8},detailLabel:{fontSize:14,fontWeight:"bold",color:"#333",marginRight:8,minWidth:80},detailValue:{fontSize:14,color:"#666",flex:1},timelineChip:{borderWidth:1},evaluationButton:{borderRadius:8},modalContainer:{backgroundColor:"white",margin:20,borderRadius:8,maxHeight:"90%"},modalScroll:{maxHeight:"100%"},modalHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:16},modalTitle:{fontSize:20,fontWeight:"bold",flex:1,color:"#333"},modalContent:{padding:16},modalDescription:{fontSize:16,color:"#333",lineHeight:22,marginBottom:20},modalDetailSection:{marginBottom:20},modalDetailTitle:{fontSize:16,fontWeight:"bold",color:"#333",marginBottom:8},modalDetailText:{fontSize:14,color:"#666",lineHeight:20},overviewSection:{marginBottom:20},overviewTitle:{fontSize:16,fontWeight:"bold",color:"#333",marginBottom:12},overviewItem:{flexDirection:"row",alignItems:"center",marginBottom:12,paddingLeft:8},overviewIcon:{fontSize:20,marginRight:12,width:24},overviewText:{flex:1},overviewItemTitle:{fontSize:14,fontWeight:"bold",color:"#333"},overviewItemCriteria:{fontSize:12,color:"#666"},overviewCategory:{marginBottom:16,paddingLeft:8,borderLeftWidth:3,borderLeftColor:"#ddd",paddingVertical:8},overviewCategoryTitle:{fontSize:14,fontWeight:"bold",color:"#333",marginBottom:4},overviewCategoryDesc:{fontSize:12,color:"#666",marginBottom:4},overviewCategoryCount:{fontSize:12,color:"#999",fontStyle:"italic"},modalButton:{marginTop:16,borderRadius:8}});const Xt=function(e){var t,n=e.navigation,i=(0,o.useState)(null),r=(0,we.default)(i,2),s=r[0],a=r[1],l=(0,o.useState)(!1),d=(0,we.default)(l,2),c=d[0],u=d[1],f=[{id:"month_3",title:"\u8853\u5f8c3\u30f6\u6708\u8a55\u4fa1",subtitle:"\u30e9\u30f3\u30cb\u30f3\u30b0\u958b\u59cb\u57fa\u6e96",description:"\u30e9\u30f3\u30cb\u30f3\u30b0\u3092\u5b89\u5168\u306b\u958b\u59cb\u3059\u308b\u305f\u3081\u306e\u5fc5\u9808\u8a55\u4fa1\u9805\u76ee",timeline:"\u8853\u5f8c12\u9031\u4ee5\u964d",icon:"\ud83c\udfc3\u200d\u2642\ufe0f",color:"#FF9800",data:$t,totalCriteria:$t.criteria.length,nextStep:"\u30e9\u30f3\u30cb\u30f3\u30b0\u30fb\u30d7\u30e9\u30a4\u30aa\u30e1\u30c8\u30ea\u30af\u30b9\u958b\u59cb",screen:"RunningCriteria"},{id:"month_6_plus",title:"\u8853\u5f8c6\u30f6\u6708\u4ee5\u964d\u8a55\u4fa1",subtitle:"\u7af6\u6280\u5fa9\u5e30\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8",description:"\u7af6\u6280\u3078\u306e\u5b89\u5168\u306a\u5fa9\u5e30\u306e\u305f\u3081\u306e\u5305\u62ec\u7684\u8a55\u4fa1\u9805\u76ee",timeline:"\u8853\u5f8c6\u30f6\u6708\u4ee5\u964d",icon:"\u26bd",color:"#4CAF50",data:Ft,totalCriteria:Ft.categories.reduce(function(e,t){return e+t.criteria.length},0),nextStep:"\u6bb5\u968e\u7684\u7af6\u6280\u5fa9\u5e30\u958b\u59cb",screen:"ReturnToSport"}],g=function(e){"RunningCriteria"===e.screen?n.navigate("RunningCriteria"):"ReturnToSport"===e.screen&&n.navigate("ReturnToSport")};return(0,qe.jsxs)($e.default,{style:Yt.container,children:[(0,qe.jsx)(Le.default,{style:Yt.headerCard,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsx)(Ae.default,{style:Yt.screenTitle,children:"\u8a55\u4fa1\u30c1\u30a7\u30c3\u30af\u30dd\u30a4\u30f3\u30c8"}),(0,qe.jsx)(Ae.default,{style:Yt.screenDescription,children:"ACL\u30ea\u30cf\u30d3\u30ea\u30c6\u30fc\u30b7\u30e7\u30f3\u306e\u91cd\u8981\u306a\u8a55\u4fa1\u6642\u671f\u306b\u304a\u3051\u308b\u5fc5\u9808\u30c1\u30a7\u30c3\u30af\u9805\u76ee\u3067\u3059\u3002 \u5404\u6bb5\u968e\u3067\u9069\u5207\u306a\u8a55\u4fa1\u3092\u884c\u3044\u3001\u5b89\u5168\u306a\u56de\u5fa9\u3068\u7af6\u6280\u5fa9\u5e30\u3092\u76ee\u6307\u3057\u307e\u3057\u3087\u3046\u3002"})]})}),(0,qe.jsx)(Le.default,{style:Yt.timelineCard,children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsx)(Ae.default,{style:Yt.timelineTitle,children:"\u8a55\u4fa1\u30bf\u30a4\u30e0\u30e9\u30a4\u30f3"}),(0,qe.jsxs)(De.default,{style:Yt.timeline,children:[(0,qe.jsxs)(De.default,{style:Yt.timelineItem,children:[(0,qe.jsx)(De.default,{style:[Yt.timelineMarker,{backgroundColor:"#FF9800"}]}),(0,qe.jsxs)(De.default,{style:Yt.timelineContent,children:[(0,qe.jsx)(Ae.default,{style:Yt.timelineItemTitle,children:"\u8853\u5f8c3\u30f6\u6708"}),(0,qe.jsx)(Ae.default,{style:Yt.timelineItemDesc,children:"\u30e9\u30f3\u30cb\u30f3\u30b0\u958b\u59cb\u57fa\u6e96\u8a55\u4fa1"})]})]}),(0,qe.jsx)(De.default,{style:Yt.timelineLine}),(0,qe.jsxs)(De.default,{style:Yt.timelineItem,children:[(0,qe.jsx)(De.default,{style:[Yt.timelineMarker,{backgroundColor:"#4CAF50"}]}),(0,qe.jsxs)(De.default,{style:Yt.timelineContent,children:[(0,qe.jsx)(Ae.default,{style:Yt.timelineItemTitle,children:"\u8853\u5f8c6\u30f6\u6708\u4ee5\u964d"}),(0,qe.jsx)(Ae.default,{style:Yt.timelineItemDesc,children:"\u7af6\u6280\u5fa9\u5e30\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8"})]})]})]})]})}),(0,qe.jsx)(Ae.default,{style:Yt.sectionTitle,children:"\u8a55\u4fa1\u30c1\u30a7\u30c3\u30af\u30dd\u30a4\u30f3\u30c8"}),f.map(function(e){return(0,qe.jsx)(Le.default,{style:[Yt.checkpointCard,{borderLeftColor:e.color}],children:(0,qe.jsxs)(Le.default.Content,{children:[(0,qe.jsxs)(De.default,{style:Yt.checkpointHeader,children:[(0,qe.jsxs)(De.default,{style:Yt.checkpointInfo,children:[(0,qe.jsx)(Ae.default,{style:Yt.checkpointIcon,children:e.icon}),(0,qe.jsxs)(De.default,{style:Yt.checkpointText,children:[(0,qe.jsx)(Ae.default,{style:Yt.checkpointTitle,children:e.title}),(0,qe.jsx)(Ae.default,{style:Yt.checkpointSubtitle,children:e.subtitle})]})]}),(0,qe.jsx)(Ue.default,{icon:"information-outline",iconColor:e.color,size:24,onPress:function(){return function(e){a(e),u(!0)}(e)}})]}),(0,qe.jsx)(Ae.default,{style:Yt.checkpointDescription,children:e.description}),(0,qe.jsxs)(De.default,{style:Yt.checkpointDetails,children:[(0,qe.jsxs)(De.default,{style:Yt.detailRow,children:[(0,qe.jsx)(Ae.default,{style:Yt.detailLabel,children:"\u8a55\u4fa1\u6642\u671f:"}),(0,qe.jsx)(Ge.default,{mode:"outlined",style:[Yt.timelineChip,{borderColor:e.color}],children:e.timeline})]}),(0,qe.jsxs)(De.default,{style:Yt.detailRow,children:[(0,qe.jsx)(Ae.default,{style:Yt.detailLabel,children:"\u8a55\u4fa1\u9805\u76ee\u6570:"}),(0,qe.jsxs)(Ae.default,{style:Yt.detailValue,children:[e.totalCriteria,"\u9805\u76ee"]})]}),(0,qe.jsxs)(De.default,{style:Yt.detailRow,children:[(0,qe.jsx)(Ae.default,{style:Yt.detailLabel,children:"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7:"}),(0,qe.jsx)(Ae.default,{style:Yt.detailValue,children:e.nextStep})]})]}),(0,qe.jsx)(We.default,{mode:"contained",onPress:function(){return g(e)},style:[Yt.evaluationButton,{backgroundColor:e.color}],icon:"clipboard-check",children:"\u8a55\u4fa1\u3092\u958b\u59cb"})]})},e.id)}),(0,qe.jsx)(dt.default,{children:(0,qe.jsx)(ct.default,{visible:c,onDismiss:function(){return u(!1)},contentContainerStyle:Yt.modalContainer,children:s&&(0,qe.jsxs)($e.default,{style:Yt.modalScroll,children:[(0,qe.jsxs)(De.default,{style:Yt.modalHeader,children:[(0,qe.jsx)(Ae.default,{style:Yt.modalTitle,children:s.title}),(0,qe.jsx)(Ue.default,{icon:"close",onPress:function(){return u(!1)}})]}),(0,qe.jsx)(Je.default,{}),(0,qe.jsxs)(De.default,{style:Yt.modalContent,children:[(0,qe.jsx)(Ae.default,{style:Yt.modalDescription,children:s.description}),(0,qe.jsxs)(De.default,{style:Yt.modalDetailSection,children:[(0,qe.jsx)(Ae.default,{style:Yt.modalDetailTitle,children:"\u8a55\u4fa1\u306e\u76ee\u7684"}),(0,qe.jsx)(Ae.default,{style:Yt.modalDetailText,children:"month_3"===s.id?"\u30e9\u30f3\u30cb\u30f3\u30b0\u3092\u5b89\u5168\u306b\u958b\u59cb\u3059\u308b\u305f\u3081\u306e\u8eab\u4f53\u6a5f\u80fd\u3068\u75c7\u72b6\u306e\u8a55\u4fa1\u3092\u884c\u3044\u307e\u3059\u3002\u3059\u3079\u3066\u306e\u57fa\u6e96\u3092\u30af\u30ea\u30a2\u3059\u308b\u3053\u3068\u3067\u3001\u3088\u308a\u9ad8\u5f37\u5ea6\u306e\u8a13\u7df4\u306b\u9032\u3080\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002":"\u7af6\u6280\u3078\u306e\u5b8c\u5168\u5fa9\u5e30\u306b\u5411\u3051\u305f\u5305\u62ec\u7684\u306a\u8a55\u4fa1\u3092\u884c\u3044\u307e\u3059\u3002\u8eab\u4f53\u6a5f\u80fd\u3001\u52d5\u4f5c\u306e\u8cea\u3001\u5fc3\u7406\u7684\u6e96\u5099\u5ea6\u306a\u3069\u591a\u89d2\u7684\u306a\u8996\u70b9\u304b\u3089\u5fa9\u5e30\u53ef\u80fd\u6027\u3092\u5224\u5b9a\u3057\u307e\u3059\u3002"})]}),(0,qe.jsxs)(De.default,{style:Yt.modalDetailSection,children:[(0,qe.jsx)(Ae.default,{style:Yt.modalDetailTitle,children:"\u8a55\u4fa1\u306e\u30bf\u30a4\u30df\u30f3\u30b0"}),(0,qe.jsxs)(Ae.default,{style:Yt.modalDetailText,children:[s.timeline,"\u306b\u5b9f\u65bd\u3057\u3066\u304f\u3060\u3055\u3044\u3002","month_3"===s.id?"\u8853\u5f8c12\u9031\u9593\u304c\u7d4c\u904e\u3057\u3001\u57fa\u790e\u7684\u306a\u30ea\u30cf\u30d3\u30ea\u30c6\u30fc\u30b7\u30e7\u30f3\u304c\u5b8c\u4e86\u3057\u305f\u6642\u70b9\u3067\u8a55\u4fa1\u3092\u884c\u3044\u307e\u3059\u3002":"\u8853\u5f8c6\u30f6\u6708\u4ee5\u964d\u3067\u3001\u9ad8\u5f37\u5ea6\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0\u3092\u5341\u5206\u306b\u5b9f\u65bd\u3057\u305f\u5f8c\u306b\u8a55\u4fa1\u3092\u884c\u3044\u307e\u3059\u3002"]})]}),(t=s,"month_3"===t.id?(0,qe.jsxs)(De.default,{style:Yt.overviewSection,children:[(0,qe.jsx)(Ae.default,{style:Yt.overviewTitle,children:"\u4e3b\u8981\u8a55\u4fa1\u9805\u76ee:"}),t.data.criteria.map(function(e,t){return(0,qe.jsxs)(De.default,{style:Yt.overviewItem,children:[(0,qe.jsx)(Ae.default,{style:Yt.overviewIcon,children:e.icon}),(0,qe.jsxs)(De.default,{style:Yt.overviewText,children:[(0,qe.jsx)(Ae.default,{style:Yt.overviewItemTitle,children:e.title}),(0,qe.jsx)(Ae.default,{style:Yt.overviewItemCriteria,children:e.passingCriteria})]})]},e.id)})]}):(0,qe.jsxs)(De.default,{style:Yt.overviewSection,children:[(0,qe.jsx)(Ae.default,{style:Yt.overviewTitle,children:"\u8a55\u4fa1\u30ab\u30c6\u30b4\u30ea:"}),t.data.categories.map(function(e,t){return(0,qe.jsxs)(De.default,{style:Yt.overviewCategory,children:[(0,qe.jsx)(Ae.default,{style:Yt.overviewCategoryTitle,children:e.title}),(0,qe.jsx)(Ae.default,{style:Yt.overviewCategoryDesc,children:e.description}),(0,qe.jsxs)(Ae.default,{style:Yt.overviewCategoryCount,children:[e.criteria.length,"\u9805\u76ee\u306e\u8a55\u4fa1"]})]},e.id)})]})),(0,qe.jsxs)(De.default,{style:Yt.modalDetailSection,children:[(0,qe.jsx)(Ae.default,{style:Yt.modalDetailTitle,children:"\u6ce8\u610f\u4e8b\u9805"}),(0,qe.jsxs)(Ae.default,{style:Yt.modalDetailText,children:["\u2022 \u3059\u3079\u3066\u306e\u8a55\u4fa1\u306f\u533b\u7642\u5f93\u4e8b\u8005\u306e\u6307\u5c0e\u306e\u4e0b\u3067\u5b9f\u65bd\u3057\u3066\u304f\u3060\u3055\u3044","\n","\u2022 \u75db\u307f\u3084\u4e0d\u5feb\u611f\u304c\u3042\u308b\u5834\u5408\u306f\u8a55\u4fa1\u3092\u4e2d\u6b62\u3057\u3066\u304f\u3060\u3055\u3044","\n","\u2022 \u57fa\u6e96\u306b\u9054\u3057\u306a\u3044\u5834\u5408\u306f\u3001\u3055\u3089\u306a\u308b\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0\u3092\u7d99\u7d9a\u3057\u3066\u304f\u3060\u3055\u3044","\n","\u2022 \u500b\u4eba\u5dee\u304c\u3042\u308b\u305f\u3081\u3001\u533b\u5e2b\u3068\u306e\u76f8\u8ac7\u3092\u6b20\u304b\u3055\u306a\u3044\u3067\u304f\u3060\u3055\u3044"]})]}),(0,qe.jsx)(We.default,{mode:"contained",onPress:function(){u(!1),g(s)},style:[Yt.modalButton,{backgroundColor:s.color}],children:"\u8a55\u4fa1\u3092\u958b\u59cb\u3059\u308b"})]})]})})})]})};var Zt=n(3029),en=n(2901),tn=n(388),nn=n(3954),rn=n(5501),on=n(6283);function sn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(sn=function(){return!!e})()}var an=function(e){function t(e){var n,i,r,o;return(0,Zt.default)(this,t),i=this,r=t,o=[e],r=(0,nn.default)(r),(n=(0,tn.default)(i,sn()?Reflect.construct(r,o||[],(0,nn.default)(i).constructor):r.apply(i,o))).handleRetry=function(){n.setState({hasError:!1,error:null,errorInfo:null})},n.handleReportError=function(){var e,t,i=(null==(e=n.state.error)?void 0:e.message)||"Unknown error";null==(t=n.state.error)||t.stack;Pe.default.alert("\u30a8\u30e9\u30fc\u30ec\u30dd\u30fc\u30c8",`\u4ee5\u4e0b\u306e\u30a8\u30e9\u30fc\u60c5\u5831\u3092\u30b5\u30dd\u30fc\u30c8\u306b\u5831\u544a\u3067\u304d\u307e\u3059\uff1a\n\n${i}`,[{text:"\u30ad\u30e3\u30f3\u30bb\u30eb",style:"cancel"},{text:"\u30ec\u30dd\u30fc\u30c8\u9001\u4fe1",onPress:function(){Pe.default.alert("\u9001\u4fe1\u5b8c\u4e86","\u30a8\u30e9\u30fc\u30ec\u30dd\u30fc\u30c8\u3092\u9001\u4fe1\u3057\u307e\u3057\u305f\u3002")}}])},n.state={hasError:!1,error:null,errorInfo:null},n}return(0,rn.default)(t,e),(0,en.default)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,errorInfo:t})}},{key:"render",value:function(){return this.state.hasError?(0,qe.jsx)(De.default,{style:ln.container,children:(0,qe.jsxs)(De.default,{style:ln.errorContainer,children:[(0,qe.jsx)(on.default,{style:ln.title,children:"\u554f\u984c\u304c\u767a\u751f\u3057\u307e\u3057\u305f"}),(0,qe.jsx)(on.default,{style:ln.message,children:"\u30a2\u30d7\u30ea\u3067\u4e88\u671f\u3057\u306a\u3044\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002 \u4e0b\u8a18\u306e\u30dc\u30bf\u30f3\u3092\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002"}),!1,(0,qe.jsxs)(De.default,{style:ln.buttonContainer,children:[(0,qe.jsx)(We.default,{mode:"contained",onPress:this.handleRetry,style:ln.button,children:"\u3082\u3046\u4e00\u5ea6\u8a66\u3059"}),(0,qe.jsx)(We.default,{mode:"outlined",onPress:this.handleReportError,style:ln.button,children:"\u30a8\u30e9\u30fc\u3092\u5831\u544a"}),this.props.onReset&&(0,qe.jsx)(We.default,{mode:"text",onPress:this.props.onReset,style:ln.button,children:"\u30db\u30fc\u30e0\u306b\u623b\u308b"})]})]})}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}])}(o.Component);an.propTypes={children:ke().node.isRequired,onReset:ke().func};var ln=Be.default.create({container:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"#f5f5f5",padding:20},errorContainer:{backgroundColor:"#fff",padding:24,borderRadius:12,width:"100%",maxWidth:400,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5},title:{fontSize:24,fontWeight:"bold",color:"#d32f2f",marginBottom:16,textAlign:"center"},message:{fontSize:16,color:"#333",textAlign:"center",marginBottom:24,lineHeight:24},buttonContainer:{width:"100%",gap:12},button:{marginVertical:4},debugContainer:{backgroundColor:"#f5f5f5",padding:12,borderRadius:8,marginBottom:20,width:"100%"},debugTitle:{fontSize:14,fontWeight:"bold",color:"#666",marginBottom:8},debugText:{fontSize:12,color:"#666",fontFamily:"monospace"}});const dn=an;var cn=(0,a.default)();function un(){return(0,qe.jsx)(dn,{children:(0,qe.jsx)(d.Provider,{store:_e,children:(0,qe.jsx)(l.default,{theme:Te,children:(0,qe.jsx)(s.default,{children:(0,qe.jsxs)(cn.Navigator,{initialRouteName:"Login",screenOptions:{headerStyle:{backgroundColor:Te.colors.primary},headerTintColor:"#fff",headerTitleStyle:{fontWeight:"bold"}},children:[(0,qe.jsx)(cn.Screen,{name:"Login",component:Ve,options:{headerShown:!1}}),(0,qe.jsx)(cn.Screen,{name:"Home",component:Xe,options:{title:"ACL \u30ea\u30cf\u30d3\u30ea"}}),(0,qe.jsx)(cn.Screen,{name:"Exercise",component:it,options:{title:"\u81ea\u4e3b\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0"}}),(0,qe.jsx)(cn.Screen,{name:"ExerciseMenu",component:at,options:{title:"\u4eca\u65e5\u306e\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0"}}),(0,qe.jsx)(cn.Screen,{name:"ExerciseSession",component:ft,options:{title:"\u30c8\u30ec\u30fc\u30cb\u30f3\u30b0\u5b9f\u884c"}}),(0,qe.jsx)(cn.Screen,{name:"AIAnalysis",component:wt,options:{title:"AI\u52d5\u4f5c\u5206\u6790"}}),(0,qe.jsx)(cn.Screen,{name:"MedicalCollaboration",component:Pt,options:{title:"\u533b\u7642\u5f93\u4e8b\u8005\u9023\u643a"}}),(0,qe.jsx)(cn.Screen,{name:"Progress",component:kt,options:{title:"\u9032\u6357\u78ba\u8a8d"}}),(0,qe.jsx)(cn.Screen,{name:"Profile",component:Rt,options:{title:"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb"}}),(0,qe.jsx)(cn.Screen,{name:"ReturnToSport",component:Vt,options:{title:"\u7af6\u6280\u5fa9\u5e30\u8a55\u4fa1"}}),(0,qe.jsx)(cn.Screen,{name:"RunningCriteria",component:Qt,options:{title:"\u30e9\u30f3\u30cb\u30f3\u30b0\u57fa\u6e96"}}),(0,qe.jsx)(cn.Screen,{name:"EvaluationCheckpoints",component:Xt,options:{title:"\u8a55\u4fa1\u30c1\u30a7\u30c3\u30af\u30dd\u30a4\u30f3\u30c8"}})]})})})})})}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n.m=e,(()=>{var e=[];n.O=(t,i,r,o)=>{if(!i){var s=1/0;for(c=0;c<e.length;c++){for(var[i,r,o]=e[c],a=!0,l=0;l<i.length;l++)(!1&o||s>=o)&&Object.keys(n.O).every(e=>n.O[e](i[l]))?i.splice(l--,1):(a=!1,o<s&&(s=o));if(a){e.splice(c--,1);var d=r();void 0!==d&&(t=d)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[i,r,o]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.O.j=t=>0===e[t];var t=(t,i)=>{var r,o,[s,a,l]=i,d=0;if(s.some(t=>0!==e[t])){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(l)var c=l(n)}for(t&&t(i);d<s.length;d++)o=s[d],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(c)},i=self.webpackChunkweb=self.webpackChunkweb||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var i=n.O(void 0,[453],()=>n(5819));i=n.O(i)})();
//# sourceMappingURL=main.2b38c9e8.js.map