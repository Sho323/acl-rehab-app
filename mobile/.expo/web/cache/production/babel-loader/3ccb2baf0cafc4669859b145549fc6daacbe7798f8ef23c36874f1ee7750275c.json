{"ast":null,"code":"import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useState}from'react';import View from\"react-native-web/dist/exports/View\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Alert from\"react-native-web/dist/exports/Alert\";import KeyboardAvoidingView from\"react-native-web/dist/exports/KeyboardAvoidingView\";import Platform from\"react-native-web/dist/exports/Platform\";import{TextInput,Button,Card,Title,Paragraph,ActivityIndicator}from'react-native-paper';import{useDispatch}from'react-redux';import{loginUser}from\"../store/slices/authSlice\";import{theme}from\"../theme\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";var LoginScreen=function LoginScreen(_ref){var navigation=_ref.navigation;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),patientNumber=_useState2[0],setPatientNumber=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var dispatch=useDispatch();var handleLogin=function(){var _ref2=_asyncToGenerator(function*(){if(!patientNumber||!password){Alert.alert('エラー','患者番号とパスワードを入力してください');return;}setIsLoading(true);try{yield dispatch(loginUser({patientNumber:patientNumber,password:password})).unwrap();navigation.replace('Home');}catch(error){Alert.alert('ログインエラー',error.message||'ログインに失敗しました');}finally{setIsLoading(false);}});return function handleLogin(){return _ref2.apply(this,arguments);};}();var handleGuestAccess=function handleGuestAccess(){navigation.replace('Home');};return _jsx(KeyboardAvoidingView,{style:styles.container,behavior:\"web\"==='ios'?'padding':'height',children:_jsx(View,{style:styles.content,children:_jsx(Card,{style:styles.card,children:_jsxs(Card.Content,{children:[_jsx(Title,{style:styles.title,children:\"ACL\\u81EA\\u4E3B\\u30C8\\u30EC\\u30FC\\u30CB\\u30F3\\u30B0\"}),_jsx(Paragraph,{style:styles.subtitle,children:\"\\u30EA\\u30CF\\u30D3\\u30EA\\u30C6\\u30FC\\u30B7\\u30E7\\u30F3\\u30A2\\u30D7\\u30EA\"}),_jsx(TextInput,{label:\"\\u60A3\\u8005\\u756A\\u53F7\",value:patientNumber,onChangeText:setPatientNumber,style:styles.input,mode:\"outlined\",disabled:isLoading}),_jsx(TextInput,{label:\"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9\",value:password,onChangeText:setPassword,secureTextEntry:true,style:styles.input,mode:\"outlined\",disabled:isLoading}),_jsx(Button,{mode:\"contained\",onPress:handleLogin,style:styles.loginButton,disabled:isLoading,children:isLoading?_jsx(ActivityIndicator,{color:\"white\"}):'ログイン'}),_jsx(Button,{mode:\"outlined\",onPress:handleGuestAccess,style:styles.guestButton,disabled:isLoading,children:\"\\u30B2\\u30B9\\u30C8\\u3068\\u3057\\u3066\\u5229\\u7528\"})]})})})});};var styles=StyleSheet.create({container:{flex:1,backgroundColor:theme.colors.background},content:{flex:1,justifyContent:'center',padding:20},card:{padding:20},title:{textAlign:'center',marginBottom:10,color:theme.colors.primary},subtitle:{textAlign:'center',marginBottom:30,color:theme.colors.text},input:{marginBottom:15},loginButton:{marginTop:10,marginBottom:10},guestButton:{marginTop:5}});export default LoginScreen;","map":{"version":3,"names":["React","useState","View","StyleSheet","Alert","KeyboardAvoidingView","Platform","TextInput","Button","Card","Title","Paragraph","ActivityIndicator","useDispatch","loginUser","theme","jsx","_jsx","jsxs","_jsxs","LoginScreen","_ref","navigation","_useState","_useState2","_slicedToArray","patientNumber","setPatientNumber","_useState3","_useState4","password","setPassword","_useState5","_useState6","isLoading","setIsLoading","dispatch","handleLogin","_ref2","_asyncToGenerator","alert","unwrap","replace","error","message","apply","arguments","handleGuestAccess","style","styles","container","behavior","children","content","card","Content","title","subtitle","label","value","onChangeText","input","mode","disabled","secureTextEntry","onPress","loginButton","color","guestButton","create","flex","backgroundColor","colors","background","justifyContent","padding","textAlign","marginBottom","primary","text","marginTop"],"sources":["/Users/shota/Desktop/文献検索/acl-rehab-app/mobile/src/screens/LoginScreen.js"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  View,\n  StyleSheet,\n  Alert,\n  KeyboardAvoidingView,\n  Platform,\n} from 'react-native';\nimport {\n  TextInput,\n  Button,\n  Card,\n  Title,\n  Paragraph,\n  ActivityIndicator,\n} from 'react-native-paper';\nimport { useDispatch } from 'react-redux';\nimport { loginUser } from '../store/slices/authSlice';\nimport { theme } from '../theme';\n\nconst LoginScreen = ({ navigation }) => {\n  const [patientNumber, setPatientNumber] = useState('');\n  const [password, setPassword] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const dispatch = useDispatch();\n\n  const handleLogin = async () => {\n    if (!patientNumber || !password) {\n      Alert.alert('エラー', '患者番号とパスワードを入力してください');\n      return;\n    }\n\n    setIsLoading(true);\n    try {\n      await dispatch(loginUser({ patientNumber, password })).unwrap();\n      navigation.replace('Home');\n    } catch (error) {\n      Alert.alert('ログインエラー', error.message || 'ログインに失敗しました');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleGuestAccess = () => {\n    navigation.replace('Home');\n  };\n\n  return (\n    <KeyboardAvoidingView\n      style={styles.container}\n      behavior={Platform.OS === 'ios' ? 'padding' : 'height'}\n    >\n      <View style={styles.content}>\n        <Card style={styles.card}>\n          <Card.Content>\n            <Title style={styles.title}>ACL自主トレーニング</Title>\n            <Paragraph style={styles.subtitle}>\n              リハビリテーションアプリ\n            </Paragraph>\n\n            <TextInput\n              label=\"患者番号\"\n              value={patientNumber}\n              onChangeText={setPatientNumber}\n              style={styles.input}\n              mode=\"outlined\"\n              disabled={isLoading}\n            />\n\n            <TextInput\n              label=\"パスワード\"\n              value={password}\n              onChangeText={setPassword}\n              secureTextEntry\n              style={styles.input}\n              mode=\"outlined\"\n              disabled={isLoading}\n            />\n\n            <Button\n              mode=\"contained\"\n              onPress={handleLogin}\n              style={styles.loginButton}\n              disabled={isLoading}\n            >\n              {isLoading ? <ActivityIndicator color=\"white\" /> : 'ログイン'}\n            </Button>\n\n            <Button\n              mode=\"outlined\"\n              onPress={handleGuestAccess}\n              style={styles.guestButton}\n              disabled={isLoading}\n            >\n              ゲストとして利用\n            </Button>\n          </Card.Content>\n        </Card>\n      </View>\n    </KeyboardAvoidingView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: theme.colors.background,\n  },\n  content: {\n    flex: 1,\n    justifyContent: 'center',\n    padding: 20,\n  },\n  card: {\n    padding: 20,\n  },\n  title: {\n    textAlign: 'center',\n    marginBottom: 10,\n    color: theme.colors.primary,\n  },\n  subtitle: {\n    textAlign: 'center',\n    marginBottom: 30,\n    color: theme.colors.text,\n  },\n  input: {\n    marginBottom: 15,\n  },\n  loginButton: {\n    marginTop: 10,\n    marginBottom: 10,\n  },\n  guestButton: {\n    marginTop: 5,\n  },\n});\n\nexport default LoginScreen;"],"mappings":"wIAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,IAAA,iDAAAC,UAAA,uDAAAC,KAAA,kDAAAC,oBAAA,iEAAAC,QAAA,8CAQxC,OACEC,SAAS,CACTC,MAAM,CACNC,IAAI,CACJC,KAAK,CACLC,SAAS,CACTC,iBAAiB,KACZ,oBAAoB,CAC3B,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,SAAS,iCAClB,OAASC,KAAK,gBAAmB,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEjC,GAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAAC,IAAA,CAAuB,IAAjB,CAAAC,UAAU,CAAAD,IAAA,CAAVC,UAAU,CAC/B,IAAAC,SAAA,CAA0CtB,QAAQ,CAAC,EAAE,CAAC,CAAAuB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/CG,aAAa,CAAAF,UAAA,IAAEG,gBAAgB,CAAAH,UAAA,IACtC,IAAAI,UAAA,CAAgC3B,QAAQ,CAAC,EAAE,CAAC,CAAA4B,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAArCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAC5B,IAAAG,UAAA,CAAkC/B,QAAQ,CAAC,KAAK,CAAC,CAAAgC,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAA1CE,SAAS,CAAAD,UAAA,IAAEE,YAAY,CAAAF,UAAA,IAC9B,GAAM,CAAAG,QAAQ,CAAGvB,WAAW,CAAC,CAAC,CAE9B,GAAM,CAAAwB,WAAW,gBAAAC,KAAA,CAAAC,iBAAA,CAAG,WAAY,CAC9B,GAAI,CAACb,aAAa,EAAI,CAACI,QAAQ,CAAE,CAC/B1B,KAAK,CAACoC,KAAK,CAAC,KAAK,CAAE,qBAAqB,CAAC,CACzC,OACF,CAEAL,YAAY,CAAC,IAAI,CAAC,CAClB,GAAI,CACF,KAAM,CAAAC,QAAQ,CAACtB,SAAS,CAAC,CAAEY,aAAa,CAAbA,aAAa,CAAEI,QAAQ,CAARA,QAAS,CAAC,CAAC,CAAC,CAACW,MAAM,CAAC,CAAC,CAC/DnB,UAAU,CAACoB,OAAO,CAAC,MAAM,CAAC,CAC5B,CAAE,MAAOC,KAAK,CAAE,CACdvC,KAAK,CAACoC,KAAK,CAAC,SAAS,CAAEG,KAAK,CAACC,OAAO,EAAI,aAAa,CAAC,CACxD,CAAC,OAAS,CACRT,YAAY,CAAC,KAAK,CAAC,CACrB,CACF,CAAC,iBAfK,CAAAE,WAAWA,CAAA,SAAAC,KAAA,CAAAO,KAAA,MAAAC,SAAA,OAehB,CAED,GAAM,CAAAC,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAA,CAAS,CAC9BzB,UAAU,CAACoB,OAAO,CAAC,MAAM,CAAC,CAC5B,CAAC,CAED,MACE,CAAAzB,IAAA,CAACZ,oBAAoB,EACnB2C,KAAK,CAAEC,MAAM,CAACC,SAAU,CACxBC,QAAQ,CAAE,QAAgB,KAAK,CAAG,SAAS,CAAG,QAAS,CAAAC,QAAA,CAEvDnC,IAAA,CAACf,IAAI,EAAC8C,KAAK,CAAEC,MAAM,CAACI,OAAQ,CAAAD,QAAA,CAC1BnC,IAAA,CAACR,IAAI,EAACuC,KAAK,CAAEC,MAAM,CAACK,IAAK,CAAAF,QAAA,CACvBjC,KAAA,CAACV,IAAI,CAAC8C,OAAO,EAAAH,QAAA,EACXnC,IAAA,CAACP,KAAK,EAACsC,KAAK,CAAEC,MAAM,CAACO,KAAM,CAAAJ,QAAA,CAAC,qDAAW,CAAO,CAAC,CAC/CnC,IAAA,CAACN,SAAS,EAACqC,KAAK,CAAEC,MAAM,CAACQ,QAAS,CAAAL,QAAA,CAAC,0EAEnC,CAAW,CAAC,CAEZnC,IAAA,CAACV,SAAS,EACRmD,KAAK,CAAC,0BAAM,CACZC,KAAK,CAAEjC,aAAc,CACrBkC,YAAY,CAAEjC,gBAAiB,CAC/BqB,KAAK,CAAEC,MAAM,CAACY,KAAM,CACpBC,IAAI,CAAC,UAAU,CACfC,QAAQ,CAAE7B,SAAU,CACrB,CAAC,CAEFjB,IAAA,CAACV,SAAS,EACRmD,KAAK,CAAC,gCAAO,CACbC,KAAK,CAAE7B,QAAS,CAChB8B,YAAY,CAAE7B,WAAY,CAC1BiC,eAAe,MACfhB,KAAK,CAAEC,MAAM,CAACY,KAAM,CACpBC,IAAI,CAAC,UAAU,CACfC,QAAQ,CAAE7B,SAAU,CACrB,CAAC,CAEFjB,IAAA,CAACT,MAAM,EACLsD,IAAI,CAAC,WAAW,CAChBG,OAAO,CAAE5B,WAAY,CACrBW,KAAK,CAAEC,MAAM,CAACiB,WAAY,CAC1BH,QAAQ,CAAE7B,SAAU,CAAAkB,QAAA,CAEnBlB,SAAS,CAAGjB,IAAA,CAACL,iBAAiB,EAACuD,KAAK,CAAC,OAAO,CAAE,CAAC,CAAG,MAAM,CACnD,CAAC,CAETlD,IAAA,CAACT,MAAM,EACLsD,IAAI,CAAC,UAAU,CACfG,OAAO,CAAElB,iBAAkB,CAC3BC,KAAK,CAAEC,MAAM,CAACmB,WAAY,CAC1BL,QAAQ,CAAE7B,SAAU,CAAAkB,QAAA,CACrB,kDAED,CAAQ,CAAC,EACG,CAAC,CACX,CAAC,CACH,CAAC,CACa,CAAC,CAE3B,CAAC,CAED,GAAM,CAAAH,MAAM,CAAG9C,UAAU,CAACkE,MAAM,CAAC,CAC/BnB,SAAS,CAAE,CACToB,IAAI,CAAE,CAAC,CACPC,eAAe,CAAExD,KAAK,CAACyD,MAAM,CAACC,UAChC,CAAC,CACDpB,OAAO,CAAE,CACPiB,IAAI,CAAE,CAAC,CACPI,cAAc,CAAE,QAAQ,CACxBC,OAAO,CAAE,EACX,CAAC,CACDrB,IAAI,CAAE,CACJqB,OAAO,CAAE,EACX,CAAC,CACDnB,KAAK,CAAE,CACLoB,SAAS,CAAE,QAAQ,CACnBC,YAAY,CAAE,EAAE,CAChBV,KAAK,CAAEpD,KAAK,CAACyD,MAAM,CAACM,OACtB,CAAC,CACDrB,QAAQ,CAAE,CACRmB,SAAS,CAAE,QAAQ,CACnBC,YAAY,CAAE,EAAE,CAChBV,KAAK,CAAEpD,KAAK,CAACyD,MAAM,CAACO,IACtB,CAAC,CACDlB,KAAK,CAAE,CACLgB,YAAY,CAAE,EAChB,CAAC,CACDX,WAAW,CAAE,CACXc,SAAS,CAAE,EAAE,CACbH,YAAY,CAAE,EAChB,CAAC,CACDT,WAAW,CAAE,CACXY,SAAS,CAAE,CACb,CACF,CAAC,CAAC,CAEF,cAAe,CAAA5D,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}