{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/shota/Desktop/\\u6587\\u732E\\u691C\\u7D22/acl-rehab-app/mobile/src/screens/ExerciseMenuScreen.js\",\n  _this = this;\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { Text, Card, Button, List, Chip, ActivityIndicator, Divider, Badge, IconButton } from 'react-native-paper';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { fetchPatientExercisePlan, setCurrentPhase, startLocalSession, clearError } from \"../store/slices/exerciseSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _Dimensions$get = Dimensions.get('window'),\n  width = _Dimensions$get.width;\nvar ExerciseMenuScreen = function ExerciseMenuScreen(_ref) {\n  var navigation = _ref.navigation;\n  var dispatch = useDispatch();\n  var _useSelector = useSelector(function (state) {\n      return state.auth;\n    }),\n    user = _useSelector.user,\n    token = _useSelector.token;\n  var _useSelector2 = useSelector(function (state) {\n      return state.exercise;\n    }),\n    patientPlan = _useSelector2.patientPlan,\n    isLoading = _useSelector2.isLoading,\n    error = _useSelector2.error,\n    currentPhase = _useSelector2.currentPhase,\n    currentSession = _useSelector2.currentSession;\n  var _useState = useState({}),\n    _useState2 = _slicedToArray(_useState, 2),\n    expandedCategories = _useState2[0],\n    setExpandedCategories = _useState2[1];\n  useEffect(function () {\n    if (user) {\n      var userPhase = user.currentPhase || 'pre_surgery';\n      dispatch(setCurrentPhase(userPhase));\n      if (!token) {\n        var dummyPlan = getDummyExercisePlan(userPhase);\n        setLocalPatientPlan(dummyPlan);\n      } else {\n        dispatch(fetchPatientExercisePlan({\n          patientId: user.id,\n          phase: userPhase,\n          token: token\n        }));\n      }\n    }\n  }, [dispatch, user, token]);\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    localPatientPlan = _useState4[0],\n    setLocalPatientPlan = _useState4[1];\n  var getDummyExercisePlan = function getDummyExercisePlan(phase) {\n    var phaseExercises = {\n      'pre_surgery': [{\n        id: '1',\n        exercise_name: 'ヒールプロップス',\n        description: '膝裏に空間を作り、重力で自然に伸びるようにする。最優先事項',\n        category_name: 'ROM改善',\n        assigned_sets: 1,\n        assigned_reps: 1,\n        duration: '10-20分',\n        frequency: '1日数回',\n        difficulty_level: 'beginner',\n        requires_ai_analysis: false,\n        is_completed: false\n      }, {\n        id: '2',\n        exercise_name: 'ヒールスライド',\n        description: 'タオルで補助し、痛みのない範囲でゆっくり曲げる',\n        category_name: 'ROM改善',\n        assigned_sets: 5,\n        assigned_reps: 20,\n        difficulty_level: 'beginner',\n        requires_ai_analysis: false,\n        is_completed: false\n      }, {\n        id: '3',\n        exercise_name: 'パテラモビライゼーション',\n        description: '膝のお皿を上下左右に優しく動かす',\n        category_name: 'ROM改善',\n        assigned_sets: 1,\n        assigned_reps: 1,\n        duration: '5分程度',\n        frequency: '1日数回',\n        difficulty_level: 'beginner',\n        requires_ai_analysis: false,\n        is_completed: false\n      }, {\n        id: '4',\n        exercise_name: 'クワッドセッティング',\n        description: '膝裏のタオルを押しつぶす意識。ハムストリングスも同時に収縮させる（同時収縮）',\n        category_name: '筋力（患側）',\n        assigned_sets: 3,\n        assigned_reps: 12,\n        hold_time: '5秒保持',\n        difficulty_level: 'beginner',\n        requires_ai_analysis: false,\n        is_completed: false\n      }, {\n        id: '5',\n        exercise_name: 'SLR（ストレートレッグレイズ）',\n        description: '膝が曲がり落ちないように（ラグ無し）。股関節ではなく大腿四頭筋で上げる意識',\n        category_name: '筋力（患側）',\n        assigned_sets: 3,\n        assigned_reps: 12,\n        difficulty_level: 'beginner',\n        requires_ai_analysis: true,\n        is_completed: false\n      }, {\n        id: '6',\n        exercise_name: 'グルートブリッジ',\n        description: '股関節をしっかり伸展させる。お尻の筋肉を意識する',\n        category_name: '筋力（患側）',\n        assigned_sets: 3,\n        assigned_reps: 15,\n        difficulty_level: 'beginner',\n        requires_ai_analysis: false,\n        is_completed: false\n      }, {\n        id: '7',\n        exercise_name: '健側の片脚トレーニング',\n        description: '片脚スクワット、片脚カーフレイズ、片脚RDLなど。クロス・エデュケーション効果を狙う',\n        category_name: '筋力（患部外）',\n        assigned_sets: 3,\n        assigned_reps: 15,\n        difficulty_level: 'intermediate',\n        requires_ai_analysis: true,\n        is_completed: false\n      }, {\n        id: '8',\n        exercise_name: '体幹トレーニング',\n        description: 'プランク、サイドプランク。体幹の安定は全ての動作の基礎',\n        category_name: '筋力（患部外）',\n        assigned_sets: 3,\n        assigned_reps: 1,\n        duration: '30-60秒',\n        difficulty_level: 'intermediate',\n        requires_ai_analysis: false,\n        is_completed: false\n      }, {\n        id: '9',\n        exercise_name: '上半身トレーニング',\n        description: 'プレス系、プル系など、膝に負担のかからない種目をバランス良く行う',\n        category_name: '筋力（患部外）',\n        assigned_sets: 3,\n        assigned_reps: 12,\n        difficulty_level: 'intermediate',\n        requires_ai_analysis: false,\n        is_completed: false\n      }, {\n        id: '10',\n        exercise_name: 'エアロバイク',\n        description: 'サドルの高さを調整し、伸展・屈曲両方の可動域改善にも活用する',\n        category_name: '有酸素運動',\n        assigned_sets: 1,\n        assigned_reps: 1,\n        duration: '20-30分',\n        difficulty_level: 'beginner',\n        requires_ai_analysis: false,\n        is_completed: false\n      }],\n      'post_surgery_early': [{\n        id: '101',\n        exercise_name: 'アイシング・挙上',\n        description: '痛みと腫れの管理が最優先。挙上時は膝裏に枕を入れない',\n        category_name: 'アイシング・挙上',\n        assigned_sets: 1,\n        assigned_reps: 1,\n        duration: '20分',\n        frequency: '頻回',\n        difficulty_level: 'beginner',\n        requires_ai_analysis: false,\n        is_completed: false\n      }, {\n        id: '102',\n        exercise_name: 'ヒールプロップス',\n        description: '完全伸展（0°）の達成と維持が最重要目標',\n        category_name: 'ROM',\n        assigned_sets: 1,\n        assigned_reps: 1,\n        duration: '20-30分',\n        frequency: '1日数回',\n        difficulty_level: 'beginner',\n        requires_ai_analysis: false,\n        is_completed: false\n      }, {\n        id: '103',\n        exercise_name: 'ヒールスライド',\n        description: '痛みのない範囲で優しく行う。目標は90°屈曲',\n        category_name: 'ROM',\n        assigned_sets: 3,\n        assigned_reps: 15,\n        note: '10-20回の範囲で調整',\n        difficulty_level: 'beginner',\n        requires_ai_analysis: false,\n        is_completed: false\n      }, {\n        id: '104',\n        exercise_name: 'アンクルポンプ',\n        description: 'DVT予防のために積極的に行う',\n        category_name: 'ROM',\n        assigned_sets: 1,\n        assigned_reps: 15,\n        frequency: '毎時',\n        difficulty_level: 'beginner',\n        requires_ai_analysis: false,\n        is_completed: false\n      }, {\n        id: '105',\n        exercise_name: 'クワッドセッティング',\n        description: '強い収縮を意識する。NMESが有効な場合もある',\n        category_name: '筋力（患側）',\n        assigned_sets: 3,\n        assigned_reps: 12,\n        hold_time: '5秒保持',\n        difficulty_level: 'beginner',\n        requires_ai_analysis: false,\n        is_completed: false\n      }, {\n        id: '106',\n        exercise_name: 'SLR（伸展ラグ無し）',\n        description: '膝が完全に伸びたまま上げられる場合のみ実施',\n        category_name: '筋力（患側）',\n        assigned_sets: 3,\n        assigned_reps: 10,\n        difficulty_level: 'beginner',\n        requires_ai_analysis: true,\n        is_completed: false\n      }, {\n        id: '107',\n        exercise_name: '片脚ブリッジ',\n        description: '健側のお尻とハムストリングスを強化',\n        category_name: '筋力（健側）',\n        assigned_sets: 3,\n        assigned_reps: 12,\n        note: '10-15回の範囲で調整',\n        difficulty_level: 'beginner',\n        requires_ai_analysis: false,\n        is_completed: false\n      }, {\n        id: '108',\n        exercise_name: '片脚カーフレイズ',\n        description: '健側のふくらはぎを強化',\n        category_name: '筋力（健側）',\n        assigned_sets: 3,\n        assigned_reps: 17,\n        note: '15-20回の範囲で調整',\n        difficulty_level: 'beginner',\n        requires_ai_analysis: false,\n        is_completed: false\n      }],\n      'post_surgery_1_4weeks': [{\n        id: '201',\n        exercise_name: 'エアロバイク',\n        description: '最初は揺らす動きから。完全な回転ができるようになったら徐々に時間を延ばす',\n        category_name: 'ROM',\n        assigned_sets: 1,\n        assigned_reps: 1,\n        duration: '10-20分',\n        difficulty_level: 'beginner',\n        requires_ai_analysis: false,\n        is_completed: false\n      }, {\n        id: '202',\n        exercise_name: '歩行訓練',\n        description: '鏡を見ながら、左右対称で滑らかな歩行を意識する。質を重視',\n        category_name: '歩行',\n        assigned_sets: 1,\n        assigned_reps: 1,\n        note: '質を重視',\n        difficulty_level: 'beginner',\n        requires_ai_analysis: true,\n        is_completed: false\n      }, {\n        id: '203',\n        exercise_name: '両脚ミニスクワット',\n        description: '膝屈曲45°まで。膝がつま先より前に出過ぎないように注意',\n        category_name: '筋力（患側）',\n        assigned_sets: 3,\n        assigned_reps: 17,\n        note: '15-20回の範囲で調整',\n        difficulty_level: 'intermediate',\n        requires_ai_analysis: true,\n        is_completed: false\n      }, {\n        id: '204',\n        exercise_name: 'レッグプレス（両脚）',\n        description: '軽い負荷から開始し、左右均等に力を入れる',\n        category_name: '筋力（患側）',\n        assigned_sets: 3,\n        assigned_reps: 17,\n        note: '15-20回の範囲で調整',\n        difficulty_level: 'intermediate',\n        requires_ai_analysis: false,\n        is_completed: false\n      }, {\n        id: '205',\n        exercise_name: 'OKC膝伸展（4週目以降）',\n        description: '抵抗なしで、90°から45°の範囲のみ。痛みに注意',\n        category_name: '筋力（患側）',\n        assigned_sets: 2,\n        assigned_reps: 12,\n        note: '10-15回×2-3セット',\n        difficulty_level: 'intermediate',\n        requires_ai_analysis: true,\n        is_completed: false\n      }, {\n        id: '206',\n        exercise_name: '片脚レッグプレス',\n        description: '健側の筋力を積極的に向上させる',\n        category_name: '筋力（健側）',\n        assigned_sets: 3,\n        assigned_reps: 11,\n        note: '10-12回の範囲で調整',\n        difficulty_level: 'intermediate',\n        requires_ai_analysis: false,\n        is_completed: false\n      }, {\n        id: '207',\n        exercise_name: '片脚RDL',\n        description: 'フォームを重視し、ハムストリングスと殿筋を鍛える',\n        category_name: '筋力（健側）',\n        assigned_sets: 3,\n        assigned_reps: 11,\n        note: '10-12回の範囲で調整',\n        difficulty_level: 'intermediate',\n        requires_ai_analysis: true,\n        is_completed: false\n      }, {\n        id: '208',\n        exercise_name: 'プランク（動的バリエーション）',\n        description: '腕や脚を交互に上げるなど、安定性を保ちながら動きを加える',\n        category_name: '体幹',\n        assigned_sets: 3,\n        assigned_reps: 1,\n        duration: '30-60秒',\n        difficulty_level: 'intermediate',\n        requires_ai_analysis: false,\n        is_completed: false\n      }],\n      'post_surgery_1_2months': [{\n        id: '301',\n        exercise_name: 'スクワット',\n        description: '屈曲角度を90°に近づける。フォームを最優先',\n        category_name: '筋力（CKC）',\n        assigned_sets: 3,\n        assigned_reps: 13,\n        note: '12-15回の範囲で調整',\n        difficulty_level: 'intermediate',\n        requires_ai_analysis: true,\n        is_completed: false\n      }, {\n        id: '302',\n        exercise_name: 'ステップアップ（前方・側方）',\n        description: '低い台から始める。体幹がぶれないように',\n        category_name: '筋力（CKC）',\n        assigned_sets: 3,\n        assigned_reps: 12,\n        note: '10-15回の範囲で調整',\n        difficulty_level: 'intermediate',\n        requires_ai_analysis: true,\n        is_completed: false\n      }, {\n        id: '303',\n        exercise_name: '片脚レッグプレス',\n        description: '患側の脚でコントロールしながら押す',\n        category_name: '筋力（CKC）',\n        assigned_sets: 3,\n        assigned_reps: 12,\n        note: '10-15回の範囲で調整',\n        difficulty_level: 'intermediate',\n        requires_ai_analysis: false,\n        is_completed: false\n      }, {\n        id: '304',\n        exercise_name: '片脚立ち（不安定面上）',\n        description: 'BOSUやフォームパッド上で。視線を動かしたり、ボールを扱ったりして難易度を上げる',\n        category_name: 'バランス',\n        assigned_sets: 3,\n        assigned_reps: 1,\n        duration: '30-60秒保持',\n        difficulty_level: 'intermediate',\n        requires_ai_analysis: true,\n        is_completed: false\n      }, {\n        id: '305',\n        exercise_name: 'バードドッグ',\n        description: '体幹を一直線に保ち、ゆっくりと手足を伸ばす',\n        category_name: '体幹',\n        assigned_sets: 3,\n        assigned_reps: 10,\n        difficulty_level: 'intermediate',\n        requires_ai_analysis: false,\n        is_completed: false\n      }],\n      'post_surgery_2_3months': [{\n        id: '401',\n        exercise_name: 'ランジ（前方・側方）',\n        description: '踏み出した膝が内側に入らないように。体幹は直立を保つ',\n        category_name: '筋力',\n        assigned_sets: 3,\n        assigned_reps: 11,\n        note: '10-12回の範囲で調整',\n        difficulty_level: 'intermediate',\n        requires_ai_analysis: true,\n        is_completed: false\n      }, {\n        id: '402',\n        exercise_name: '片脚スクワット（支持あり）',\n        description: '鏡でフォームを確認しながら、徐々に深く。膝とつま先の向きを揃える',\n        category_name: '筋力',\n        assigned_sets: 3,\n        assigned_reps: 10,\n        note: '8-12回の範囲で調整',\n        difficulty_level: 'intermediate',\n        requires_ai_analysis: true,\n        is_completed: false\n      }, {\n        id: '403',\n        exercise_name: 'フィジオボール・ハムストリングカール',\n        description: 'お尻を高く保ち、ハムストリングスでボールを引き寄せる',\n        category_name: '筋力',\n        assigned_sets: 3,\n        assigned_reps: 12,\n        note: '10-15回の範囲で調整',\n        difficulty_level: 'intermediate',\n        requires_ai_analysis: false,\n        is_completed: false\n      }, {\n        id: '404',\n        exercise_name: 'バイク/エリプティカル',\n        description: '強度を上げて心拍数を高める。ランニングへの準備',\n        category_name: '有酸素運動',\n        assigned_sets: 1,\n        assigned_reps: 1,\n        duration: '20-30分',\n        difficulty_level: 'intermediate',\n        requires_ai_analysis: false,\n        is_completed: false\n      }, {\n        id: '405',\n        exercise_name: 'フィジオボール・プランク',\n        description: '不安定なボールの上で体幹を固める',\n        category_name: '体幹',\n        assigned_sets: 3,\n        assigned_reps: 1,\n        duration: '30-60秒',\n        difficulty_level: 'intermediate',\n        requires_ai_analysis: false,\n        is_completed: false\n      }],\n      'post_surgery_3_4months': [{\n        id: '501',\n        exercise_name: 'ジョグ/ウォークプログラム',\n        description: '基準を満たした場合のみ開始。痛みや腫れが出たら中止',\n        category_name: '有酸素',\n        assigned_sets: 1,\n        assigned_reps: 1,\n        duration: '20分から開始',\n        difficulty_level: 'intermediate',\n        requires_ai_analysis: false,\n        is_completed: false,\n        note: 'ランニング開始基準をクリアしてから実施'\n      }, {\n        id: '502',\n        exercise_name: '両脚ラインホップ',\n        description: '軽く、静かに着地する。膝のアライメントに集中',\n        category_name: 'プライオメトリクス',\n        assigned_sets: 3,\n        assigned_reps: 1,\n        duration: '30秒',\n        difficulty_level: 'advanced',\n        requires_ai_analysis: true,\n        is_completed: false\n      }, {\n        id: '503',\n        exercise_name: '両脚ボックスジャンプ（低）',\n        description: '低い台（15-30cm）へ跳び乗り、静かに降りる。着地をコントロール',\n        category_name: 'プライオメトリクス',\n        assigned_sets: 3,\n        assigned_reps: 9,\n        note: '8-10回の範囲で調整',\n        difficulty_level: 'advanced',\n        requires_ai_analysis: true,\n        is_completed: false\n      }, {\n        id: '504',\n        exercise_name: 'ゴブレットスクワット',\n        description: '重量を増やし、パワー（挙上速度）を意識する',\n        category_name: '筋力',\n        assigned_sets: 3,\n        assigned_reps: 10,\n        note: '8-12回の範囲で調整',\n        difficulty_level: 'intermediate',\n        requires_ai_analysis: true,\n        is_completed: false\n      }, {\n        id: '505',\n        exercise_name: 'ウォーキングランジ',\n        description: '安定したフォームで一歩ずつ進む',\n        category_name: '筋力',\n        assigned_sets: 3,\n        assigned_reps: 10,\n        note: '10歩',\n        difficulty_level: 'intermediate',\n        requires_ai_analysis: true,\n        is_completed: false\n      }, {\n        id: '506',\n        exercise_name: 'メディシンボールツイスト',\n        description: '座位で体幹を回旋させる。スポーツ動作への準備',\n        category_name: '体幹',\n        assigned_sets: 3,\n        assigned_reps: 15,\n        difficulty_level: 'intermediate',\n        requires_ai_analysis: false,\n        is_completed: false\n      }],\n      'post_surgery_4_6months': [{\n        id: '601',\n        exercise_name: '片脚着地ドリル',\n        description: '低い台から片脚で着地し、3秒静止。膝と股関節で衝撃を吸収',\n        category_name: 'プライオメトリクス',\n        assigned_sets: 3,\n        assigned_reps: 9,\n        note: '8-10回の範囲で調整',\n        difficulty_level: 'advanced',\n        requires_ai_analysis: true,\n        is_completed: false\n      }, {\n        id: '602',\n        exercise_name: 'スケーターホップ',\n        description: '左右に跳び、片脚でバランスを保つ。着地の安定性を重視',\n        category_name: 'プライオメトリクス',\n        assigned_sets: 3,\n        assigned_reps: 11,\n        note: '10-12回の範囲で調整',\n        difficulty_level: 'advanced',\n        requires_ai_analysis: true,\n        is_completed: false\n      }, {\n        id: '603',\n        exercise_name: '片脚ホップ（距離）',\n        description: '距離よりもフォームと着地の質を優先する',\n        category_name: 'プライオメトリクス',\n        assigned_sets: 3,\n        assigned_reps: 6,\n        note: '5-8回の範囲で調整',\n        difficulty_level: 'advanced',\n        requires_ai_analysis: true,\n        is_completed: false\n      }, {\n        id: '604',\n        exercise_name: 'ラダードリル',\n        description: '素早い足の動きを練習。最初はゆっくり正確に',\n        category_name: 'アジリティ',\n        assigned_sets: 2,\n        assigned_reps: 1,\n        note: '各ドリル × 2-3セット',\n        difficulty_level: 'advanced',\n        requires_ai_analysis: true,\n        is_completed: false\n      }, {\n        id: '605',\n        exercise_name: 'Tドリル／ボックスドリル',\n        description: '計画された前後左右への移動。減速と加速のコントロール',\n        category_name: 'アジリティ',\n        assigned_sets: 3,\n        assigned_reps: 4,\n        note: '3-5往復',\n        difficulty_level: 'advanced',\n        requires_ai_analysis: true,\n        is_completed: false\n      }, {\n        id: '606',\n        exercise_name: 'バーベルスクワット／デッドリフト',\n        description: '最大筋力向上のため高重量・低回数で。フォームは絶対に崩さない',\n        category_name: '筋力',\n        assigned_sets: 3,\n        assigned_reps: 5,\n        note: '3-8回 × 3-4セット',\n        difficulty_level: 'advanced',\n        requires_ai_analysis: true,\n        is_completed: false\n      }],\n      'phase_3_1': [{\n        id: '4',\n        exercise_name: '片脚立位',\n        description: '患側での片脚立位練習',\n        category_name: '歩行訓練',\n        assigned_sets: 3,\n        assigned_reps: 5,\n        difficulty_level: 'intermediate',\n        requires_ai_analysis: true,\n        is_completed: false\n      }],\n      'phase_3_2': [{\n        id: '5',\n        exercise_name: 'ミニスクワット',\n        description: '膝屈曲30度までの浅いスクワット',\n        category_name: '筋力強化',\n        assigned_sets: 3,\n        assigned_reps: 10,\n        difficulty_level: 'intermediate',\n        requires_ai_analysis: true,\n        is_completed: false\n      }, {\n        id: '6',\n        exercise_name: 'バランスボード',\n        description: 'バランスボードを使った安定性訓練',\n        category_name: 'バランス訓練',\n        assigned_sets: 3,\n        assigned_reps: 1,\n        difficulty_level: 'intermediate',\n        requires_ai_analysis: true,\n        is_completed: false\n      }],\n      'phase_3_3': [{\n        id: '7',\n        exercise_name: 'ジャンプ着地',\n        description: '両足でのジャンプ着地練習',\n        category_name: 'スポーツ動作訓練',\n        assigned_sets: 3,\n        assigned_reps: 10,\n        difficulty_level: 'advanced',\n        requires_ai_analysis: true,\n        is_completed: false\n      }],\n      'phase_3_4': [{\n        id: '8',\n        exercise_name: 'カッティング動作',\n        description: '方向転換動作の練習',\n        category_name: '競技特異的訓練',\n        assigned_sets: 3,\n        assigned_reps: 5,\n        difficulty_level: 'advanced',\n        requires_ai_analysis: true,\n        is_completed: false\n      }]\n    };\n    return phaseExercises[phase] || [];\n  };\n  var getPhaseInfo = function getPhaseInfo(phase) {\n    var phaseMap = {\n      'pre_surgery': {\n        title: '術前期',\n        description: '手術前の準備期間',\n        color: '#FF9800'\n      },\n      'post_surgery_early': {\n        title: '術直後期',\n        description: '手術直後〜1週間',\n        color: '#F44336'\n      },\n      'post_surgery_1_4weeks': {\n        title: '術後1-4週間',\n        description: '術後1〜4週間',\n        color: '#E91E63'\n      },\n      'post_surgery_1_2months': {\n        title: '術後1-2ヶ月',\n        description: '術後1〜2ヶ月',\n        color: '#9C27B0'\n      },\n      'post_surgery_2_3months': {\n        title: '術後2-3ヶ月',\n        description: '術後2〜3ヶ月',\n        color: '#673AB7'\n      },\n      'post_surgery_3_4months': {\n        title: '術後3-4ヶ月',\n        description: '術後3〜4ヶ月',\n        color: '#3F51B5'\n      },\n      'post_surgery_4_6months': {\n        title: '術後4-6ヶ月',\n        description: '術後4〜6ヶ月',\n        color: '#2196F3'\n      },\n      'phase_3_1': {\n        title: '基礎回復期',\n        description: '2〜6週間',\n        color: '#2196F3'\n      },\n      'phase_3_2': {\n        title: '筋力強化期',\n        description: '6〜12週間',\n        color: '#4CAF50'\n      },\n      'phase_3_3': {\n        title: '機能訓練期',\n        description: '3〜6ヶ月',\n        color: '#9C27B0'\n      },\n      'phase_3_4': {\n        title: '競技復帰期',\n        description: '6〜12ヶ月',\n        color: '#E91E63'\n      }\n    };\n    return phaseMap[phase] || phaseMap['pre_surgery'];\n  };\n  var groupExercisesByCategory = function groupExercisesByCategory(exercises) {\n    var grouped = {};\n    exercises.forEach(function (exercise) {\n      var categoryName = exercise.category_name || 'その他';\n      if (!grouped[categoryName]) {\n        grouped[categoryName] = [];\n      }\n      grouped[categoryName].push(exercise);\n    });\n    return grouped;\n  };\n  var handleStartSession = function handleStartSession() {\n    var planToUse = token ? patientPlan : localPatientPlan;\n    if (currentSession) {\n      Alert.alert('進行中のセッション', 'すでに進行中のセッションがあります。継続しますか？', [{\n        text: 'キャンセル',\n        style: 'cancel'\n      }, {\n        text: '継続',\n        onPress: function onPress() {\n          return navigation.navigate('ExerciseSession');\n        }\n      }]);\n      return;\n    }\n    if (planToUse.length === 0) {\n      Alert.alert('お知らせ', '現在利用可能な運動メニューがありません。');\n      return;\n    }\n    dispatch(startLocalSession({\n      patientId: user.id,\n      phase: currentPhase\n    }));\n    Alert.alert('セッション開始', `${planToUse.length}個の運動メニューでトレーニングを開始します。`, [{\n      text: 'キャンセル',\n      style: 'cancel'\n    }, {\n      text: '開始',\n      onPress: function onPress() {\n        return navigation.navigate('ExerciseSession');\n      }\n    }]);\n  };\n  var handleExercisePress = function handleExercisePress(exercise) {\n    Alert.alert(exercise.exercise_name, `詳細: ${exercise.description}\\n\\nセット数: ${exercise.assigned_sets}\\n回数: ${exercise.assigned_reps}\\n難易度: ${getDifficultyLabel(exercise.difficulty_level)}\\n\\n（詳細画面は今後実装予定です）`, [{\n      text: 'OK'\n    }]);\n  };\n  var toggleCategory = function toggleCategory(categoryName) {\n    setExpandedCategories(function (prev) {\n      return _objectSpread(_objectSpread({}, prev), {}, _defineProperty({}, categoryName, !prev[categoryName]));\n    });\n  };\n  var getDifficultyColor = function getDifficultyColor(level) {\n    var colorMap = {\n      'beginner': '#4CAF50',\n      'intermediate': '#FF9800',\n      'advanced': '#F44336'\n    };\n    return colorMap[level] || '#757575';\n  };\n  var getDifficultyLabel = function getDifficultyLabel(level) {\n    var labelMap = {\n      'beginner': '初級',\n      'intermediate': '中級',\n      'advanced': '上級'\n    };\n    return labelMap[level] || level;\n  };\n  if (isLoading) {\n    return _jsxDEV(View, {\n      style: styles.loadingContainer,\n      children: [_jsxDEV(ActivityIndicator, {\n        size: \"large\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 918,\n        columnNumber: 9\n      }, _this), _jsxDEV(Text, {\n        style: styles.loadingText,\n        children: \"\\u904B\\u52D5\\u30E1\\u30CB\\u30E5\\u30FC\\u3092\\u8AAD\\u307F\\u8FBC\\u307F\\u4E2D...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 919,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 917,\n      columnNumber: 7\n    }, _this);\n  }\n  if (error) {\n    return _jsxDEV(View, {\n      style: styles.errorContainer,\n      children: [_jsxDEV(Text, {\n        style: styles.errorText,\n        children: \"\\u30A8\\u30E9\\u30FC\\u304C\\u767A\\u751F\\u3057\\u307E\\u3057\\u305F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 927,\n        columnNumber: 9\n      }, _this), _jsxDEV(Text, {\n        style: styles.errorMessage,\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 928,\n        columnNumber: 9\n      }, _this), _jsxDEV(Button, {\n        mode: \"contained\",\n        onPress: function onPress() {\n          return dispatch(clearError());\n        },\n        children: \"\\u518D\\u8A66\\u884C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 929,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 926,\n      columnNumber: 7\n    }, _this);\n  }\n  var phaseInfo = getPhaseInfo(currentPhase);\n  var currentPlan = token ? patientPlan : localPatientPlan;\n  var groupedExercises = groupExercisesByCategory(currentPlan);\n  return _jsxDEV(ScrollView, {\n    style: styles.container,\n    children: [_jsxDEV(Card, {\n      style: styles.phaseCard,\n      children: _jsxDEV(Card.Content, {\n        children: [_jsxDEV(View, {\n          style: styles.phaseHeader,\n          children: [_jsxDEV(Text, {\n            style: styles.phaseTitle,\n            children: \"\\u73FE\\u5728\\u306E\\u30EA\\u30CF\\u30D3\\u30EA\\u6BB5\\u968E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 947,\n            columnNumber: 13\n          }, _this), _jsxDEV(Chip, {\n            mode: \"outlined\",\n            style: [styles.phaseChip, {\n              borderColor: phaseInfo.color\n            }],\n            textStyle: {\n              color: phaseInfo.color\n            },\n            children: phaseInfo.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 948,\n            columnNumber: 13\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 946,\n          columnNumber: 11\n        }, _this), _jsxDEV(Text, {\n          style: styles.phaseDescription,\n          children: phaseInfo.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 956,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 945,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 944,\n      columnNumber: 7\n    }, _this), _jsxDEV(Card, {\n      style: styles.sessionCard,\n      children: _jsxDEV(Card.Content, {\n        children: [_jsxDEV(Text, {\n          style: styles.sessionTitle,\n          children: \"\\u4ECA\\u65E5\\u306E\\u30C8\\u30EC\\u30FC\\u30CB\\u30F3\\u30B0\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 963,\n          columnNumber: 11\n        }, _this), _jsxDEV(Text, {\n          style: styles.sessionDescription,\n          children: [currentPlan.length, \"\\u500B\\u306E\\u904B\\u52D5\\u30E1\\u30CB\\u30E5\\u30FC\\u304C\\u5229\\u7528\\u53EF\\u80FD\\u3067\\u3059\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 964,\n          columnNumber: 11\n        }, _this), _jsxDEV(Button, {\n          mode: \"contained\",\n          onPress: handleStartSession,\n          style: styles.startButton,\n          disabled: currentPlan.length === 0,\n          children: currentSession ? 'セッションを継続' : 'セッションを開始'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 967,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 962,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 961,\n      columnNumber: 7\n    }, _this), Object.keys(groupedExercises).length > 0 ? Object.entries(groupedExercises).map(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n        categoryName = _ref3[0],\n        exercises = _ref3[1];\n      return _jsxDEV(Card, {\n        style: styles.categoryCard,\n        children: _jsxDEV(List.Section, {\n          children: [_jsxDEV(List.Subheader, {\n            style: styles.categoryHeader,\n            children: _jsxDEV(View, {\n              style: styles.categoryHeaderContent,\n              children: [_jsxDEV(Text, {\n                style: styles.categoryTitle,\n                children: categoryName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 985,\n                columnNumber: 19\n              }, _this), _jsxDEV(Badge, {\n                size: 24,\n                children: exercises.length\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 986,\n                columnNumber: 19\n              }, _this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 984,\n              columnNumber: 17\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 983,\n            columnNumber: 15\n          }, _this), _jsxDEV(Divider, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 989,\n            columnNumber: 15\n          }, _this), exercises.map(function (exercise, index) {\n            return _jsxDEV(List.Item, {\n              title: exercise.exercise_name,\n              description: `${exercise.assigned_sets}セット × ${exercise.assigned_reps}回`,\n              left: function left() {\n                return _jsxDEV(View, {\n                  style: styles.exerciseIcon,\n                  children: _jsxDEV(IconButton, {\n                    icon: exercise.requires_ai_analysis ? \"camera\" : \"dumbbell\",\n                    size: 24,\n                    iconColor: phaseInfo.color\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 997,\n                    columnNumber: 23\n                  }, _this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 996,\n                  columnNumber: 21\n                }, _this);\n              },\n              right: function right() {\n                return _jsxDEV(View, {\n                  style: styles.exerciseInfo,\n                  children: [_jsxDEV(Chip, {\n                    mode: \"outlined\",\n                    compact: true,\n                    style: [styles.difficultyChip, {\n                      borderColor: getDifficultyColor(exercise.difficulty_level)\n                    }],\n                    textStyle: {\n                      color: getDifficultyColor(exercise.difficulty_level),\n                      fontSize: 10\n                    },\n                    children: getDifficultyLabel(exercise.difficulty_level)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1006,\n                    columnNumber: 23\n                  }, _this), exercise.is_completed && _jsxDEV(IconButton, {\n                    icon: \"check-circle\",\n                    size: 20,\n                    iconColor: \"#4CAF50\",\n                    style: styles.completedIcon\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1021,\n                    columnNumber: 25\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1005,\n                  columnNumber: 21\n                }, _this);\n              },\n              onPress: function onPress() {\n                return handleExercisePress(exercise);\n              },\n              style: styles.exerciseItem\n            }, exercise.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 991,\n              columnNumber: 17\n            }, _this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 982,\n          columnNumber: 13\n        }, _this)\n      }, categoryName, false, {\n        fileName: _jsxFileName,\n        lineNumber: 981,\n        columnNumber: 11\n      }, _this);\n    }) : _jsxDEV(Card, {\n      style: styles.emptyCard,\n      children: _jsxDEV(Card.Content, {\n        children: [_jsxDEV(Text, {\n          style: styles.emptyTitle,\n          children: \"\\u904B\\u52D5\\u30E1\\u30CB\\u30E5\\u30FC\\u304C\\u3042\\u308A\\u307E\\u305B\\u3093\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1040,\n          columnNumber: 13\n        }, _this), _jsxDEV(Text, {\n          style: styles.emptyDescription,\n          children: \"\\u73FE\\u5728\\u5229\\u7528\\u53EF\\u80FD\\u306A\\u904B\\u52D5\\u30E1\\u30CB\\u30E5\\u30FC\\u304C\\u3042\\u308A\\u307E\\u305B\\u3093\\u3002 \\u533B\\u7642\\u5F93\\u4E8B\\u8005\\u306B\\u3054\\u76F8\\u8AC7\\u304F\\u3060\\u3055\\u3044\\u3002\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1041,\n          columnNumber: 13\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1039,\n        columnNumber: 11\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1038,\n      columnNumber: 9\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 942,\n    columnNumber: 5\n  }, _this);\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f5f5f5'\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#f5f5f5'\n  },\n  loadingText: {\n    marginTop: 16,\n    fontSize: 16,\n    color: '#666'\n  },\n  errorContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#f5f5f5',\n    padding: 20\n  },\n  errorText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#F44336',\n    marginBottom: 8\n  },\n  errorMessage: {\n    fontSize: 14,\n    color: '#666',\n    textAlign: 'center',\n    marginBottom: 20\n  },\n  phaseCard: {\n    margin: 16,\n    elevation: 2\n  },\n  phaseHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 8\n  },\n  phaseTitle: {\n    fontSize: 16,\n    fontWeight: 'bold'\n  },\n  phaseChip: {\n    borderWidth: 1\n  },\n  phaseDescription: {\n    fontSize: 14,\n    color: '#666'\n  },\n  sessionCard: {\n    margin: 16,\n    marginTop: 8,\n    elevation: 2\n  },\n  sessionTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 8\n  },\n  sessionDescription: {\n    fontSize: 14,\n    color: '#666',\n    marginBottom: 16\n  },\n  startButton: {\n    borderRadius: 8\n  },\n  categoryCard: {\n    margin: 16,\n    marginTop: 8,\n    elevation: 2\n  },\n  categoryHeader: {\n    paddingHorizontal: 16,\n    paddingVertical: 8\n  },\n  categoryHeaderContent: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%'\n  },\n  categoryTitle: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#333'\n  },\n  exerciseItem: {\n    paddingHorizontal: 16,\n    paddingVertical: 8\n  },\n  exerciseIcon: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginRight: 8\n  },\n  exerciseInfo: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  difficultyChip: {\n    borderWidth: 1,\n    marginRight: 4\n  },\n  completedIcon: {\n    margin: 0\n  },\n  emptyCard: {\n    margin: 16,\n    elevation: 2\n  },\n  emptyTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    textAlign: 'center',\n    marginBottom: 8\n  },\n  emptyDescription: {\n    fontSize: 14,\n    color: '#666',\n    textAlign: 'center',\n    lineHeight: 20\n  }\n});\nexport default ExerciseMenuScreen;","map":{"version":3,"names":["React","useEffect","useState","View","StyleSheet","ScrollView","Dimensions","Alert","Text","Card","Button","List","Chip","ActivityIndicator","Divider","Badge","IconButton","useSelector","useDispatch","fetchPatientExercisePlan","setCurrentPhase","startLocalSession","clearError","jsxDEV","_jsxDEV","_Dimensions$get","get","width","ExerciseMenuScreen","_ref","navigation","dispatch","_useSelector","state","auth","user","token","_useSelector2","exercise","patientPlan","isLoading","error","currentPhase","currentSession","_useState","_useState2","_slicedToArray","expandedCategories","setExpandedCategories","userPhase","dummyPlan","getDummyExercisePlan","setLocalPatientPlan","patientId","id","phase","_useState3","_useState4","localPatientPlan","phaseExercises","exercise_name","description","category_name","assigned_sets","assigned_reps","duration","frequency","difficulty_level","requires_ai_analysis","is_completed","hold_time","note","getPhaseInfo","phaseMap","title","color","groupExercisesByCategory","exercises","grouped","forEach","categoryName","push","handleStartSession","planToUse","alert","text","style","onPress","navigate","length","handleExercisePress","getDifficultyLabel","toggleCategory","prev","_objectSpread","_defineProperty","getDifficultyColor","level","colorMap","labelMap","styles","loadingContainer","children","size","fileName","_jsxFileName","lineNumber","columnNumber","_this","loadingText","errorContainer","errorText","errorMessage","mode","phaseInfo","currentPlan","groupedExercises","container","phaseCard","Content","phaseHeader","phaseTitle","phaseChip","borderColor","textStyle","phaseDescription","sessionCard","sessionTitle","sessionDescription","startButton","disabled","Object","keys","entries","map","_ref2","_ref3","categoryCard","Section","Subheader","categoryHeader","categoryHeaderContent","categoryTitle","index","Item","left","exerciseIcon","icon","iconColor","right","exerciseInfo","compact","difficultyChip","fontSize","completedIcon","exerciseItem","emptyCard","emptyTitle","emptyDescription","create","flex","backgroundColor","justifyContent","alignItems","marginTop","padding","fontWeight","marginBottom","textAlign","margin","elevation","flexDirection","borderWidth","borderRadius","paddingHorizontal","paddingVertical","marginRight","lineHeight"],"sources":["/Users/shota/Desktop/文献検索/acl-rehab-app/mobile/src/screens/ExerciseMenuScreen.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport {\n  View,\n  StyleSheet,\n  ScrollView,\n  Dimensions,\n  Alert,\n} from 'react-native';\nimport {\n  Text,\n  Card,\n  Button,\n  List,\n  Chip,\n  ActivityIndicator,\n  Divider,\n  Badge,\n  IconButton,\n} from 'react-native-paper';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n  fetchPatientExercisePlan,\n  setCurrentPhase,\n  startLocalSession,\n  clearError,\n} from '../store/slices/exerciseSlice';\n\nconst { width } = Dimensions.get('window');\n\nconst ExerciseMenuScreen = ({ navigation }) => {\n  const dispatch = useDispatch();\n  const { user, token } = useSelector((state) => state.auth);\n  const { \n    patientPlan, \n    isLoading, \n    error, \n    currentPhase,\n    currentSession \n  } = useSelector((state) => state.exercise);\n\n  const [expandedCategories, setExpandedCategories] = useState({});\n\n  useEffect(() => {\n    if (user) {\n      // ユーザーの現在のフェーズを設定\n      const userPhase = user.currentPhase || 'pre_surgery';\n      dispatch(setCurrentPhase(userPhase));\n      \n      // デモ用のダミーデータを設定（実際のAPIが利用できない場合）\n      if (!token) {\n        // ダミーデータで患者プランを設定\n        const dummyPlan = getDummyExercisePlan(userPhase);\n        // Redux storeに直接設定する代わりに、ローカル状態で管理\n        setLocalPatientPlan(dummyPlan);\n      } else {\n        // 患者の運動プランを取得\n        dispatch(fetchPatientExercisePlan({\n          patientId: user.id,\n          phase: userPhase,\n          token: token\n        }));\n      }\n    }\n  }, [dispatch, user, token]);\n\n  const [localPatientPlan, setLocalPatientPlan] = useState([]);\n\n  // ダミーデータ生成関数\n  const getDummyExercisePlan = (phase) => {\n    const phaseExercises = {\n      'pre_surgery': [\n        // ROM改善\n        {\n          id: '1',\n          exercise_name: 'ヒールプロップス',\n          description: '膝裏に空間を作り、重力で自然に伸びるようにする。最優先事項',\n          category_name: 'ROM改善',\n          assigned_sets: 1,\n          assigned_reps: 1,\n          duration: '10-20分',\n          frequency: '1日数回',\n          difficulty_level: 'beginner',\n          requires_ai_analysis: false,\n          is_completed: false,\n        },\n        {\n          id: '2',\n          exercise_name: 'ヒールスライド',\n          description: 'タオルで補助し、痛みのない範囲でゆっくり曲げる',\n          category_name: 'ROM改善',\n          assigned_sets: 5,\n          assigned_reps: 20,\n          difficulty_level: 'beginner',\n          requires_ai_analysis: false,\n          is_completed: false,\n        },\n        {\n          id: '3',\n          exercise_name: 'パテラモビライゼーション',\n          description: '膝のお皿を上下左右に優しく動かす',\n          category_name: 'ROM改善',\n          assigned_sets: 1,\n          assigned_reps: 1,\n          duration: '5分程度',\n          frequency: '1日数回',\n          difficulty_level: 'beginner',\n          requires_ai_analysis: false,\n          is_completed: false,\n        },\n        \n        // 筋力（患側）\n        {\n          id: '4',\n          exercise_name: 'クワッドセッティング',\n          description: '膝裏のタオルを押しつぶす意識。ハムストリングスも同時に収縮させる（同時収縮）',\n          category_name: '筋力（患側）',\n          assigned_sets: 3,\n          assigned_reps: 12,\n          hold_time: '5秒保持',\n          difficulty_level: 'beginner',\n          requires_ai_analysis: false,\n          is_completed: false,\n        },\n        {\n          id: '5',\n          exercise_name: 'SLR（ストレートレッグレイズ）',\n          description: '膝が曲がり落ちないように（ラグ無し）。股関節ではなく大腿四頭筋で上げる意識',\n          category_name: '筋力（患側）',\n          assigned_sets: 3,\n          assigned_reps: 12,\n          difficulty_level: 'beginner',\n          requires_ai_analysis: true,\n          is_completed: false,\n        },\n        {\n          id: '6',\n          exercise_name: 'グルートブリッジ',\n          description: '股関節をしっかり伸展させる。お尻の筋肉を意識する',\n          category_name: '筋力（患側）',\n          assigned_sets: 3,\n          assigned_reps: 15,\n          difficulty_level: 'beginner',\n          requires_ai_analysis: false,\n          is_completed: false,\n        },\n        \n        // 筋力（患部外）\n        {\n          id: '7',\n          exercise_name: '健側の片脚トレーニング',\n          description: '片脚スクワット、片脚カーフレイズ、片脚RDLなど。クロス・エデュケーション効果を狙う',\n          category_name: '筋力（患部外）',\n          assigned_sets: 3,\n          assigned_reps: 15,\n          difficulty_level: 'intermediate',\n          requires_ai_analysis: true,\n          is_completed: false,\n        },\n        {\n          id: '8',\n          exercise_name: '体幹トレーニング',\n          description: 'プランク、サイドプランク。体幹の安定は全ての動作の基礎',\n          category_name: '筋力（患部外）',\n          assigned_sets: 3,\n          assigned_reps: 1,\n          duration: '30-60秒',\n          difficulty_level: 'intermediate',\n          requires_ai_analysis: false,\n          is_completed: false,\n        },\n        {\n          id: '9',\n          exercise_name: '上半身トレーニング',\n          description: 'プレス系、プル系など、膝に負担のかからない種目をバランス良く行う',\n          category_name: '筋力（患部外）',\n          assigned_sets: 3,\n          assigned_reps: 12,\n          difficulty_level: 'intermediate',\n          requires_ai_analysis: false,\n          is_completed: false,\n        },\n        \n        // 有酸素運動\n        {\n          id: '10',\n          exercise_name: 'エアロバイク',\n          description: 'サドルの高さを調整し、伸展・屈曲両方の可動域改善にも活用する',\n          category_name: '有酸素運動',\n          assigned_sets: 1,\n          assigned_reps: 1,\n          duration: '20-30分',\n          difficulty_level: 'beginner',\n          requires_ai_analysis: false,\n          is_completed: false,\n        },\n      ],\n      'post_surgery_early': [\n        // アイシング・挙上\n        {\n          id: '101',\n          exercise_name: 'アイシング・挙上',\n          description: '痛みと腫れの管理が最優先。挙上時は膝裏に枕を入れない',\n          category_name: 'アイシング・挙上',\n          assigned_sets: 1,\n          assigned_reps: 1,\n          duration: '20分',\n          frequency: '頻回',\n          difficulty_level: 'beginner',\n          requires_ai_analysis: false,\n          is_completed: false,\n        },\n        \n        // ROM\n        {\n          id: '102',\n          exercise_name: 'ヒールプロップス',\n          description: '完全伸展（0°）の達成と維持が最重要目標',\n          category_name: 'ROM',\n          assigned_sets: 1,\n          assigned_reps: 1,\n          duration: '20-30分',\n          frequency: '1日数回',\n          difficulty_level: 'beginner',\n          requires_ai_analysis: false,\n          is_completed: false,\n        },\n        {\n          id: '103',\n          exercise_name: 'ヒールスライド',\n          description: '痛みのない範囲で優しく行う。目標は90°屈曲',\n          category_name: 'ROM',\n          assigned_sets: 3,\n          assigned_reps: 15,\n          note: '10-20回の範囲で調整',\n          difficulty_level: 'beginner',\n          requires_ai_analysis: false,\n          is_completed: false,\n        },\n        {\n          id: '104',\n          exercise_name: 'アンクルポンプ',\n          description: 'DVT予防のために積極的に行う',\n          category_name: 'ROM',\n          assigned_sets: 1,\n          assigned_reps: 15,\n          frequency: '毎時',\n          difficulty_level: 'beginner',\n          requires_ai_analysis: false,\n          is_completed: false,\n        },\n        \n        // 筋力（患側）\n        {\n          id: '105',\n          exercise_name: 'クワッドセッティング',\n          description: '強い収縮を意識する。NMESが有効な場合もある',\n          category_name: '筋力（患側）',\n          assigned_sets: 3,\n          assigned_reps: 12,\n          hold_time: '5秒保持',\n          difficulty_level: 'beginner',\n          requires_ai_analysis: false,\n          is_completed: false,\n        },\n        {\n          id: '106',\n          exercise_name: 'SLR（伸展ラグ無し）',\n          description: '膝が完全に伸びたまま上げられる場合のみ実施',\n          category_name: '筋力（患側）',\n          assigned_sets: 3,\n          assigned_reps: 10,\n          difficulty_level: 'beginner',\n          requires_ai_analysis: true,\n          is_completed: false,\n        },\n        \n        // 筋力（健側）\n        {\n          id: '107',\n          exercise_name: '片脚ブリッジ',\n          description: '健側のお尻とハムストリングスを強化',\n          category_name: '筋力（健側）',\n          assigned_sets: 3,\n          assigned_reps: 12,\n          note: '10-15回の範囲で調整',\n          difficulty_level: 'beginner',\n          requires_ai_analysis: false,\n          is_completed: false,\n        },\n        {\n          id: '108',\n          exercise_name: '片脚カーフレイズ',\n          description: '健側のふくらはぎを強化',\n          category_name: '筋力（健側）',\n          assigned_sets: 3,\n          assigned_reps: 17,\n          note: '15-20回の範囲で調整',\n          difficulty_level: 'beginner',\n          requires_ai_analysis: false,\n          is_completed: false,\n        },\n      ],\n      'post_surgery_1_4weeks': [\n        // ROM\n        {\n          id: '201',\n          exercise_name: 'エアロバイク',\n          description: '最初は揺らす動きから。完全な回転ができるようになったら徐々に時間を延ばす',\n          category_name: 'ROM',\n          assigned_sets: 1,\n          assigned_reps: 1,\n          duration: '10-20分',\n          difficulty_level: 'beginner',\n          requires_ai_analysis: false,\n          is_completed: false,\n        },\n        \n        // 歩行\n        {\n          id: '202',\n          exercise_name: '歩行訓練',\n          description: '鏡を見ながら、左右対称で滑らかな歩行を意識する。質を重視',\n          category_name: '歩行',\n          assigned_sets: 1,\n          assigned_reps: 1,\n          note: '質を重視',\n          difficulty_level: 'beginner',\n          requires_ai_analysis: true,\n          is_completed: false,\n        },\n        \n        // 筋力（患側）\n        {\n          id: '203',\n          exercise_name: '両脚ミニスクワット',\n          description: '膝屈曲45°まで。膝がつま先より前に出過ぎないように注意',\n          category_name: '筋力（患側）',\n          assigned_sets: 3,\n          assigned_reps: 17,\n          note: '15-20回の範囲で調整',\n          difficulty_level: 'intermediate',\n          requires_ai_analysis: true,\n          is_completed: false,\n        },\n        {\n          id: '204',\n          exercise_name: 'レッグプレス（両脚）',\n          description: '軽い負荷から開始し、左右均等に力を入れる',\n          category_name: '筋力（患側）',\n          assigned_sets: 3,\n          assigned_reps: 17,\n          note: '15-20回の範囲で調整',\n          difficulty_level: 'intermediate',\n          requires_ai_analysis: false,\n          is_completed: false,\n        },\n        {\n          id: '205',\n          exercise_name: 'OKC膝伸展（4週目以降）',\n          description: '抵抗なしで、90°から45°の範囲のみ。痛みに注意',\n          category_name: '筋力（患側）',\n          assigned_sets: 2,\n          assigned_reps: 12,\n          note: '10-15回×2-3セット',\n          difficulty_level: 'intermediate',\n          requires_ai_analysis: true,\n          is_completed: false,\n        },\n        \n        // 筋力（健側）\n        {\n          id: '206',\n          exercise_name: '片脚レッグプレス',\n          description: '健側の筋力を積極的に向上させる',\n          category_name: '筋力（健側）',\n          assigned_sets: 3,\n          assigned_reps: 11,\n          note: '10-12回の範囲で調整',\n          difficulty_level: 'intermediate',\n          requires_ai_analysis: false,\n          is_completed: false,\n        },\n        {\n          id: '207',\n          exercise_name: '片脚RDL',\n          description: 'フォームを重視し、ハムストリングスと殿筋を鍛える',\n          category_name: '筋力（健側）',\n          assigned_sets: 3,\n          assigned_reps: 11,\n          note: '10-12回の範囲で調整',\n          difficulty_level: 'intermediate',\n          requires_ai_analysis: true,\n          is_completed: false,\n        },\n        \n        // 体幹\n        {\n          id: '208',\n          exercise_name: 'プランク（動的バリエーション）',\n          description: '腕や脚を交互に上げるなど、安定性を保ちながら動きを加える',\n          category_name: '体幹',\n          assigned_sets: 3,\n          assigned_reps: 1,\n          duration: '30-60秒',\n          difficulty_level: 'intermediate',\n          requires_ai_analysis: false,\n          is_completed: false,\n        },\n      ],\n      'post_surgery_1_2months': [\n        // 筋力（CKC）\n        {\n          id: '301',\n          exercise_name: 'スクワット',\n          description: '屈曲角度を90°に近づける。フォームを最優先',\n          category_name: '筋力（CKC）',\n          assigned_sets: 3,\n          assigned_reps: 13,\n          note: '12-15回の範囲で調整',\n          difficulty_level: 'intermediate',\n          requires_ai_analysis: true,\n          is_completed: false,\n        },\n        {\n          id: '302',\n          exercise_name: 'ステップアップ（前方・側方）',\n          description: '低い台から始める。体幹がぶれないように',\n          category_name: '筋力（CKC）',\n          assigned_sets: 3,\n          assigned_reps: 12,\n          note: '10-15回の範囲で調整',\n          difficulty_level: 'intermediate',\n          requires_ai_analysis: true,\n          is_completed: false,\n        },\n        {\n          id: '303',\n          exercise_name: '片脚レッグプレス',\n          description: '患側の脚でコントロールしながら押す',\n          category_name: '筋力（CKC）',\n          assigned_sets: 3,\n          assigned_reps: 12,\n          note: '10-15回の範囲で調整',\n          difficulty_level: 'intermediate',\n          requires_ai_analysis: false,\n          is_completed: false,\n        },\n        \n        // バランス\n        {\n          id: '304',\n          exercise_name: '片脚立ち（不安定面上）',\n          description: 'BOSUやフォームパッド上で。視線を動かしたり、ボールを扱ったりして難易度を上げる',\n          category_name: 'バランス',\n          assigned_sets: 3,\n          assigned_reps: 1,\n          duration: '30-60秒保持',\n          difficulty_level: 'intermediate',\n          requires_ai_analysis: true,\n          is_completed: false,\n        },\n        \n        // 体幹\n        {\n          id: '305',\n          exercise_name: 'バードドッグ',\n          description: '体幹を一直線に保ち、ゆっくりと手足を伸ばす',\n          category_name: '体幹',\n          assigned_sets: 3,\n          assigned_reps: 10,\n          difficulty_level: 'intermediate',\n          requires_ai_analysis: false,\n          is_completed: false,\n        },\n      ],\n      'post_surgery_2_3months': [\n        // 筋力\n        {\n          id: '401',\n          exercise_name: 'ランジ（前方・側方）',\n          description: '踏み出した膝が内側に入らないように。体幹は直立を保つ',\n          category_name: '筋力',\n          assigned_sets: 3,\n          assigned_reps: 11,\n          note: '10-12回の範囲で調整',\n          difficulty_level: 'intermediate',\n          requires_ai_analysis: true,\n          is_completed: false,\n        },\n        {\n          id: '402',\n          exercise_name: '片脚スクワット（支持あり）',\n          description: '鏡でフォームを確認しながら、徐々に深く。膝とつま先の向きを揃える',\n          category_name: '筋力',\n          assigned_sets: 3,\n          assigned_reps: 10,\n          note: '8-12回の範囲で調整',\n          difficulty_level: 'intermediate',\n          requires_ai_analysis: true,\n          is_completed: false,\n        },\n        {\n          id: '403',\n          exercise_name: 'フィジオボール・ハムストリングカール',\n          description: 'お尻を高く保ち、ハムストリングスでボールを引き寄せる',\n          category_name: '筋力',\n          assigned_sets: 3,\n          assigned_reps: 12,\n          note: '10-15回の範囲で調整',\n          difficulty_level: 'intermediate',\n          requires_ai_analysis: false,\n          is_completed: false,\n        },\n        \n        // 有酸素運動\n        {\n          id: '404',\n          exercise_name: 'バイク/エリプティカル',\n          description: '強度を上げて心拍数を高める。ランニングへの準備',\n          category_name: '有酸素運動',\n          assigned_sets: 1,\n          assigned_reps: 1,\n          duration: '20-30分',\n          difficulty_level: 'intermediate',\n          requires_ai_analysis: false,\n          is_completed: false,\n        },\n        \n        // 体幹\n        {\n          id: '405',\n          exercise_name: 'フィジオボール・プランク',\n          description: '不安定なボールの上で体幹を固める',\n          category_name: '体幹',\n          assigned_sets: 3,\n          assigned_reps: 1,\n          duration: '30-60秒',\n          difficulty_level: 'intermediate',\n          requires_ai_analysis: false,\n          is_completed: false,\n        },\n      ],\n      'post_surgery_3_4months': [\n        // 有酸素\n        {\n          id: '501',\n          exercise_name: 'ジョグ/ウォークプログラム',\n          description: '基準を満たした場合のみ開始。痛みや腫れが出たら中止',\n          category_name: '有酸素',\n          assigned_sets: 1,\n          assigned_reps: 1,\n          duration: '20分から開始',\n          difficulty_level: 'intermediate',\n          requires_ai_analysis: false,\n          is_completed: false,\n          note: 'ランニング開始基準をクリアしてから実施',\n        },\n        \n        // プライオメトリクス\n        {\n          id: '502',\n          exercise_name: '両脚ラインホップ',\n          description: '軽く、静かに着地する。膝のアライメントに集中',\n          category_name: 'プライオメトリクス',\n          assigned_sets: 3,\n          assigned_reps: 1,\n          duration: '30秒',\n          difficulty_level: 'advanced',\n          requires_ai_analysis: true,\n          is_completed: false,\n        },\n        {\n          id: '503',\n          exercise_name: '両脚ボックスジャンプ（低）',\n          description: '低い台（15-30cm）へ跳び乗り、静かに降りる。着地をコントロール',\n          category_name: 'プライオメトリクス',\n          assigned_sets: 3,\n          assigned_reps: 9,\n          note: '8-10回の範囲で調整',\n          difficulty_level: 'advanced',\n          requires_ai_analysis: true,\n          is_completed: false,\n        },\n        \n        // 筋力\n        {\n          id: '504',\n          exercise_name: 'ゴブレットスクワット',\n          description: '重量を増やし、パワー（挙上速度）を意識する',\n          category_name: '筋力',\n          assigned_sets: 3,\n          assigned_reps: 10,\n          note: '8-12回の範囲で調整',\n          difficulty_level: 'intermediate',\n          requires_ai_analysis: true,\n          is_completed: false,\n        },\n        {\n          id: '505',\n          exercise_name: 'ウォーキングランジ',\n          description: '安定したフォームで一歩ずつ進む',\n          category_name: '筋力',\n          assigned_sets: 3,\n          assigned_reps: 10,\n          note: '10歩',\n          difficulty_level: 'intermediate',\n          requires_ai_analysis: true,\n          is_completed: false,\n        },\n        \n        // 体幹\n        {\n          id: '506',\n          exercise_name: 'メディシンボールツイスト',\n          description: '座位で体幹を回旋させる。スポーツ動作への準備',\n          category_name: '体幹',\n          assigned_sets: 3,\n          assigned_reps: 15,\n          difficulty_level: 'intermediate',\n          requires_ai_analysis: false,\n          is_completed: false,\n        },\n      ],\n      'post_surgery_4_6months': [\n        // プライオメトリクス\n        {\n          id: '601',\n          exercise_name: '片脚着地ドリル',\n          description: '低い台から片脚で着地し、3秒静止。膝と股関節で衝撃を吸収',\n          category_name: 'プライオメトリクス',\n          assigned_sets: 3,\n          assigned_reps: 9,\n          note: '8-10回の範囲で調整',\n          difficulty_level: 'advanced',\n          requires_ai_analysis: true,\n          is_completed: false,\n        },\n        {\n          id: '602',\n          exercise_name: 'スケーターホップ',\n          description: '左右に跳び、片脚でバランスを保つ。着地の安定性を重視',\n          category_name: 'プライオメトリクス',\n          assigned_sets: 3,\n          assigned_reps: 11,\n          note: '10-12回の範囲で調整',\n          difficulty_level: 'advanced',\n          requires_ai_analysis: true,\n          is_completed: false,\n        },\n        {\n          id: '603',\n          exercise_name: '片脚ホップ（距離）',\n          description: '距離よりもフォームと着地の質を優先する',\n          category_name: 'プライオメトリクス',\n          assigned_sets: 3,\n          assigned_reps: 6,\n          note: '5-8回の範囲で調整',\n          difficulty_level: 'advanced',\n          requires_ai_analysis: true,\n          is_completed: false,\n        },\n        \n        // アジリティ\n        {\n          id: '604',\n          exercise_name: 'ラダードリル',\n          description: '素早い足の動きを練習。最初はゆっくり正確に',\n          category_name: 'アジリティ',\n          assigned_sets: 2,\n          assigned_reps: 1,\n          note: '各ドリル × 2-3セット',\n          difficulty_level: 'advanced',\n          requires_ai_analysis: true,\n          is_completed: false,\n        },\n        {\n          id: '605',\n          exercise_name: 'Tドリル／ボックスドリル',\n          description: '計画された前後左右への移動。減速と加速のコントロール',\n          category_name: 'アジリティ',\n          assigned_sets: 3,\n          assigned_reps: 4,\n          note: '3-5往復',\n          difficulty_level: 'advanced',\n          requires_ai_analysis: true,\n          is_completed: false,\n        },\n        \n        // 筋力\n        {\n          id: '606',\n          exercise_name: 'バーベルスクワット／デッドリフト',\n          description: '最大筋力向上のため高重量・低回数で。フォームは絶対に崩さない',\n          category_name: '筋力',\n          assigned_sets: 3,\n          assigned_reps: 5,\n          note: '3-8回 × 3-4セット',\n          difficulty_level: 'advanced',\n          requires_ai_analysis: true,\n          is_completed: false,\n        },\n      ],\n      'phase_3_1': [\n        {\n          id: '4',\n          exercise_name: '片脚立位',\n          description: '患側での片脚立位練習',\n          category_name: '歩行訓練',\n          assigned_sets: 3,\n          assigned_reps: 5,\n          difficulty_level: 'intermediate',\n          requires_ai_analysis: true,\n          is_completed: false,\n        },\n      ],\n      'phase_3_2': [\n        {\n          id: '5',\n          exercise_name: 'ミニスクワット',\n          description: '膝屈曲30度までの浅いスクワット',\n          category_name: '筋力強化',\n          assigned_sets: 3,\n          assigned_reps: 10,\n          difficulty_level: 'intermediate',\n          requires_ai_analysis: true,\n          is_completed: false,\n        },\n        {\n          id: '6',\n          exercise_name: 'バランスボード',\n          description: 'バランスボードを使った安定性訓練',\n          category_name: 'バランス訓練',\n          assigned_sets: 3,\n          assigned_reps: 1,\n          difficulty_level: 'intermediate',\n          requires_ai_analysis: true,\n          is_completed: false,\n        },\n      ],\n      'phase_3_3': [\n        {\n          id: '7',\n          exercise_name: 'ジャンプ着地',\n          description: '両足でのジャンプ着地練習',\n          category_name: 'スポーツ動作訓練',\n          assigned_sets: 3,\n          assigned_reps: 10,\n          difficulty_level: 'advanced',\n          requires_ai_analysis: true,\n          is_completed: false,\n        },\n      ],\n      'phase_3_4': [\n        {\n          id: '8',\n          exercise_name: 'カッティング動作',\n          description: '方向転換動作の練習',\n          category_name: '競技特異的訓練',\n          assigned_sets: 3,\n          assigned_reps: 5,\n          difficulty_level: 'advanced',\n          requires_ai_analysis: true,\n          is_completed: false,\n        },\n      ],\n    };\n    \n    return phaseExercises[phase] || [];\n  };\n\n  const getPhaseInfo = (phase) => {\n    const phaseMap = {\n      'pre_surgery': {\n        title: '術前期',\n        description: '手術前の準備期間',\n        color: '#FF9800',\n      },\n      'post_surgery_early': {\n        title: '術直後期',\n        description: '手術直後〜1週間',\n        color: '#F44336',\n      },\n      'post_surgery_1_4weeks': {\n        title: '術後1-4週間',\n        description: '術後1〜4週間',\n        color: '#E91E63',\n      },\n      'post_surgery_1_2months': {\n        title: '術後1-2ヶ月',\n        description: '術後1〜2ヶ月',\n        color: '#9C27B0',\n      },\n      'post_surgery_2_3months': {\n        title: '術後2-3ヶ月',\n        description: '術後2〜3ヶ月',\n        color: '#673AB7',\n      },\n      'post_surgery_3_4months': {\n        title: '術後3-4ヶ月',\n        description: '術後3〜4ヶ月',\n        color: '#3F51B5',\n      },\n      'post_surgery_4_6months': {\n        title: '術後4-6ヶ月',\n        description: '術後4〜6ヶ月',\n        color: '#2196F3',\n      },\n      'phase_3_1': {\n        title: '基礎回復期',\n        description: '2〜6週間',\n        color: '#2196F3',\n      },\n      'phase_3_2': {\n        title: '筋力強化期',\n        description: '6〜12週間',\n        color: '#4CAF50',\n      },\n      'phase_3_3': {\n        title: '機能訓練期',\n        description: '3〜6ヶ月',\n        color: '#9C27B0',\n      },\n      'phase_3_4': {\n        title: '競技復帰期',\n        description: '6〜12ヶ月',\n        color: '#E91E63',\n      },\n    };\n    return phaseMap[phase] || phaseMap['pre_surgery'];\n  };\n\n  const groupExercisesByCategory = (exercises) => {\n    const grouped = {};\n    exercises.forEach(exercise => {\n      const categoryName = exercise.category_name || 'その他';\n      if (!grouped[categoryName]) {\n        grouped[categoryName] = [];\n      }\n      grouped[categoryName].push(exercise);\n    });\n    return grouped;\n  };\n\n  const handleStartSession = () => {\n    const planToUse = token ? patientPlan : localPatientPlan;\n    \n    if (currentSession) {\n      Alert.alert(\n        '進行中のセッション',\n        'すでに進行中のセッションがあります。継続しますか？',\n        [\n          { text: 'キャンセル', style: 'cancel' },\n          { text: '継続', onPress: () => navigation.navigate('ExerciseSession') },\n        ]\n      );\n      return;\n    }\n\n    if (planToUse.length === 0) {\n      Alert.alert('お知らせ', '現在利用可能な運動メニューがありません。');\n      return;\n    }\n\n    // セッション開始\n    dispatch(startLocalSession({\n      patientId: user.id,\n      phase: currentPhase,\n    }));\n\n    Alert.alert(\n      'セッション開始',\n      `${planToUse.length}個の運動メニューでトレーニングを開始します。`,\n      [\n        { text: 'キャンセル', style: 'cancel' },\n        { text: '開始', onPress: () => navigation.navigate('ExerciseSession') }\n      ]\n    );\n  };\n\n  const handleExercisePress = (exercise) => {\n    Alert.alert(\n      exercise.exercise_name,\n      `詳細: ${exercise.description}\\n\\nセット数: ${exercise.assigned_sets}\\n回数: ${exercise.assigned_reps}\\n難易度: ${getDifficultyLabel(exercise.difficulty_level)}\\n\\n（詳細画面は今後実装予定です）`,\n      [\n        { text: 'OK' }\n      ]\n    );\n  };\n\n  const toggleCategory = (categoryName) => {\n    setExpandedCategories(prev => ({\n      ...prev,\n      [categoryName]: !prev[categoryName]\n    }));\n  };\n\n  const getDifficultyColor = (level) => {\n    const colorMap = {\n      'beginner': '#4CAF50',\n      'intermediate': '#FF9800',\n      'advanced': '#F44336',\n    };\n    return colorMap[level] || '#757575';\n  };\n\n  const getDifficultyLabel = (level) => {\n    const labelMap = {\n      'beginner': '初級',\n      'intermediate': '中級',\n      'advanced': '上級',\n    };\n    return labelMap[level] || level;\n  };\n\n  if (isLoading) {\n    return (\n      <View style={styles.loadingContainer}>\n        <ActivityIndicator size=\"large\" />\n        <Text style={styles.loadingText}>運動メニューを読み込み中...</Text>\n      </View>\n    );\n  }\n\n  if (error) {\n    return (\n      <View style={styles.errorContainer}>\n        <Text style={styles.errorText}>エラーが発生しました</Text>\n        <Text style={styles.errorMessage}>{error}</Text>\n        <Button mode=\"contained\" onPress={() => dispatch(clearError())}>\n          再試行\n        </Button>\n      </View>\n    );\n  }\n\n  const phaseInfo = getPhaseInfo(currentPhase);\n  // APIからのデータまたはダミーデータを使用\n  const currentPlan = token ? patientPlan : localPatientPlan;\n  const groupedExercises = groupExercisesByCategory(currentPlan);\n\n  return (\n    <ScrollView style={styles.container}>\n      {/* フェーズ情報 */}\n      <Card style={styles.phaseCard}>\n        <Card.Content>\n          <View style={styles.phaseHeader}>\n            <Text style={styles.phaseTitle}>現在のリハビリ段階</Text>\n            <Chip\n              mode=\"outlined\"\n              style={[styles.phaseChip, { borderColor: phaseInfo.color }]}\n              textStyle={{ color: phaseInfo.color }}\n            >\n              {phaseInfo.title}\n            </Chip>\n          </View>\n          <Text style={styles.phaseDescription}>{phaseInfo.description}</Text>\n        </Card.Content>\n      </Card>\n\n      {/* セッション開始ボタン */}\n      <Card style={styles.sessionCard}>\n        <Card.Content>\n          <Text style={styles.sessionTitle}>今日のトレーニング</Text>\n          <Text style={styles.sessionDescription}>\n            {currentPlan.length}個の運動メニューが利用可能です\n          </Text>\n          <Button\n            mode=\"contained\"\n            onPress={handleStartSession}\n            style={styles.startButton}\n            disabled={currentPlan.length === 0}\n          >\n            {currentSession ? 'セッションを継続' : 'セッションを開始'}\n          </Button>\n        </Card.Content>\n      </Card>\n\n      {/* 運動メニュー一覧 */}\n      {Object.keys(groupedExercises).length > 0 ? (\n        Object.entries(groupedExercises).map(([categoryName, exercises]) => (\n          <Card key={categoryName} style={styles.categoryCard}>\n            <List.Section>\n              <List.Subheader style={styles.categoryHeader}>\n                <View style={styles.categoryHeaderContent}>\n                  <Text style={styles.categoryTitle}>{categoryName}</Text>\n                  <Badge size={24}>{exercises.length}</Badge>\n                </View>\n              </List.Subheader>\n              <Divider />\n              {exercises.map((exercise, index) => (\n                <List.Item\n                  key={exercise.id}\n                  title={exercise.exercise_name}\n                  description={`${exercise.assigned_sets}セット × ${exercise.assigned_reps}回`}\n                  left={() => (\n                    <View style={styles.exerciseIcon}>\n                      <IconButton\n                        icon={exercise.requires_ai_analysis ? \"camera\" : \"dumbbell\"}\n                        size={24}\n                        iconColor={phaseInfo.color}\n                      />\n                    </View>\n                  )}\n                  right={() => (\n                    <View style={styles.exerciseInfo}>\n                      <Chip\n                        mode=\"outlined\"\n                        compact\n                        style={[\n                          styles.difficultyChip,\n                          { borderColor: getDifficultyColor(exercise.difficulty_level) }\n                        ]}\n                        textStyle={{ \n                          color: getDifficultyColor(exercise.difficulty_level),\n                          fontSize: 10\n                        }}\n                      >\n                        {getDifficultyLabel(exercise.difficulty_level)}\n                      </Chip>\n                      {exercise.is_completed && (\n                        <IconButton\n                          icon=\"check-circle\"\n                          size={20}\n                          iconColor=\"#4CAF50\"\n                          style={styles.completedIcon}\n                        />\n                      )}\n                    </View>\n                  )}\n                  onPress={() => handleExercisePress(exercise)}\n                  style={styles.exerciseItem}\n                />\n              ))}\n            </List.Section>\n          </Card>\n        ))\n      ) : (\n        <Card style={styles.emptyCard}>\n          <Card.Content>\n            <Text style={styles.emptyTitle}>運動メニューがありません</Text>\n            <Text style={styles.emptyDescription}>\n              現在利用可能な運動メニューがありません。\n              医療従事者にご相談ください。\n            </Text>\n          </Card.Content>\n        </Card>\n      )}\n    </ScrollView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f5f5f5',\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#f5f5f5',\n  },\n  loadingText: {\n    marginTop: 16,\n    fontSize: 16,\n    color: '#666',\n  },\n  errorContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: '#f5f5f5',\n    padding: 20,\n  },\n  errorText: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    color: '#F44336',\n    marginBottom: 8,\n  },\n  errorMessage: {\n    fontSize: 14,\n    color: '#666',\n    textAlign: 'center',\n    marginBottom: 20,\n  },\n  phaseCard: {\n    margin: 16,\n    elevation: 2,\n  },\n  phaseHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 8,\n  },\n  phaseTitle: {\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  phaseChip: {\n    borderWidth: 1,\n  },\n  phaseDescription: {\n    fontSize: 14,\n    color: '#666',\n  },\n  sessionCard: {\n    margin: 16,\n    marginTop: 8,\n    elevation: 2,\n  },\n  sessionTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 8,\n  },\n  sessionDescription: {\n    fontSize: 14,\n    color: '#666',\n    marginBottom: 16,\n  },\n  startButton: {\n    borderRadius: 8,\n  },\n  categoryCard: {\n    margin: 16,\n    marginTop: 8,\n    elevation: 2,\n  },\n  categoryHeader: {\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n  },\n  categoryHeaderContent: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    width: '100%',\n  },\n  categoryTitle: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#333',\n  },\n  exerciseItem: {\n    paddingHorizontal: 16,\n    paddingVertical: 8,\n  },\n  exerciseIcon: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginRight: 8,\n  },\n  exerciseInfo: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  difficultyChip: {\n    borderWidth: 1,\n    marginRight: 4,\n  },\n  completedIcon: {\n    margin: 0,\n  },\n  emptyCard: {\n    margin: 16,\n    elevation: 2,\n  },\n  emptyTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    textAlign: 'center',\n    marginBottom: 8,\n  },\n  emptyDescription: {\n    fontSize: 14,\n    color: '#666',\n    textAlign: 'center',\n    lineHeight: 20,\n  },\n});\n\nexport default ExerciseMenuScreen;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}